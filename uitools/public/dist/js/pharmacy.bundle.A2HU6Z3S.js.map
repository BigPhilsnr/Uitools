{
  "version": 3,
  "sources": ["../../../../../apps/frontend/frontend/public/js/pharmacy/components/util/paginate.js", "../../../../../apps/frontend/node_modules/moment/moment.js", "../../../../../apps/frontend/node_modules/vuex/dist/vuex.common.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/sidebar/SidebarItem.vue", "../../../../../apps/frontend/frontend/public/js/services/pharmacy/prescriptions.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-warehouse/state.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-warehouse/mutations.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-warehouse/actions.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-warehouse/getters.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-warehouse/index.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/sidebar/WarehouseSelect.vue", "../../../../../apps/frontend/frontend/public/js/patient/components/SearchInput.vue", "../../../../../apps/frontend/frontend/public/js/services/pharmacy/queue.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/sidebar/Sidebar.vue", "../../../../../apps/frontend/frontend/public/js/pharmacy/utils.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/util/Paginator.vue", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/container/PatientInfo.vue", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-stock/state.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-stock/mutations.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-stock/actions.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-stock/getters.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-stock/index.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/container/UserPrescription.vue", "../../../../../apps/frontend/frontend/public/js/services/patient_chart/accounts.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/container/SalesOrder.vue", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/container/Invoice.vue", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/container/Refills.vue", "../../../../../apps/frontend/frontend/public/js/services/patient_chart/api.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/container/AddPrescription.vue", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/container/AwaitingDispense.vue", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-customer/state.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-customer/mutations.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-customer/actions.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-customer/getters.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-customer/index.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-prescription/state.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-prescription/mutations.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-prescription/actions.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-prescription/getters.js", "../../../../../apps/frontend/frontend/public/js/state/pharmacy-prescription/index.js", "../../../../../apps/frontend/frontend/public/js/services/accounts/patient.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/container/Container.vue", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/container/InpatientPrescriptions.vue", "../../../../../apps/frontend/frontend/public/js/state/notification/moduleNotificationState.js", "../../../../../apps/frontend/frontend/public/js/state/notification/moduleNotificationMutations.js", "../../../../../apps/frontend/frontend/public/js/services/patient/patient.js", "../../../../../apps/frontend/frontend/public/js/services/notification/notification.js", "../../../../../apps/frontend/frontend/public/js/state/notification/moduleNotificationActions.js", "../../../../../apps/frontend/frontend/public/js/state/notification/moduleNotificationGetters.js", "../../../../../apps/frontend/frontend/public/js/state/notification/moduleNotification.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/TopHeader.vue", "../../../../../apps/frontend/frontend/public/js/services/stock/material-request.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/material-request/OutgoingRequest.vue", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/container/PendingMedicationOrders.vue", "../../../../../apps/frontend/frontend/public/js/state/socket/moduleSocketState.js", "../../../../../apps/frontend/frontend/public/js/state/socket/moduleSocketMutations.js", "../../../../../apps/frontend/frontend/public/js/state/socket/moduleSocketActions.js", "../../../../../apps/frontend/frontend/public/js/state/socket/moduleSocketGetters.js", "../../../../../apps/frontend/frontend/public/js/state/socket/moduleSocket.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/components/core/Main.vue", "../../../../../apps/frontend/node_modules/vuex/dist/vuex.mjs", "../../../../../apps/frontend/frontend/public/js/state/state.js", "../../../../../apps/frontend/frontend/public/js/state/getters.js", "../../../../../apps/frontend/frontend/public/js/state/mutations.js", "../../../../../apps/frontend/frontend/public/js/state/actions.js", "../../../../../apps/frontend/frontend/public/js/state/patient/modulePatientState.js", "../../../../../apps/frontend/frontend/public/js/state/patient/modulePatientMutations.js", "../../../../../apps/frontend/frontend/public/js/state/patient/modulePatientActions.js", "../../../../../apps/frontend/frontend/public/js/state/patient/modulePatientGetters.js", "../../../../../apps/frontend/frontend/public/js/state/patient/modulePatient.js", "../../../../../apps/frontend/frontend/public/js/state/clinical_procedures/procedureState.js", "../../../../../apps/frontend/frontend/public/js/state/clinical_procedures/procedureMutations.js", "../../../../../apps/frontend/frontend/public/js/services/clinical_procedures/clinical_procedures.js", "../../../../../apps/frontend/frontend/public/js/state/clinical_procedures/procedureActions.js", "../../../../../apps/frontend/frontend/public/js/state/clinical_procedures/procedureGetters.js", "../../../../../apps/frontend/frontend/public/js/state/clinical_procedures/procedures.js", "../../../../../apps/frontend/frontend/public/js/state/serviceUnit/moduleServiceUnitState.js", "../../../../../apps/frontend/frontend/public/js/state/serviceUnit/moduleServiceUnitMutations.js", "../../../../../apps/frontend/frontend/public/js/state/serviceUnit/moduleServiceUnitActions.js", "../../../../../apps/frontend/frontend/public/js/state/serviceUnit/moduleServiceUnitGetters.js", "../../../../../apps/frontend/frontend/public/js/state/serviceUnit/moduleServiceUnit.js", "../../../../../apps/frontend/frontend/public/js/state/servicePoint/moduleServicePointState.js", "../../../../../apps/frontend/frontend/public/js/state/servicePoint/moduleServicePointMutations.js", "../../../../../apps/frontend/frontend/public/js/state/servicePoint/moduleServicePointActions.js", "../../../../../apps/frontend/frontend/public/js/state/servicePoint/moduleServicePointGetters.js", "../../../../../apps/frontend/frontend/public/js/state/servicePoint/moduleServicePoint.js", "../../../../../apps/frontend/frontend/public/js/state/supplier/moduleSupplierState.js", "../../../../../apps/frontend/frontend/public/js/state/supplier/moduleSupplierMutations.js", "../../../../../apps/frontend/frontend/public/js/state/supplier/moduleSupplierActions.js", "../../../../../apps/frontend/frontend/public/js/state/supplier/moduleSupplierGetters.js", "../../../../../apps/frontend/frontend/public/js/state/supplier/moduleSupplier.js", "../../../../../apps/frontend/frontend/public/js/state/render/state.js", "../../../../../apps/frontend/frontend/public/js/state/render/getters.js", "../../../../../apps/frontend/frontend/public/js/state/render/mutations.js", "../../../../../apps/frontend/frontend/public/js/state/render/actions.js", "../../../../../apps/frontend/frontend/public/js/state/render/module.js", "../../../../../apps/frontend/frontend/public/js/state/accounts/state.js", "../../../../../apps/frontend/frontend/public/js/state/accounts/mutations.js", "../../../../../apps/frontend/frontend/public/js/state/accounts/actions.js", "../../../../../apps/frontend/frontend/public/js/state/accounts/getters.js", "../../../../../apps/frontend/frontend/public/js/state/accounts/index.js", "../../../../../apps/frontend/frontend/public/js/state/context/state.js", "../../../../../apps/frontend/frontend/public/js/state/context/mutations.js", "../../../../../apps/frontend/frontend/public/js/state/context/actions.js", "../../../../../apps/frontend/frontend/public/js/state/context/getters.js", "../../../../../apps/frontend/frontend/public/js/state/context/index.js", "../../../../../apps/frontend/frontend/public/js/state/patient-encounter/state.js", "../../../../../apps/frontend/frontend/public/js/state/patient-encounter/getters.js", "../../../../../apps/frontend/frontend/public/js/state/patient-encounter/mutations.js", "../../../../../apps/frontend/frontend/public/js/state/patient-encounter/actions.js", "../../../../../apps/frontend/frontend/public/js/state/patient-encounter/module.js", "../../../../../apps/frontend/frontend/public/js/state/patient_appointments/state.js", "../../../../../apps/frontend/frontend/public/js/state/patient_appointments/getters.js", "../../../../../apps/frontend/frontend/public/js/state/patient_appointments/mutations.js", "../../../../../apps/frontend/frontend/public/js/state/patient_appointments/actions.js", "../../../../../apps/frontend/frontend/public/js/state/patient_appointments/module.js", "../../../../../apps/frontend/frontend/public/js/state/store.js", "../../../../../apps/frontend/frontend/public/js/pharmacy/pharmacy.bundle.js"],
  "sourcesContent": ["const paginate = function(\n    totalItems,\n    currentPage = 1,\n    pageSize = 10,\n    maxPages = 10\n) {\n    // calculate total pages\n    let totalPages = Math.ceil(totalItems / pageSize);\n\n    // ensure current page isn't out of range\n    if (currentPage < 1) {\n        currentPage = 1;\n    } else if (currentPage > totalPages) {\n        currentPage = totalPages;\n    }\n\n    let startPage, endPage;\n    if (totalPages <= maxPages) {\n        // total pages less than max so show all pages\n        startPage = 1;\n        endPage = totalPages;\n    } else {\n        // total pages more than max so calculate start and end pages\n        let maxPagesBeforeCurrentPage = Math.floor(maxPages / 2);\n        let maxPagesAfterCurrentPage = Math.ceil(maxPages / 2) - 1;\n        if (currentPage <= maxPagesBeforeCurrentPage) {\n            // current page near the start\n            startPage = 1;\n            endPage = maxPages;\n        } else if (currentPage + maxPagesAfterCurrentPage >= totalPages) {\n            // current page near the end\n            startPage = totalPages - maxPages + 1;\n            endPage = totalPages;\n        } else {\n            // current page somewhere in the middle\n            startPage = currentPage - maxPagesBeforeCurrentPage;\n            endPage = currentPage + maxPagesAfterCurrentPage;\n        }\n    }\n\n    // calculate start and end item indexes\n    let startIndex = (currentPage - 1) * pageSize;\n    let endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\n\n    // create an array of pages to ng-repeat in the pager control\n    let pages = Array.from(Array((endPage + 1) - startPage).keys()).map(i => startPage + i);\n\n    // return object with all pager properties required by the view\n    return {\n        totalItems: totalItems,\n        currentPage: currentPage,\n        pageSize: pageSize,\n        totalPages: totalPages,\n        startPage: startPage,\n        endPage: endPage,\n        startIndex: startIndex,\n        endIndex: endIndex,\n        pages: pages\n    };\n}\n\nmodule.exports = paginate;", "//! moment.js\n//! version : 2.29.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks() {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback(callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return (\n            input instanceof Array ||\n            Object.prototype.toString.call(input) === '[object Array]'\n        );\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return (\n            input != null &&\n            Object.prototype.toString.call(input) === '[object Object]'\n        );\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return Object.getOwnPropertyNames(obj).length === 0;\n        } else {\n            var k;\n            for (k in obj) {\n                if (hasOwnProp(obj, k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return (\n            typeof input === 'number' ||\n            Object.prototype.toString.call(input) === '[object Number]'\n        );\n    }\n\n    function isDate(input) {\n        return (\n            input instanceof Date ||\n            Object.prototype.toString.call(input) === '[object Date]'\n        );\n    }\n\n    function map(arr, fn) {\n        var res = [],\n            i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty: false,\n            unusedTokens: [],\n            unusedInput: [],\n            overflow: -2,\n            charsLeftOver: 0,\n            nullInput: false,\n            invalidEra: null,\n            invalidMonth: null,\n            invalidFormat: false,\n            userInvalidated: false,\n            iso: false,\n            parsedDateParts: [],\n            era: null,\n            meridiem: null,\n            rfc2822: false,\n            weekdayMismatch: false,\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this),\n                len = t.length >>> 0,\n                i;\n\n            for (i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m),\n                parsedParts = some.call(flags.parsedDateParts, function (i) {\n                    return i != null;\n                }),\n                isNowValid =\n                    !isNaN(m._d.getTime()) &&\n                    flags.overflow < 0 &&\n                    !flags.empty &&\n                    !flags.invalidEra &&\n                    !flags.invalidMonth &&\n                    !flags.invalidWeekday &&\n                    !flags.weekdayMismatch &&\n                    !flags.nullInput &&\n                    !flags.invalidFormat &&\n                    !flags.userInvalidated &&\n                    (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid =\n                    isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            } else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid(flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        } else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = (hooks.momentProperties = []),\n        updateInProgress = false;\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i = 0; i < momentProperties.length; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment(obj) {\n        return (\n            obj instanceof Moment || (obj != null && obj._isAMomentObject != null)\n        );\n    }\n\n    function warn(msg) {\n        if (\n            hooks.suppressDeprecationWarnings === false &&\n            typeof console !== 'undefined' &&\n            console.warn\n        ) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [],\n                    arg,\n                    i,\n                    key;\n                for (i = 0; i < arguments.length; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (key in arguments[0]) {\n                            if (hasOwnProp(arguments[0], key)) {\n                                arg += key + ': ' + arguments[0][key] + ', ';\n                            }\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(\n                    msg +\n                        '\\nArguments: ' +\n                        Array.prototype.slice.call(args).join('') +\n                        '\\n' +\n                        new Error().stack\n                );\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return (\n            (typeof Function !== 'undefined' && input instanceof Function) ||\n            Object.prototype.toString.call(input) === '[object Function]'\n        );\n    }\n\n    function set(config) {\n        var prop, i;\n        for (i in config) {\n            if (hasOwnProp(config, i)) {\n                prop = config[i];\n                if (isFunction(prop)) {\n                    this[i] = prop;\n                } else {\n                    this['_' + i] = prop;\n                }\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' +\n                /\\d{1,2}/.source\n        );\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig),\n            prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (\n                hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])\n            ) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i,\n                res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay: '[Today at] LT',\n        nextDay: '[Tomorrow at] LT',\n        nextWeek: 'dddd [at] LT',\n        lastDay: '[Yesterday at] LT',\n        lastWeek: '[Last] dddd [at] LT',\n        sameElse: 'L',\n    };\n\n    function calendar(key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (\n            (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) +\n            absNumber\n        );\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,\n        localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,\n        formatFunctions = {},\n        formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken(token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(\n                    func.apply(this, arguments),\n                    token\n                );\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens),\n            i,\n            length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '',\n                i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i])\n                    ? array[i].call(mom, format)\n                    : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] =\n            formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(\n                localFormattingTokens,\n                replaceLongDateFormatTokens\n            );\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var defaultLongDateFormat = {\n        LTS: 'h:mm:ss A',\n        LT: 'h:mm A',\n        L: 'MM/DD/YYYY',\n        LL: 'MMMM D, YYYY',\n        LLL: 'MMMM D, YYYY h:mm A',\n        LLLL: 'dddd, MMMM D, YYYY h:mm A',\n    };\n\n    function longDateFormat(key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper\n            .match(formattingTokens)\n            .map(function (tok) {\n                if (\n                    tok === 'MMMM' ||\n                    tok === 'MM' ||\n                    tok === 'DD' ||\n                    tok === 'dddd'\n                ) {\n                    return tok.slice(1);\n                }\n                return tok;\n            })\n            .join('');\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate() {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d',\n        defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal(number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future: 'in %s',\n        past: '%s ago',\n        s: 'a few seconds',\n        ss: '%d seconds',\n        m: 'a minute',\n        mm: '%d minutes',\n        h: 'an hour',\n        hh: '%d hours',\n        d: 'a day',\n        dd: '%d days',\n        w: 'a week',\n        ww: '%d weeks',\n        M: 'a month',\n        MM: '%d months',\n        y: 'a year',\n        yy: '%d years',\n    };\n\n    function relativeTime(number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return isFunction(output)\n            ? output(number, withoutSuffix, string, isFuture)\n            : output.replace(/%d/i, number);\n    }\n\n    function pastFuture(diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias(unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string'\n            ? aliases[units] || aliases[units.toLowerCase()]\n            : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [],\n            u;\n        for (u in unitsObj) {\n            if (hasOwnProp(unitsObj, u)) {\n                units.push({ unit: u, priority: priorities[u] });\n            }\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    function absFloor(number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function makeGetSet(unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get(mom, unit) {\n        return mom.isValid()\n            ? mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]()\n            : NaN;\n    }\n\n    function set$1(mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (\n                unit === 'FullYear' &&\n                isLeapYear(mom.year()) &&\n                mom.month() === 1 &&\n                mom.date() === 29\n            ) {\n                value = toInt(value);\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](\n                    value,\n                    mom.month(),\n                    daysInMonth(value, mom.month())\n                );\n            } else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet(units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n    function stringSet(units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units),\n                i;\n            for (i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    var match1 = /\\d/, //       0 - 9\n        match2 = /\\d\\d/, //      00 - 99\n        match3 = /\\d{3}/, //     000 - 999\n        match4 = /\\d{4}/, //    0000 - 9999\n        match6 = /[+-]?\\d{6}/, // -999999 - 999999\n        match1to2 = /\\d\\d?/, //       0 - 99\n        match3to4 = /\\d\\d\\d\\d?/, //     999 - 9999\n        match5to6 = /\\d\\d\\d\\d\\d\\d?/, //   99999 - 999999\n        match1to3 = /\\d{1,3}/, //       0 - 999\n        match1to4 = /\\d{1,4}/, //       0 - 9999\n        match1to6 = /[+-]?\\d{1,6}/, // -999999 - 999999\n        matchUnsigned = /\\d+/, //       0 - inf\n        matchSigned = /[+-]?\\d+/, //    -inf - inf\n        matchOffset = /Z|[+-]\\d\\d:?\\d\\d/gi, // +00:00 -00:00 +0000 -0000 or Z\n        matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi, // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n        matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/, // 123456789 123456789.123\n        // any word (or two) characters or numbers including two/three word month in arabic.\n        // includes scottish gaelic two word and hyphenated months\n        matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,\n        regexes;\n\n    regexes = {};\n\n    function addRegexToken(token, regex, strictRegex) {\n        regexes[token] = isFunction(regex)\n            ? regex\n            : function (isStrict, localeData) {\n                  return isStrict && strictRegex ? strictRegex : regex;\n              };\n    }\n\n    function getParseRegexForToken(token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(\n            s\n                .replace('\\\\', '')\n                .replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (\n                    matched,\n                    p1,\n                    p2,\n                    p3,\n                    p4\n                ) {\n                    return p1 || p2 || p3 || p4;\n                })\n        );\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken(token, callback) {\n        var i,\n            func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken(token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0,\n        MONTH = 1,\n        DATE = 2,\n        HOUR = 3,\n        MINUTE = 4,\n        SECOND = 5,\n        MILLISECOND = 6,\n        WEEK = 7,\n        WEEKDAY = 8;\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1\n            ? isLeapYear(year)\n                ? 29\n                : 28\n            : 31 - ((modMonth % 7) % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M', match1to2);\n    addRegexToken('MM', match1to2, match2);\n    addRegexToken('MMM', function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split(\n            '_'\n        ),\n        defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split(\n            '_'\n        ),\n        MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,\n        defaultMonthsShortRegex = matchWord,\n        defaultMonthsRegex = matchWord;\n\n    function localeMonths(m, format) {\n        if (!m) {\n            return isArray(this._months)\n                ? this._months\n                : this._months['standalone'];\n        }\n        return isArray(this._months)\n            ? this._months[m.month()]\n            : this._months[\n                  (this._months.isFormat || MONTHS_IN_FORMAT).test(format)\n                      ? 'format'\n                      : 'standalone'\n              ][m.month()];\n    }\n\n    function localeMonthsShort(m, format) {\n        if (!m) {\n            return isArray(this._monthsShort)\n                ? this._monthsShort\n                : this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort)\n            ? this._monthsShort[m.month()]\n            : this._monthsShort[\n                  MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'\n              ][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse(monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp(\n                    '^' + this.months(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n                this._shortMonthsParse[i] = new RegExp(\n                    '^' + this.monthsShort(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex =\n                    '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'MMMM' &&\n                this._longMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'MMM' &&\n                this._shortMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth(mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth(value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth() {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    function monthsShortRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict\n                ? this._monthsShortStrictRegex\n                : this._monthsShortRegex;\n        }\n    }\n\n    function monthsRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict\n                ? this._monthsStrictRegex\n                : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._monthsShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? zeroFill(y, 4) : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY', 4], 0, 'year');\n    addFormatToken(0, ['YYYYY', 5], 0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y', matchSigned);\n    addRegexToken('YY', match1to2, match2);\n    addRegexToken('YYYY', match1to4, match4);\n    addRegexToken('YYYYY', match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] =\n            input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear() {\n        return isLeapYear(this.year());\n    }\n\n    function createDate(y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate(y) {\n        var date, args;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear,\n            resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear,\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek,\n            resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear,\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w', match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W', match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (\n        input,\n        week,\n        config,\n        token\n    ) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek(mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow: 0, // Sunday is the first day of the week.\n        doy: 6, // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek() {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear() {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek(input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek(input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d', match1to2);\n    addRegexToken('e', match1to2);\n    addRegexToken('E', match1to2);\n    addRegexToken('dd', function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd', function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd', function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays(ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split(\n            '_'\n        ),\n        defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        defaultWeekdaysRegex = matchWord,\n        defaultWeekdaysShortRegex = matchWord,\n        defaultWeekdaysMinRegex = matchWord;\n\n    function localeWeekdays(m, format) {\n        var weekdays = isArray(this._weekdays)\n            ? this._weekdays\n            : this._weekdays[\n                  m && m !== true && this._weekdays.isFormat.test(format)\n                      ? 'format'\n                      : 'standalone'\n              ];\n        return m === true\n            ? shiftWeekdays(weekdays, this._week.dow)\n            : m\n            ? weekdays[m.day()]\n            : weekdays;\n    }\n\n    function localeWeekdaysShort(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : m\n            ? this._weekdaysShort[m.day()]\n            : this._weekdaysShort;\n    }\n\n    function localeWeekdaysMin(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : m\n            ? this._weekdaysMin[m.day()]\n            : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse(weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._shortWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._minWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n            }\n            if (!this._weekdaysParse[i]) {\n                regex =\n                    '^' +\n                    this.weekdays(mom, '') +\n                    '|^' +\n                    this.weekdaysShort(mom, '') +\n                    '|^' +\n                    this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'dddd' &&\n                this._fullWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'ddd' &&\n                this._shortWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'dd' &&\n                this._minWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    function weekdaysRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict\n                ? this._weekdaysStrictRegex\n                : this._weekdaysRegex;\n        }\n    }\n\n    function weekdaysShortRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict\n                ? this._weekdaysShortStrictRegex\n                : this._weekdaysShortRegex;\n        }\n    }\n\n    function weekdaysMinRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict\n                ? this._weekdaysMinStrictRegex\n                : this._weekdaysMinRegex;\n        }\n    }\n\n    function computeWeekdaysParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [],\n            shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom,\n            minp,\n            shortp,\n            longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = regexEscape(this.weekdaysMin(mom, ''));\n            shortp = regexEscape(this.weekdaysShort(mom, ''));\n            longp = regexEscape(this.weekdays(mom, ''));\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysMinStrictRegex = new RegExp(\n            '^(' + minPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return (\n            '' +\n            hFormat.apply(this) +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return (\n            '' +\n            this.hours() +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    function meridiem(token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(\n                this.hours(),\n                this.minutes(),\n                lowercase\n            );\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem(isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a', matchMeridiem);\n    addRegexToken('A', matchMeridiem);\n    addRegexToken('H', match1to2);\n    addRegexToken('h', match1to2);\n    addRegexToken('k', match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM(input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return (input + '').toLowerCase().charAt(0) === 'p';\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i,\n        // Setting the hour should keep the time, because the user explicitly\n        // specified which hour they want. So trying to maintain the same hour (in\n        // a new timezone) makes sense. Adding/subtracting hours does not follow\n        // this rule.\n        getSetHour = makeGetSet('Hours', true);\n\n    function localeMeridiem(hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse,\n    };\n\n    // internal storage for locale config files\n    var locales = {},\n        localeFamilies = {},\n        globalLocale;\n\n    function commonPrefix(arr1, arr2) {\n        var i,\n            minl = Math.min(arr1.length, arr2.length);\n        for (i = 0; i < minl; i += 1) {\n            if (arr1[i] !== arr2[i]) {\n                return i;\n            }\n        }\n        return minl;\n    }\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0,\n            j,\n            next,\n            locale,\n            split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (\n                    next &&\n                    next.length >= j &&\n                    commonPrefix(split, next) >= j - 1\n                ) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null,\n            aliasedRequire;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (\n            locales[name] === undefined &&\n            typeof module !== 'undefined' &&\n            module &&\n            module.exports\n        ) {\n            try {\n                oldLocale = globalLocale._abbr;\n                aliasedRequire = require;\n                aliasedRequire('./locale/' + name);\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {\n                // mark as not found to avoid repeating expensive file require call causing high CPU\n                // when trying to find en-US, en_US, en-us for every format call\n                locales[name] = null; // null means not found\n            }\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale(key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            } else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            } else {\n                if (typeof console !== 'undefined' && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn(\n                        'Locale ' + key + ' not found. Did you forget to load it?'\n                    );\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale(name, config) {\n        if (config !== null) {\n            var locale,\n                parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple(\n                    'defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'\n                );\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config,\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale,\n                tmpLocale,\n                parentConfig = baseConfig;\n\n            if (locales[name] != null && locales[name].parentLocale != null) {\n                // Update existing child locale in-place to avoid memory-leaks\n                locales[name].set(mergeConfigs(locales[name]._config, config));\n            } else {\n                // MERGE\n                tmpLocale = loadLocale(name);\n                if (tmpLocale != null) {\n                    parentConfig = tmpLocale._config;\n                }\n                config = mergeConfigs(parentConfig, config);\n                if (tmpLocale == null) {\n                    // updateLocale is called for creating a new locale\n                    // Set abbr so it will have a name (getters return\n                    // undefined otherwise).\n                    config.abbr = name;\n                }\n                locale = new Locale(config);\n                locale.parentLocale = locales[name];\n                locales[name] = locale;\n            }\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                    if (name === getSetGlobalLocale()) {\n                        getSetGlobalLocale(name);\n                    }\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale(key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow(m) {\n        var overflow,\n            a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH] < 0 || a[MONTH] > 11\n                    ? MONTH\n                    : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH])\n                    ? DATE\n                    : a[HOUR] < 0 ||\n                      a[HOUR] > 24 ||\n                      (a[HOUR] === 24 &&\n                          (a[MINUTE] !== 0 ||\n                              a[SECOND] !== 0 ||\n                              a[MILLISECOND] !== 0))\n                    ? HOUR\n                    : a[MINUTE] < 0 || a[MINUTE] > 59\n                    ? MINUTE\n                    : a[SECOND] < 0 || a[SECOND] > 59\n                    ? SECOND\n                    : a[MILLISECOND] < 0 || a[MILLISECOND] > 999\n                    ? MILLISECOND\n                    : -1;\n\n            if (\n                getParsingFlags(m)._overflowDayOfYear &&\n                (overflow < YEAR || overflow > DATE)\n            ) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/,\n        isoDates = [\n            ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n            ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n            ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n            ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n            ['YYYY-DDD', /\\d{4}-\\d{3}/],\n            ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n            ['YYYYYYMMDD', /[+-]\\d{10}/],\n            ['YYYYMMDD', /\\d{8}/],\n            ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n            ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n            ['YYYYDDD', /\\d{7}/],\n            ['YYYYMM', /\\d{6}/, false],\n            ['YYYY', /\\d{4}/, false],\n        ],\n        // iso time formats and regexes\n        isoTimes = [\n            ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n            ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n            ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n            ['HH:mm', /\\d\\d:\\d\\d/],\n            ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n            ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n            ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n            ['HHmm', /\\d\\d\\d\\d/],\n            ['HH', /\\d\\d/],\n        ],\n        aspNetJsonRegex = /^\\/?Date\\((-?\\d+)/i,\n        // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n        rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,\n        obsOffsets = {\n            UT: 0,\n            GMT: 0,\n            EDT: -4 * 60,\n            EST: -5 * 60,\n            CDT: -5 * 60,\n            CST: -6 * 60,\n            MDT: -6 * 60,\n            MST: -7 * 60,\n            PDT: -7 * 60,\n            PST: -8 * 60,\n        };\n\n    // date from iso format\n    function configFromISO(config) {\n        var i,\n            l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime,\n            dateFormat,\n            timeFormat,\n            tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    function extractFromRFC2822Strings(\n        yearStr,\n        monthStr,\n        dayStr,\n        hourStr,\n        minuteStr,\n        secondStr\n    ) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10),\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s\n            .replace(/\\([^)]*\\)|[\\n\\t]/g, ' ')\n            .replace(/(\\s\\s+)/g, ' ')\n            .replace(/^\\s\\s*/, '')\n            .replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an independent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(\n                    parsedInput[0],\n                    parsedInput[1],\n                    parsedInput[2]\n                ).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10),\n                m = hm % 100,\n                h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i)),\n            parsedArray;\n        if (match) {\n            parsedArray = extractFromRFC2822Strings(\n                match[4],\n                match[3],\n                match[2],\n                match[5],\n                match[6],\n                match[7]\n            );\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from 1) ASP.NET, 2) ISO, 3) RFC 2822 formats, or 4) optional fallback if parsing isn't strict\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        if (config._strict) {\n            config._isValid = false;\n        } else {\n            // Final attempt, use Input Fallback\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n            'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n            'discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [\n                nowValue.getUTCFullYear(),\n                nowValue.getUTCMonth(),\n                nowValue.getUTCDate(),\n            ];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray(config) {\n        var i,\n            date,\n            input = [],\n            currentDate,\n            expectedWeekday,\n            yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (\n                config._dayOfYear > daysInYear(yearToUse) ||\n                config._dayOfYear === 0\n            ) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] =\n                config._a[i] == null ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (\n            config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0\n        ) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(\n            null,\n            input\n        );\n        expectedWeekday = config._useUTC\n            ? config._d.getUTCDay()\n            : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (\n            config._w &&\n            typeof config._w.d !== 'undefined' &&\n            config._w.d !== expectedWeekday\n        ) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(\n                w.GG,\n                config._a[YEAR],\n                weekOfYear(createLocal(), 1, 4).year\n            );\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i,\n            parsedInput,\n            tokens,\n            token,\n            skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0,\n            era;\n\n        tokens =\n            expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) ||\n                [])[0];\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(\n                    string.indexOf(parsedInput) + parsedInput.length\n                );\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                } else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            } else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver =\n            stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (\n            config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0\n        ) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(\n            config._locale,\n            config._a[HOUR],\n            config._meridiem\n        );\n\n        // handle era\n        era = getParsingFlags(config).era;\n        if (era !== null) {\n            config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);\n        }\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n    function meridiemFixWrap(locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n            scoreToBeat,\n            i,\n            currentScore,\n            validFormatFound,\n            bestFormatIsValid = false;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            validFormatFound = false;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (isValid(tempConfig)) {\n                validFormatFound = true;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (!bestFormatIsValid) {\n                if (\n                    scoreToBeat == null ||\n                    currentScore < scoreToBeat ||\n                    validFormatFound\n                ) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                    if (validFormatFound) {\n                        bestFormatIsValid = true;\n                    }\n                }\n            } else {\n                if (currentScore < scoreToBeat) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                }\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i),\n            dayOrDate = i.day === undefined ? i.date : i.day;\n        config._a = map(\n            [i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond],\n            function (obj) {\n                return obj && parseInt(obj, 10);\n            }\n        );\n\n        configFromArray(config);\n    }\n\n    function createFromConfig(config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig(config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({ nullInput: true });\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        } else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC(input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (format === true || format === false) {\n            strict = format;\n            format = undefined;\n        }\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if (\n            (isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)\n        ) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n            'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other < this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        ),\n        prototypeMax = deprecate(\n            'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other > this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +new Date();\n    };\n\n    var ordering = [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second',\n        'millisecond',\n    ];\n\n    function isDurationValid(m) {\n        var key,\n            unitHasDecimal = false,\n            i;\n        for (key in m) {\n            if (\n                hasOwnProp(m, key) &&\n                !(\n                    indexOf.call(ordering, key) !== -1 &&\n                    (m[key] == null || !isNaN(m[key]))\n                )\n            ) {\n                return false;\n            }\n        }\n\n        for (i = 0; i < ordering.length; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration(duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds =\n            +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days + weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months + quarters * 3 + years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration(obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if (\n                (dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))\n            ) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    // FORMATTING\n\n    function offset(token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset(),\n                sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return (\n                sign +\n                zeroFill(~~(offset / 60), 2) +\n                separator +\n                zeroFill(~~offset % 60, 2)\n            );\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z', matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher),\n            chunk,\n            parts,\n            minutes;\n\n        if (matches === null) {\n            return null;\n        }\n\n        chunk = matches[matches.length - 1] || [];\n        parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff =\n                (isMoment(input) || isDate(input)\n                    ? input.valueOf()\n                    : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset(m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset());\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset(input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(\n                        this,\n                        createDuration(input - offset, 'm'),\n                        1,\n                        false\n                    );\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone(input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC(keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal(keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset() {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            } else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset(input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime() {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted() {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {},\n            other;\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted =\n                this.isValid() && compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal() {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset() {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc() {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,\n        // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n        // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n        // and further modified to allow for strings containing both week and day\n        isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration(input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms: input._milliseconds,\n                d: input._days,\n                M: input._months,\n            };\n        } else if (isNumber(input) || !isNaN(+input)) {\n            duration = {};\n            if (key) {\n                duration[key] = +input;\n            } else {\n                duration.milliseconds = +input;\n            }\n        } else if ((match = aspNetRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: 0,\n                d: toInt(match[DATE]) * sign,\n                h: toInt(match[HOUR]) * sign,\n                m: toInt(match[MINUTE]) * sign,\n                s: toInt(match[SECOND]) * sign,\n                ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign, // the millisecond decimal point is included in the match\n            };\n        } else if ((match = isoRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: parseIso(match[2], sign),\n                M: parseIso(match[3], sign),\n                w: parseIso(match[4], sign),\n                d: parseIso(match[5], sign),\n                h: parseIso(match[6], sign),\n                m: parseIso(match[7], sign),\n                s: parseIso(match[8], sign),\n            };\n        } else if (duration == null) {\n            // checks for null or undefined\n            duration = {};\n        } else if (\n            typeof duration === 'object' &&\n            ('from' in duration || 'to' in duration)\n        ) {\n            diffRes = momentsDifference(\n                createLocal(duration.from),\n                createLocal(duration.to)\n            );\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        if (isDuration(input) && hasOwnProp(input, '_isValid')) {\n            ret._isValid = input._isValid;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso(inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months =\n            other.month() - base.month() + (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +base.clone().add(res.months, 'M');\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return { milliseconds: 0, months: 0 };\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(\n                    name,\n                    'moment().' +\n                        name +\n                        '(period, number) is deprecated. Please use moment().' +\n                        name +\n                        '(number, period). ' +\n                        'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'\n                );\n                tmp = val;\n                val = period;\n                period = tmp;\n            }\n\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract(mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add = createAdder(1, 'add'),\n        subtract = createAdder(-1, 'subtract');\n\n    function isString(input) {\n        return typeof input === 'string' || input instanceof String;\n    }\n\n    // type MomentInput = Moment | Date | string | number | (number | string)[] | MomentInputObject | void; // null | undefined\n    function isMomentInput(input) {\n        return (\n            isMoment(input) ||\n            isDate(input) ||\n            isString(input) ||\n            isNumber(input) ||\n            isNumberOrStringArray(input) ||\n            isMomentInputObject(input) ||\n            input === null ||\n            input === undefined\n        );\n    }\n\n    function isMomentInputObject(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'years',\n                'year',\n                'y',\n                'months',\n                'month',\n                'M',\n                'days',\n                'day',\n                'd',\n                'dates',\n                'date',\n                'D',\n                'hours',\n                'hour',\n                'h',\n                'minutes',\n                'minute',\n                'm',\n                'seconds',\n                'second',\n                's',\n                'milliseconds',\n                'millisecond',\n                'ms',\n            ],\n            i,\n            property;\n\n        for (i = 0; i < properties.length; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function isNumberOrStringArray(input) {\n        var arrayTest = isArray(input),\n            dataTypeTest = false;\n        if (arrayTest) {\n            dataTypeTest =\n                input.filter(function (item) {\n                    return !isNumber(item) && isString(input);\n                }).length === 0;\n        }\n        return arrayTest && dataTypeTest;\n    }\n\n    function isCalendarSpec(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'sameDay',\n                'nextDay',\n                'lastDay',\n                'nextWeek',\n                'lastWeek',\n                'sameElse',\n            ],\n            i,\n            property;\n\n        for (i = 0; i < properties.length; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6\n            ? 'sameElse'\n            : diff < -1\n            ? 'lastWeek'\n            : diff < 0\n            ? 'lastDay'\n            : diff < 1\n            ? 'sameDay'\n            : diff < 2\n            ? 'nextDay'\n            : diff < 7\n            ? 'nextWeek'\n            : 'sameElse';\n    }\n\n    function calendar$1(time, formats) {\n        // Support for single parameter, formats only overload to the calendar function\n        if (arguments.length === 1) {\n            if (!arguments[0]) {\n                time = undefined;\n                formats = undefined;\n            } else if (isMomentInput(arguments[0])) {\n                time = arguments[0];\n                formats = undefined;\n            } else if (isCalendarSpec(arguments[0])) {\n                formats = arguments[0];\n                time = undefined;\n            }\n        }\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse',\n            output =\n                formats &&\n                (isFunction(formats[format])\n                    ? formats[format].call(this, now)\n                    : formats[format]);\n\n        return this.format(\n            output || this.localeData().calendar(format, this, createLocal(now))\n        );\n    }\n\n    function clone() {\n        return new Moment(this);\n    }\n\n    function isAfter(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween(from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (\n            (inclusivity[0] === '('\n                ? this.isAfter(localFrom, units)\n                : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')'\n                ? this.isBefore(localTo, units)\n                : !this.isAfter(localTo, units))\n        );\n    }\n\n    function isSame(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return (\n                this.clone().startOf(units).valueOf() <= inputMs &&\n                inputMs <= this.clone().endOf(units).valueOf()\n            );\n        }\n    }\n\n    function isSameOrAfter(input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore(input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff(input, units, asFloat) {\n        var that, zoneDelta, output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year':\n                output = monthDiff(this, that) / 12;\n                break;\n            case 'month':\n                output = monthDiff(this, that);\n                break;\n            case 'quarter':\n                output = monthDiff(this, that) / 3;\n                break;\n            case 'second':\n                output = (this - that) / 1e3;\n                break; // 1000\n            case 'minute':\n                output = (this - that) / 6e4;\n                break; // 1000 * 60\n            case 'hour':\n                output = (this - that) / 36e5;\n                break; // 1000 * 60 * 60\n            case 'day':\n                output = (this - that - zoneDelta) / 864e5;\n                break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week':\n                output = (this - that - zoneDelta) / 6048e5;\n                break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default:\n                output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff(a, b) {\n        if (a.date() < b.date()) {\n            // end-of-month calculations work correct when the start month has more\n            // days than the end month.\n            return -monthDiff(b, a);\n        }\n        // difference in months\n        var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2,\n            adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString() {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true,\n            m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(\n                m,\n                utc\n                    ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'\n                    : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'\n            );\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000)\n                    .toISOString()\n                    .replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(\n            m,\n            utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ'\n        );\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect() {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment',\n            zone = '',\n            prefix,\n            year,\n            datetime,\n            suffix;\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        prefix = '[' + func + '(\"]';\n        year = 0 <= this.year() && this.year() <= 9999 ? 'YYYY' : 'YYYYYY';\n        datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format(inputString) {\n        if (!inputString) {\n            inputString = this.isUtc()\n                ? hooks.defaultFormatUtc\n                : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ to: this, from: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow(withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ from: this, to: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow(withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale(key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData() {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000,\n        MS_PER_MINUTE = 60 * MS_PER_SECOND,\n        MS_PER_HOUR = 60 * MS_PER_MINUTE,\n        MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return ((dividend % divisor) + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(\n                    this.year(),\n                    this.month() - (this.month() % 3),\n                    1\n                );\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - this.weekday()\n                );\n                break;\n            case 'isoWeek':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - (this.isoWeekday() - 1)\n                );\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(\n                    time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                    MS_PER_HOUR\n                );\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month() - (this.month() % 3) + 3,\n                        1\n                    ) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - this.weekday() + 7\n                    ) - 1;\n                break;\n            case 'isoWeek':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - (this.isoWeekday() - 1) + 7\n                    ) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time +=\n                    MS_PER_HOUR -\n                    mod$1(\n                        time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                        MS_PER_HOUR\n                    ) -\n                    1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf() {\n        return this._d.valueOf() - (this._offset || 0) * 60000;\n    }\n\n    function unix() {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate() {\n        return new Date(this.valueOf());\n    }\n\n    function toArray() {\n        var m = this;\n        return [\n            m.year(),\n            m.month(),\n            m.date(),\n            m.hour(),\n            m.minute(),\n            m.second(),\n            m.millisecond(),\n        ];\n    }\n\n    function toObject() {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds(),\n        };\n    }\n\n    function toJSON() {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2() {\n        return isValid(this);\n    }\n\n    function parsingFlags() {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt() {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict,\n        };\n    }\n\n    addFormatToken('N', 0, 0, 'eraAbbr');\n    addFormatToken('NN', 0, 0, 'eraAbbr');\n    addFormatToken('NNN', 0, 0, 'eraAbbr');\n    addFormatToken('NNNN', 0, 0, 'eraName');\n    addFormatToken('NNNNN', 0, 0, 'eraNarrow');\n\n    addFormatToken('y', ['y', 1], 'yo', 'eraYear');\n    addFormatToken('y', ['yy', 2], 0, 'eraYear');\n    addFormatToken('y', ['yyy', 3], 0, 'eraYear');\n    addFormatToken('y', ['yyyy', 4], 0, 'eraYear');\n\n    addRegexToken('N', matchEraAbbr);\n    addRegexToken('NN', matchEraAbbr);\n    addRegexToken('NNN', matchEraAbbr);\n    addRegexToken('NNNN', matchEraName);\n    addRegexToken('NNNNN', matchEraNarrow);\n\n    addParseToken(['N', 'NN', 'NNN', 'NNNN', 'NNNNN'], function (\n        input,\n        array,\n        config,\n        token\n    ) {\n        var era = config._locale.erasParse(input, token, config._strict);\n        if (era) {\n            getParsingFlags(config).era = era;\n        } else {\n            getParsingFlags(config).invalidEra = input;\n        }\n    });\n\n    addRegexToken('y', matchUnsigned);\n    addRegexToken('yy', matchUnsigned);\n    addRegexToken('yyy', matchUnsigned);\n    addRegexToken('yyyy', matchUnsigned);\n    addRegexToken('yo', matchEraYearOrdinal);\n\n    addParseToken(['y', 'yy', 'yyy', 'yyyy'], YEAR);\n    addParseToken(['yo'], function (input, array, config, token) {\n        var match;\n        if (config._locale._eraYearOrdinalRegex) {\n            match = input.match(config._locale._eraYearOrdinalRegex);\n        }\n\n        if (config._locale.eraYearOrdinalParse) {\n            array[YEAR] = config._locale.eraYearOrdinalParse(input, match);\n        } else {\n            array[YEAR] = parseInt(input, 10);\n        }\n    });\n\n    function localeEras(m, format) {\n        var i,\n            l,\n            date,\n            eras = this._eras || getLocale('en')._eras;\n        for (i = 0, l = eras.length; i < l; ++i) {\n            switch (typeof eras[i].since) {\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].since).startOf('day');\n                    eras[i].since = date.valueOf();\n                    break;\n            }\n\n            switch (typeof eras[i].until) {\n                case 'undefined':\n                    eras[i].until = +Infinity;\n                    break;\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].until).startOf('day').valueOf();\n                    eras[i].until = date.valueOf();\n                    break;\n            }\n        }\n        return eras;\n    }\n\n    function localeErasParse(eraName, format, strict) {\n        var i,\n            l,\n            eras = this.eras(),\n            name,\n            abbr,\n            narrow;\n        eraName = eraName.toUpperCase();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            name = eras[i].name.toUpperCase();\n            abbr = eras[i].abbr.toUpperCase();\n            narrow = eras[i].narrow.toUpperCase();\n\n            if (strict) {\n                switch (format) {\n                    case 'N':\n                    case 'NN':\n                    case 'NNN':\n                        if (abbr === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNN':\n                        if (name === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNNN':\n                        if (narrow === eraName) {\n                            return eras[i];\n                        }\n                        break;\n                }\n            } else if ([name, abbr, narrow].indexOf(eraName) >= 0) {\n                return eras[i];\n            }\n        }\n    }\n\n    function localeErasConvertYear(era, year) {\n        var dir = era.since <= era.until ? +1 : -1;\n        if (year === undefined) {\n            return hooks(era.since).year();\n        } else {\n            return hooks(era.since).year() + (year - era.offset) * dir;\n        }\n    }\n\n    function getEraName() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].name;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].name;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraNarrow() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].narrow;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].narrow;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraAbbr() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].abbr;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].abbr;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraYear() {\n        var i,\n            l,\n            dir,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            dir = eras[i].since <= eras[i].until ? +1 : -1;\n\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (\n                (eras[i].since <= val && val <= eras[i].until) ||\n                (eras[i].until <= val && val <= eras[i].since)\n            ) {\n                return (\n                    (this.year() - hooks(eras[i].since).year()) * dir +\n                    eras[i].offset\n                );\n            }\n        }\n\n        return this.year();\n    }\n\n    function erasNameRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNameRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNameRegex : this._erasRegex;\n    }\n\n    function erasAbbrRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasAbbrRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasAbbrRegex : this._erasRegex;\n    }\n\n    function erasNarrowRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNarrowRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNarrowRegex : this._erasRegex;\n    }\n\n    function matchEraAbbr(isStrict, locale) {\n        return locale.erasAbbrRegex(isStrict);\n    }\n\n    function matchEraName(isStrict, locale) {\n        return locale.erasNameRegex(isStrict);\n    }\n\n    function matchEraNarrow(isStrict, locale) {\n        return locale.erasNarrowRegex(isStrict);\n    }\n\n    function matchEraYearOrdinal(isStrict, locale) {\n        return locale._eraYearOrdinalRegex || matchUnsigned;\n    }\n\n    function computeErasParse() {\n        var abbrPieces = [],\n            namePieces = [],\n            narrowPieces = [],\n            mixedPieces = [],\n            i,\n            l,\n            eras = this.eras();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            namePieces.push(regexEscape(eras[i].name));\n            abbrPieces.push(regexEscape(eras[i].abbr));\n            narrowPieces.push(regexEscape(eras[i].narrow));\n\n            mixedPieces.push(regexEscape(eras[i].name));\n            mixedPieces.push(regexEscape(eras[i].abbr));\n            mixedPieces.push(regexEscape(eras[i].narrow));\n        }\n\n        this._erasRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._erasNameRegex = new RegExp('^(' + namePieces.join('|') + ')', 'i');\n        this._erasAbbrRegex = new RegExp('^(' + abbrPieces.join('|') + ')', 'i');\n        this._erasNarrowRegex = new RegExp(\n            '^(' + narrowPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken(token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg', 'weekYear');\n    addWeekYearFormatToken('ggggg', 'weekYear');\n    addWeekYearFormatToken('GGGG', 'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n    // PARSING\n\n    addRegexToken('G', matchSigned);\n    addRegexToken('g', matchSigned);\n    addRegexToken('GG', match1to2, match2);\n    addRegexToken('gg', match1to2, match2);\n    addRegexToken('GGGG', match1to4, match4);\n    addRegexToken('gggg', match1to4, match4);\n    addRegexToken('GGGGG', match1to6, match6);\n    addRegexToken('ggggg', match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (\n        input,\n        week,\n        config,\n        token\n    ) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy\n        );\n    }\n\n    function getSetISOWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.isoWeek(),\n            this.isoWeekday(),\n            1,\n            4\n        );\n    }\n\n    function getISOWeeksInYear() {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getISOWeeksInISOWeekYear() {\n        return weeksInYear(this.isoWeekYear(), 1, 4);\n    }\n\n    function getWeeksInYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getWeeksInWeekYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter(input) {\n        return input == null\n            ? Math.ceil((this.month() + 1) / 3)\n            : this.month((input - 1) * 3 + (this.month() % 3));\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D', match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict\n            ? locale._dayOfMonthOrdinalParse || locale._ordinalParse\n            : locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD', match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear(input) {\n        var dayOfYear =\n            Math.round(\n                (this.clone().startOf('day') - this.clone().startOf('year')) / 864e5\n            ) + 1;\n        return input == null ? dayOfYear : this.add(input - dayOfYear, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m', match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s', match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S', match1to3, match1);\n    addRegexToken('SS', match1to3, match2);\n    addRegexToken('SSS', match1to3, match3);\n\n    var token, getSetMillisecond;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n\n    getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z', 0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr() {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName() {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add = add;\n    proto.calendar = calendar$1;\n    proto.clone = clone;\n    proto.diff = diff;\n    proto.endOf = endOf;\n    proto.format = format;\n    proto.from = from;\n    proto.fromNow = fromNow;\n    proto.to = to;\n    proto.toNow = toNow;\n    proto.get = stringGet;\n    proto.invalidAt = invalidAt;\n    proto.isAfter = isAfter;\n    proto.isBefore = isBefore;\n    proto.isBetween = isBetween;\n    proto.isSame = isSame;\n    proto.isSameOrAfter = isSameOrAfter;\n    proto.isSameOrBefore = isSameOrBefore;\n    proto.isValid = isValid$2;\n    proto.lang = lang;\n    proto.locale = locale;\n    proto.localeData = localeData;\n    proto.max = prototypeMax;\n    proto.min = prototypeMin;\n    proto.parsingFlags = parsingFlags;\n    proto.set = stringSet;\n    proto.startOf = startOf;\n    proto.subtract = subtract;\n    proto.toArray = toArray;\n    proto.toObject = toObject;\n    proto.toDate = toDate;\n    proto.toISOString = toISOString;\n    proto.inspect = inspect;\n    if (typeof Symbol !== 'undefined' && Symbol.for != null) {\n        proto[Symbol.for('nodejs.util.inspect.custom')] = function () {\n            return 'Moment<' + this.format() + '>';\n        };\n    }\n    proto.toJSON = toJSON;\n    proto.toString = toString;\n    proto.unix = unix;\n    proto.valueOf = valueOf;\n    proto.creationData = creationData;\n    proto.eraName = getEraName;\n    proto.eraNarrow = getEraNarrow;\n    proto.eraAbbr = getEraAbbr;\n    proto.eraYear = getEraYear;\n    proto.year = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week = proto.weeks = getSetWeek;\n    proto.isoWeek = proto.isoWeeks = getSetISOWeek;\n    proto.weeksInYear = getWeeksInYear;\n    proto.weeksInWeekYear = getWeeksInWeekYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;\n    proto.date = getSetDayOfMonth;\n    proto.day = proto.days = getSetDayOfWeek;\n    proto.weekday = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset = getSetOffset;\n    proto.utc = setOffsetToUTC;\n    proto.local = setOffsetToLocal;\n    proto.parseZone = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST = isDaylightSavingTime;\n    proto.isLocal = isLocal;\n    proto.isUtcOffset = isUtcOffset;\n    proto.isUtc = isUtc;\n    proto.isUTC = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates = deprecate(\n        'dates accessor is deprecated. Use date instead.',\n        getSetDayOfMonth\n    );\n    proto.months = deprecate(\n        'months accessor is deprecated. Use month instead',\n        getSetMonth\n    );\n    proto.years = deprecate(\n        'years accessor is deprecated. Use year instead',\n        getSetYear\n    );\n    proto.zone = deprecate(\n        'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',\n        getSetZone\n    );\n    proto.isDSTShifted = deprecate(\n        'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',\n        isDaylightSavingTimeShifted\n    );\n\n    function createUnix(input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone() {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat(string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar = calendar;\n    proto$1.longDateFormat = longDateFormat;\n    proto$1.invalidDate = invalidDate;\n    proto$1.ordinal = ordinal;\n    proto$1.preparse = preParsePostFormat;\n    proto$1.postformat = preParsePostFormat;\n    proto$1.relativeTime = relativeTime;\n    proto$1.pastFuture = pastFuture;\n    proto$1.set = set;\n    proto$1.eras = localeEras;\n    proto$1.erasParse = localeErasParse;\n    proto$1.erasConvertYear = localeErasConvertYear;\n    proto$1.erasAbbrRegex = erasAbbrRegex;\n    proto$1.erasNameRegex = erasNameRegex;\n    proto$1.erasNarrowRegex = erasNarrowRegex;\n\n    proto$1.months = localeMonths;\n    proto$1.monthsShort = localeMonthsShort;\n    proto$1.monthsParse = localeMonthsParse;\n    proto$1.monthsRegex = monthsRegex;\n    proto$1.monthsShortRegex = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays = localeWeekdays;\n    proto$1.weekdaysMin = localeWeekdaysMin;\n    proto$1.weekdaysShort = localeWeekdaysShort;\n    proto$1.weekdaysParse = localeWeekdaysParse;\n\n    proto$1.weekdaysRegex = weekdaysRegex;\n    proto$1.weekdaysShortRegex = weekdaysShortRegex;\n    proto$1.weekdaysMinRegex = weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1(format, index, field, setter) {\n        var locale = getLocale(),\n            utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl(format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i,\n            out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl(localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0,\n            i,\n            out = [];\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths(format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort(format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        eras: [\n            {\n                since: '0001-01-01',\n                until: +Infinity,\n                offset: 1,\n                name: 'Anno Domini',\n                narrow: 'AD',\n                abbr: 'AD',\n            },\n            {\n                since: '0000-12-31',\n                until: -Infinity,\n                offset: 1,\n                name: 'Before Christ',\n                narrow: 'BC',\n                abbr: 'BC',\n            },\n        ],\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal: function (number) {\n            var b = number % 10,\n                output =\n                    toInt((number % 100) / 10) === 1\n                        ? 'th'\n                        : b === 1\n                        ? 'st'\n                        : b === 2\n                        ? 'nd'\n                        : b === 3\n                        ? 'rd'\n                        : 'th';\n            return number + output;\n        },\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate(\n        'moment.lang is deprecated. Use moment.locale instead.',\n        getSetGlobalLocale\n    );\n    hooks.langData = deprecate(\n        'moment.langData is deprecated. Use moment.localeData instead.',\n        getLocale\n    );\n\n    var mathAbs = Math.abs;\n\n    function abs() {\n        var data = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days = mathAbs(this._days);\n        this._months = mathAbs(this._months);\n\n        data.milliseconds = mathAbs(data.milliseconds);\n        data.seconds = mathAbs(data.seconds);\n        data.minutes = mathAbs(data.minutes);\n        data.hours = mathAbs(data.hours);\n        data.months = mathAbs(data.months);\n        data.years = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1(duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days += direction * other._days;\n        duration._months += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1(input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1(input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil(number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble() {\n        var milliseconds = this._milliseconds,\n            days = this._days,\n            months = this._months,\n            data = this._data,\n            seconds,\n            minutes,\n            hours,\n            years,\n            monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (\n            !(\n                (milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0)\n            )\n        ) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds = absFloor(milliseconds / 1000);\n        data.seconds = seconds % 60;\n\n        minutes = absFloor(seconds / 60);\n        data.minutes = minutes % 60;\n\n        hours = absFloor(minutes / 60);\n        data.hours = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days = days;\n        data.months = months;\n        data.years = years;\n\n        return this;\n    }\n\n    function daysToMonths(days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return (days * 4800) / 146097;\n    }\n\n    function monthsToDays(months) {\n        // the reverse of daysToMonths\n        return (months * 146097) / 4800;\n    }\n\n    function as(units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days,\n            months,\n            milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':\n                    return months;\n                case 'quarter':\n                    return months / 3;\n                case 'year':\n                    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week':\n                    return days / 7 + milliseconds / 6048e5;\n                case 'day':\n                    return days + milliseconds / 864e5;\n                case 'hour':\n                    return days * 24 + milliseconds / 36e5;\n                case 'minute':\n                    return days * 1440 + milliseconds / 6e4;\n                case 'second':\n                    return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond':\n                    return Math.floor(days * 864e5) + milliseconds;\n                default:\n                    throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1() {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs(alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms'),\n        asSeconds = makeAs('s'),\n        asMinutes = makeAs('m'),\n        asHours = makeAs('h'),\n        asDays = makeAs('d'),\n        asWeeks = makeAs('w'),\n        asMonths = makeAs('M'),\n        asQuarters = makeAs('Q'),\n        asYears = makeAs('y');\n\n    function clone$1() {\n        return createDuration(this);\n    }\n\n    function get$2(units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds'),\n        seconds = makeGetter('seconds'),\n        minutes = makeGetter('minutes'),\n        hours = makeGetter('hours'),\n        days = makeGetter('days'),\n        months = makeGetter('months'),\n        years = makeGetter('years');\n\n    function weeks() {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round,\n        thresholds = {\n            ss: 44, // a few seconds to seconds\n            s: 45, // seconds to minute\n            m: 45, // minutes to hour\n            h: 22, // hours to day\n            d: 26, // days to month/week\n            w: null, // weeks to month\n            M: 11, // months to year\n        };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1(posNegDuration, withoutSuffix, thresholds, locale) {\n        var duration = createDuration(posNegDuration).abs(),\n            seconds = round(duration.as('s')),\n            minutes = round(duration.as('m')),\n            hours = round(duration.as('h')),\n            days = round(duration.as('d')),\n            months = round(duration.as('M')),\n            weeks = round(duration.as('w')),\n            years = round(duration.as('y')),\n            a =\n                (seconds <= thresholds.ss && ['s', seconds]) ||\n                (seconds < thresholds.s && ['ss', seconds]) ||\n                (minutes <= 1 && ['m']) ||\n                (minutes < thresholds.m && ['mm', minutes]) ||\n                (hours <= 1 && ['h']) ||\n                (hours < thresholds.h && ['hh', hours]) ||\n                (days <= 1 && ['d']) ||\n                (days < thresholds.d && ['dd', days]);\n\n        if (thresholds.w != null) {\n            a =\n                a ||\n                (weeks <= 1 && ['w']) ||\n                (weeks < thresholds.w && ['ww', weeks]);\n        }\n        a = a ||\n            (months <= 1 && ['M']) ||\n            (months < thresholds.M && ['MM', months]) ||\n            (years <= 1 && ['y']) || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding(roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof roundingFunction === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold(threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize(argWithSuffix, argThresholds) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var withSuffix = false,\n            th = thresholds,\n            locale,\n            output;\n\n        if (typeof argWithSuffix === 'object') {\n            argThresholds = argWithSuffix;\n            argWithSuffix = false;\n        }\n        if (typeof argWithSuffix === 'boolean') {\n            withSuffix = argWithSuffix;\n        }\n        if (typeof argThresholds === 'object') {\n            th = Object.assign({}, thresholds, argThresholds);\n            if (argThresholds.s != null && argThresholds.ss == null) {\n                th.ss = argThresholds.s - 1;\n            }\n        }\n\n        locale = this.localeData();\n        output = relativeTime$1(this, !withSuffix, th, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return (x > 0) - (x < 0) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000,\n            days = abs$1(this._days),\n            months = abs$1(this._months),\n            minutes,\n            hours,\n            years,\n            s,\n            total = this.asSeconds(),\n            totalSign,\n            ymSign,\n            daysSign,\n            hmsSign;\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes = absFloor(seconds / 60);\n        hours = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n\n        totalSign = total < 0 ? '-' : '';\n        ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return (\n            totalSign +\n            'P' +\n            (years ? ymSign + years + 'Y' : '') +\n            (months ? ymSign + months + 'M' : '') +\n            (days ? daysSign + days + 'D' : '') +\n            (hours || minutes || seconds ? 'T' : '') +\n            (hours ? hmsSign + hours + 'H' : '') +\n            (minutes ? hmsSign + minutes + 'M' : '') +\n            (seconds ? hmsSign + s + 'S' : '')\n        );\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid = isValid$1;\n    proto$2.abs = abs;\n    proto$2.add = add$1;\n    proto$2.subtract = subtract$1;\n    proto$2.as = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds = asSeconds;\n    proto$2.asMinutes = asMinutes;\n    proto$2.asHours = asHours;\n    proto$2.asDays = asDays;\n    proto$2.asWeeks = asWeeks;\n    proto$2.asMonths = asMonths;\n    proto$2.asQuarters = asQuarters;\n    proto$2.asYears = asYears;\n    proto$2.valueOf = valueOf$1;\n    proto$2._bubble = bubble;\n    proto$2.clone = clone$1;\n    proto$2.get = get$2;\n    proto$2.milliseconds = milliseconds;\n    proto$2.seconds = seconds;\n    proto$2.minutes = minutes;\n    proto$2.hours = hours;\n    proto$2.days = days;\n    proto$2.weeks = weeks;\n    proto$2.months = months;\n    proto$2.years = years;\n    proto$2.humanize = humanize;\n    proto$2.toISOString = toISOString$1;\n    proto$2.toString = toISOString$1;\n    proto$2.toJSON = toISOString$1;\n    proto$2.locale = locale;\n    proto$2.localeData = localeData;\n\n    proto$2.toIsoString = deprecate(\n        'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',\n        toISOString$1\n    );\n    proto$2.lang = lang;\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    //! moment.js\n\n    hooks.version = '2.29.1';\n\n    setHookCallback(createLocal);\n\n    hooks.fn = proto;\n    hooks.min = min;\n    hooks.max = max;\n    hooks.now = now;\n    hooks.utc = createUTC;\n    hooks.unix = createUnix;\n    hooks.months = listMonths;\n    hooks.isDate = isDate;\n    hooks.locale = getSetGlobalLocale;\n    hooks.invalid = createInvalid;\n    hooks.duration = createDuration;\n    hooks.isMoment = isMoment;\n    hooks.weekdays = listWeekdays;\n    hooks.parseZone = createInZone;\n    hooks.localeData = getLocale;\n    hooks.isDuration = isDuration;\n    hooks.monthsShort = listMonthsShort;\n    hooks.weekdaysMin = listWeekdaysMin;\n    hooks.defineLocale = defineLocale;\n    hooks.updateLocale = updateLocale;\n    hooks.locales = listLocales;\n    hooks.weekdaysShort = listWeekdaysShort;\n    hooks.normalizeUnits = normalizeUnits;\n    hooks.relativeTimeRounding = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat = getCalendarFormat;\n    hooks.prototype = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm', // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss', // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS', // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD', // <input type=\"date\" />\n        TIME: 'HH:mm', // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss', // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS', // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW', // <input type=\"week\" />\n        MONTH: 'YYYY-MM', // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n", "/*!\n * vuex v3.6.2\n * (c) 2021 Evan You\n * @license MIT\n */\n'use strict';\n\nfunction applyMixin (Vue) {\n  var version = Number(Vue.version.split('.')[0]);\n\n  if (version >= 2) {\n    Vue.mixin({ beforeCreate: vuexInit });\n  } else {\n    // override init and inject vuex init procedure\n    // for 1.x backwards compatibility.\n    var _init = Vue.prototype._init;\n    Vue.prototype._init = function (options) {\n      if ( options === void 0 ) options = {};\n\n      options.init = options.init\n        ? [vuexInit].concat(options.init)\n        : vuexInit;\n      _init.call(this, options);\n    };\n  }\n\n  /**\n   * Vuex init hook, injected into each instances init hooks list.\n   */\n\n  function vuexInit () {\n    var options = this.$options;\n    // store injection\n    if (options.store) {\n      this.$store = typeof options.store === 'function'\n        ? options.store()\n        : options.store;\n    } else if (options.parent && options.parent.$store) {\n      this.$store = options.parent.$store;\n    }\n  }\n}\n\nvar target = typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n    ? global\n    : {};\nvar devtoolHook = target.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n\nfunction devtoolPlugin (store) {\n  if (!devtoolHook) { return }\n\n  store._devtoolHook = devtoolHook;\n\n  devtoolHook.emit('vuex:init', store);\n\n  devtoolHook.on('vuex:travel-to-state', function (targetState) {\n    store.replaceState(targetState);\n  });\n\n  store.subscribe(function (mutation, state) {\n    devtoolHook.emit('vuex:mutation', mutation, state);\n  }, { prepend: true });\n\n  store.subscribeAction(function (action, state) {\n    devtoolHook.emit('vuex:action', action, state);\n  }, { prepend: true });\n}\n\n/**\n * Get the first item that pass the test\n * by second argument function\n *\n * @param {Array} list\n * @param {Function} f\n * @return {*}\n */\nfunction find (list, f) {\n  return list.filter(f)[0]\n}\n\n/**\n * Deep copy the given object considering circular structure.\n * This function caches all nested objects and its copies.\n * If it detects circular structure, use cached copy to avoid infinite loop.\n *\n * @param {*} obj\n * @param {Array<Object>} cache\n * @return {*}\n */\nfunction deepCopy (obj, cache) {\n  if ( cache === void 0 ) cache = [];\n\n  // just return if obj is immutable value\n  if (obj === null || typeof obj !== 'object') {\n    return obj\n  }\n\n  // if obj is hit, it is in circular structure\n  var hit = find(cache, function (c) { return c.original === obj; });\n  if (hit) {\n    return hit.copy\n  }\n\n  var copy = Array.isArray(obj) ? [] : {};\n  // put the copy into cache at first\n  // because we want to refer it in recursive deepCopy\n  cache.push({\n    original: obj,\n    copy: copy\n  });\n\n  Object.keys(obj).forEach(function (key) {\n    copy[key] = deepCopy(obj[key], cache);\n  });\n\n  return copy\n}\n\n/**\n * forEach for object\n */\nfunction forEachValue (obj, fn) {\n  Object.keys(obj).forEach(function (key) { return fn(obj[key], key); });\n}\n\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\nfunction isPromise (val) {\n  return val && typeof val.then === 'function'\n}\n\nfunction assert (condition, msg) {\n  if (!condition) { throw new Error((\"[vuex] \" + msg)) }\n}\n\nfunction partial (fn, arg) {\n  return function () {\n    return fn(arg)\n  }\n}\n\n// Base data struct for store's module, package with some attribute and method\nvar Module = function Module (rawModule, runtime) {\n  this.runtime = runtime;\n  // Store some children item\n  this._children = Object.create(null);\n  // Store the origin module object which passed by programmer\n  this._rawModule = rawModule;\n  var rawState = rawModule.state;\n\n  // Store the origin module's state\n  this.state = (typeof rawState === 'function' ? rawState() : rawState) || {};\n};\n\nvar prototypeAccessors = { namespaced: { configurable: true } };\n\nprototypeAccessors.namespaced.get = function () {\n  return !!this._rawModule.namespaced\n};\n\nModule.prototype.addChild = function addChild (key, module) {\n  this._children[key] = module;\n};\n\nModule.prototype.removeChild = function removeChild (key) {\n  delete this._children[key];\n};\n\nModule.prototype.getChild = function getChild (key) {\n  return this._children[key]\n};\n\nModule.prototype.hasChild = function hasChild (key) {\n  return key in this._children\n};\n\nModule.prototype.update = function update (rawModule) {\n  this._rawModule.namespaced = rawModule.namespaced;\n  if (rawModule.actions) {\n    this._rawModule.actions = rawModule.actions;\n  }\n  if (rawModule.mutations) {\n    this._rawModule.mutations = rawModule.mutations;\n  }\n  if (rawModule.getters) {\n    this._rawModule.getters = rawModule.getters;\n  }\n};\n\nModule.prototype.forEachChild = function forEachChild (fn) {\n  forEachValue(this._children, fn);\n};\n\nModule.prototype.forEachGetter = function forEachGetter (fn) {\n  if (this._rawModule.getters) {\n    forEachValue(this._rawModule.getters, fn);\n  }\n};\n\nModule.prototype.forEachAction = function forEachAction (fn) {\n  if (this._rawModule.actions) {\n    forEachValue(this._rawModule.actions, fn);\n  }\n};\n\nModule.prototype.forEachMutation = function forEachMutation (fn) {\n  if (this._rawModule.mutations) {\n    forEachValue(this._rawModule.mutations, fn);\n  }\n};\n\nObject.defineProperties( Module.prototype, prototypeAccessors );\n\nvar ModuleCollection = function ModuleCollection (rawRootModule) {\n  // register root module (Vuex.Store options)\n  this.register([], rawRootModule, false);\n};\n\nModuleCollection.prototype.get = function get (path) {\n  return path.reduce(function (module, key) {\n    return module.getChild(key)\n  }, this.root)\n};\n\nModuleCollection.prototype.getNamespace = function getNamespace (path) {\n  var module = this.root;\n  return path.reduce(function (namespace, key) {\n    module = module.getChild(key);\n    return namespace + (module.namespaced ? key + '/' : '')\n  }, '')\n};\n\nModuleCollection.prototype.update = function update$1 (rawRootModule) {\n  update([], this.root, rawRootModule);\n};\n\nModuleCollection.prototype.register = function register (path, rawModule, runtime) {\n    var this$1 = this;\n    if ( runtime === void 0 ) runtime = true;\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assertRawModule(path, rawModule);\n  }\n\n  var newModule = new Module(rawModule, runtime);\n  if (path.length === 0) {\n    this.root = newModule;\n  } else {\n    var parent = this.get(path.slice(0, -1));\n    parent.addChild(path[path.length - 1], newModule);\n  }\n\n  // register nested modules\n  if (rawModule.modules) {\n    forEachValue(rawModule.modules, function (rawChildModule, key) {\n      this$1.register(path.concat(key), rawChildModule, runtime);\n    });\n  }\n};\n\nModuleCollection.prototype.unregister = function unregister (path) {\n  var parent = this.get(path.slice(0, -1));\n  var key = path[path.length - 1];\n  var child = parent.getChild(key);\n\n  if (!child) {\n    if ((process.env.NODE_ENV !== 'production')) {\n      console.warn(\n        \"[vuex] trying to unregister module '\" + key + \"', which is \" +\n        \"not registered\"\n      );\n    }\n    return\n  }\n\n  if (!child.runtime) {\n    return\n  }\n\n  parent.removeChild(key);\n};\n\nModuleCollection.prototype.isRegistered = function isRegistered (path) {\n  var parent = this.get(path.slice(0, -1));\n  var key = path[path.length - 1];\n\n  if (parent) {\n    return parent.hasChild(key)\n  }\n\n  return false\n};\n\nfunction update (path, targetModule, newModule) {\n  if ((process.env.NODE_ENV !== 'production')) {\n    assertRawModule(path, newModule);\n  }\n\n  // update target module\n  targetModule.update(newModule);\n\n  // update nested modules\n  if (newModule.modules) {\n    for (var key in newModule.modules) {\n      if (!targetModule.getChild(key)) {\n        if ((process.env.NODE_ENV !== 'production')) {\n          console.warn(\n            \"[vuex] trying to add a new module '\" + key + \"' on hot reloading, \" +\n            'manual reload is needed'\n          );\n        }\n        return\n      }\n      update(\n        path.concat(key),\n        targetModule.getChild(key),\n        newModule.modules[key]\n      );\n    }\n  }\n}\n\nvar functionAssert = {\n  assert: function (value) { return typeof value === 'function'; },\n  expected: 'function'\n};\n\nvar objectAssert = {\n  assert: function (value) { return typeof value === 'function' ||\n    (typeof value === 'object' && typeof value.handler === 'function'); },\n  expected: 'function or object with \"handler\" function'\n};\n\nvar assertTypes = {\n  getters: functionAssert,\n  mutations: functionAssert,\n  actions: objectAssert\n};\n\nfunction assertRawModule (path, rawModule) {\n  Object.keys(assertTypes).forEach(function (key) {\n    if (!rawModule[key]) { return }\n\n    var assertOptions = assertTypes[key];\n\n    forEachValue(rawModule[key], function (value, type) {\n      assert(\n        assertOptions.assert(value),\n        makeAssertionMessage(path, key, type, value, assertOptions.expected)\n      );\n    });\n  });\n}\n\nfunction makeAssertionMessage (path, key, type, value, expected) {\n  var buf = key + \" should be \" + expected + \" but \\\"\" + key + \".\" + type + \"\\\"\";\n  if (path.length > 0) {\n    buf += \" in module \\\"\" + (path.join('.')) + \"\\\"\";\n  }\n  buf += \" is \" + (JSON.stringify(value)) + \".\";\n  return buf\n}\n\nvar Vue; // bind on install\n\nvar Store = function Store (options) {\n  var this$1 = this;\n  if ( options === void 0 ) options = {};\n\n  // Auto install if it is not done yet and `window` has `Vue`.\n  // To allow users to avoid auto-installation in some cases,\n  // this code should be placed here. See #731\n  if (!Vue && typeof window !== 'undefined' && window.Vue) {\n    install(window.Vue);\n  }\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(Vue, \"must call Vue.use(Vuex) before creating a store instance.\");\n    assert(typeof Promise !== 'undefined', \"vuex requires a Promise polyfill in this browser.\");\n    assert(this instanceof Store, \"store must be called with the new operator.\");\n  }\n\n  var plugins = options.plugins; if ( plugins === void 0 ) plugins = [];\n  var strict = options.strict; if ( strict === void 0 ) strict = false;\n\n  // store internal state\n  this._committing = false;\n  this._actions = Object.create(null);\n  this._actionSubscribers = [];\n  this._mutations = Object.create(null);\n  this._wrappedGetters = Object.create(null);\n  this._modules = new ModuleCollection(options);\n  this._modulesNamespaceMap = Object.create(null);\n  this._subscribers = [];\n  this._watcherVM = new Vue();\n  this._makeLocalGettersCache = Object.create(null);\n\n  // bind commit and dispatch to self\n  var store = this;\n  var ref = this;\n  var dispatch = ref.dispatch;\n  var commit = ref.commit;\n  this.dispatch = function boundDispatch (type, payload) {\n    return dispatch.call(store, type, payload)\n  };\n  this.commit = function boundCommit (type, payload, options) {\n    return commit.call(store, type, payload, options)\n  };\n\n  // strict mode\n  this.strict = strict;\n\n  var state = this._modules.root.state;\n\n  // init root module.\n  // this also recursively registers all sub-modules\n  // and collects all module getters inside this._wrappedGetters\n  installModule(this, state, [], this._modules.root);\n\n  // initialize the store vm, which is responsible for the reactivity\n  // (also registers _wrappedGetters as computed properties)\n  resetStoreVM(this, state);\n\n  // apply plugins\n  plugins.forEach(function (plugin) { return plugin(this$1); });\n\n  var useDevtools = options.devtools !== undefined ? options.devtools : Vue.config.devtools;\n  if (useDevtools) {\n    devtoolPlugin(this);\n  }\n};\n\nvar prototypeAccessors$1 = { state: { configurable: true } };\n\nprototypeAccessors$1.state.get = function () {\n  return this._vm._data.$$state\n};\n\nprototypeAccessors$1.state.set = function (v) {\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(false, \"use store.replaceState() to explicit replace store state.\");\n  }\n};\n\nStore.prototype.commit = function commit (_type, _payload, _options) {\n    var this$1 = this;\n\n  // check object-style commit\n  var ref = unifyObjectStyle(_type, _payload, _options);\n    var type = ref.type;\n    var payload = ref.payload;\n    var options = ref.options;\n\n  var mutation = { type: type, payload: payload };\n  var entry = this._mutations[type];\n  if (!entry) {\n    if ((process.env.NODE_ENV !== 'production')) {\n      console.error((\"[vuex] unknown mutation type: \" + type));\n    }\n    return\n  }\n  this._withCommit(function () {\n    entry.forEach(function commitIterator (handler) {\n      handler(payload);\n    });\n  });\n\n  this._subscribers\n    .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe\n    .forEach(function (sub) { return sub(mutation, this$1.state); });\n\n  if (\n    (process.env.NODE_ENV !== 'production') &&\n    options && options.silent\n  ) {\n    console.warn(\n      \"[vuex] mutation type: \" + type + \". Silent option has been removed. \" +\n      'Use the filter functionality in the vue-devtools'\n    );\n  }\n};\n\nStore.prototype.dispatch = function dispatch (_type, _payload) {\n    var this$1 = this;\n\n  // check object-style dispatch\n  var ref = unifyObjectStyle(_type, _payload);\n    var type = ref.type;\n    var payload = ref.payload;\n\n  var action = { type: type, payload: payload };\n  var entry = this._actions[type];\n  if (!entry) {\n    if ((process.env.NODE_ENV !== 'production')) {\n      console.error((\"[vuex] unknown action type: \" + type));\n    }\n    return\n  }\n\n  try {\n    this._actionSubscribers\n      .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe\n      .filter(function (sub) { return sub.before; })\n      .forEach(function (sub) { return sub.before(action, this$1.state); });\n  } catch (e) {\n    if ((process.env.NODE_ENV !== 'production')) {\n      console.warn(\"[vuex] error in before action subscribers: \");\n      console.error(e);\n    }\n  }\n\n  var result = entry.length > 1\n    ? Promise.all(entry.map(function (handler) { return handler(payload); }))\n    : entry[0](payload);\n\n  return new Promise(function (resolve, reject) {\n    result.then(function (res) {\n      try {\n        this$1._actionSubscribers\n          .filter(function (sub) { return sub.after; })\n          .forEach(function (sub) { return sub.after(action, this$1.state); });\n      } catch (e) {\n        if ((process.env.NODE_ENV !== 'production')) {\n          console.warn(\"[vuex] error in after action subscribers: \");\n          console.error(e);\n        }\n      }\n      resolve(res);\n    }, function (error) {\n      try {\n        this$1._actionSubscribers\n          .filter(function (sub) { return sub.error; })\n          .forEach(function (sub) { return sub.error(action, this$1.state, error); });\n      } catch (e) {\n        if ((process.env.NODE_ENV !== 'production')) {\n          console.warn(\"[vuex] error in error action subscribers: \");\n          console.error(e);\n        }\n      }\n      reject(error);\n    });\n  })\n};\n\nStore.prototype.subscribe = function subscribe (fn, options) {\n  return genericSubscribe(fn, this._subscribers, options)\n};\n\nStore.prototype.subscribeAction = function subscribeAction (fn, options) {\n  var subs = typeof fn === 'function' ? { before: fn } : fn;\n  return genericSubscribe(subs, this._actionSubscribers, options)\n};\n\nStore.prototype.watch = function watch (getter, cb, options) {\n    var this$1 = this;\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(typeof getter === 'function', \"store.watch only accepts a function.\");\n  }\n  return this._watcherVM.$watch(function () { return getter(this$1.state, this$1.getters); }, cb, options)\n};\n\nStore.prototype.replaceState = function replaceState (state) {\n    var this$1 = this;\n\n  this._withCommit(function () {\n    this$1._vm._data.$$state = state;\n  });\n};\n\nStore.prototype.registerModule = function registerModule (path, rawModule, options) {\n    if ( options === void 0 ) options = {};\n\n  if (typeof path === 'string') { path = [path]; }\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(Array.isArray(path), \"module path must be a string or an Array.\");\n    assert(path.length > 0, 'cannot register the root module by using registerModule.');\n  }\n\n  this._modules.register(path, rawModule);\n  installModule(this, this.state, path, this._modules.get(path), options.preserveState);\n  // reset store to update getters...\n  resetStoreVM(this, this.state);\n};\n\nStore.prototype.unregisterModule = function unregisterModule (path) {\n    var this$1 = this;\n\n  if (typeof path === 'string') { path = [path]; }\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(Array.isArray(path), \"module path must be a string or an Array.\");\n  }\n\n  this._modules.unregister(path);\n  this._withCommit(function () {\n    var parentState = getNestedState(this$1.state, path.slice(0, -1));\n    Vue.delete(parentState, path[path.length - 1]);\n  });\n  resetStore(this);\n};\n\nStore.prototype.hasModule = function hasModule (path) {\n  if (typeof path === 'string') { path = [path]; }\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(Array.isArray(path), \"module path must be a string or an Array.\");\n  }\n\n  return this._modules.isRegistered(path)\n};\n\nStore.prototype.hotUpdate = function hotUpdate (newOptions) {\n  this._modules.update(newOptions);\n  resetStore(this, true);\n};\n\nStore.prototype._withCommit = function _withCommit (fn) {\n  var committing = this._committing;\n  this._committing = true;\n  fn();\n  this._committing = committing;\n};\n\nObject.defineProperties( Store.prototype, prototypeAccessors$1 );\n\nfunction genericSubscribe (fn, subs, options) {\n  if (subs.indexOf(fn) < 0) {\n    options && options.prepend\n      ? subs.unshift(fn)\n      : subs.push(fn);\n  }\n  return function () {\n    var i = subs.indexOf(fn);\n    if (i > -1) {\n      subs.splice(i, 1);\n    }\n  }\n}\n\nfunction resetStore (store, hot) {\n  store._actions = Object.create(null);\n  store._mutations = Object.create(null);\n  store._wrappedGetters = Object.create(null);\n  store._modulesNamespaceMap = Object.create(null);\n  var state = store.state;\n  // init all modules\n  installModule(store, state, [], store._modules.root, true);\n  // reset vm\n  resetStoreVM(store, state, hot);\n}\n\nfunction resetStoreVM (store, state, hot) {\n  var oldVm = store._vm;\n\n  // bind store public getters\n  store.getters = {};\n  // reset local getters cache\n  store._makeLocalGettersCache = Object.create(null);\n  var wrappedGetters = store._wrappedGetters;\n  var computed = {};\n  forEachValue(wrappedGetters, function (fn, key) {\n    // use computed to leverage its lazy-caching mechanism\n    // direct inline function use will lead to closure preserving oldVm.\n    // using partial to return function with only arguments preserved in closure environment.\n    computed[key] = partial(fn, store);\n    Object.defineProperty(store.getters, key, {\n      get: function () { return store._vm[key]; },\n      enumerable: true // for local getters\n    });\n  });\n\n  // use a Vue instance to store the state tree\n  // suppress warnings just in case the user has added\n  // some funky global mixins\n  var silent = Vue.config.silent;\n  Vue.config.silent = true;\n  store._vm = new Vue({\n    data: {\n      $$state: state\n    },\n    computed: computed\n  });\n  Vue.config.silent = silent;\n\n  // enable strict mode for new vm\n  if (store.strict) {\n    enableStrictMode(store);\n  }\n\n  if (oldVm) {\n    if (hot) {\n      // dispatch changes in all subscribed watchers\n      // to force getter re-evaluation for hot reloading.\n      store._withCommit(function () {\n        oldVm._data.$$state = null;\n      });\n    }\n    Vue.nextTick(function () { return oldVm.$destroy(); });\n  }\n}\n\nfunction installModule (store, rootState, path, module, hot) {\n  var isRoot = !path.length;\n  var namespace = store._modules.getNamespace(path);\n\n  // register in namespace map\n  if (module.namespaced) {\n    if (store._modulesNamespaceMap[namespace] && (process.env.NODE_ENV !== 'production')) {\n      console.error((\"[vuex] duplicate namespace \" + namespace + \" for the namespaced module \" + (path.join('/'))));\n    }\n    store._modulesNamespaceMap[namespace] = module;\n  }\n\n  // set state\n  if (!isRoot && !hot) {\n    var parentState = getNestedState(rootState, path.slice(0, -1));\n    var moduleName = path[path.length - 1];\n    store._withCommit(function () {\n      if ((process.env.NODE_ENV !== 'production')) {\n        if (moduleName in parentState) {\n          console.warn(\n            (\"[vuex] state field \\\"\" + moduleName + \"\\\" was overridden by a module with the same name at \\\"\" + (path.join('.')) + \"\\\"\")\n          );\n        }\n      }\n      Vue.set(parentState, moduleName, module.state);\n    });\n  }\n\n  var local = module.context = makeLocalContext(store, namespace, path);\n\n  module.forEachMutation(function (mutation, key) {\n    var namespacedType = namespace + key;\n    registerMutation(store, namespacedType, mutation, local);\n  });\n\n  module.forEachAction(function (action, key) {\n    var type = action.root ? key : namespace + key;\n    var handler = action.handler || action;\n    registerAction(store, type, handler, local);\n  });\n\n  module.forEachGetter(function (getter, key) {\n    var namespacedType = namespace + key;\n    registerGetter(store, namespacedType, getter, local);\n  });\n\n  module.forEachChild(function (child, key) {\n    installModule(store, rootState, path.concat(key), child, hot);\n  });\n}\n\n/**\n * make localized dispatch, commit, getters and state\n * if there is no namespace, just use root ones\n */\nfunction makeLocalContext (store, namespace, path) {\n  var noNamespace = namespace === '';\n\n  var local = {\n    dispatch: noNamespace ? store.dispatch : function (_type, _payload, _options) {\n      var args = unifyObjectStyle(_type, _payload, _options);\n      var payload = args.payload;\n      var options = args.options;\n      var type = args.type;\n\n      if (!options || !options.root) {\n        type = namespace + type;\n        if ((process.env.NODE_ENV !== 'production') && !store._actions[type]) {\n          console.error((\"[vuex] unknown local action type: \" + (args.type) + \", global type: \" + type));\n          return\n        }\n      }\n\n      return store.dispatch(type, payload)\n    },\n\n    commit: noNamespace ? store.commit : function (_type, _payload, _options) {\n      var args = unifyObjectStyle(_type, _payload, _options);\n      var payload = args.payload;\n      var options = args.options;\n      var type = args.type;\n\n      if (!options || !options.root) {\n        type = namespace + type;\n        if ((process.env.NODE_ENV !== 'production') && !store._mutations[type]) {\n          console.error((\"[vuex] unknown local mutation type: \" + (args.type) + \", global type: \" + type));\n          return\n        }\n      }\n\n      store.commit(type, payload, options);\n    }\n  };\n\n  // getters and state object must be gotten lazily\n  // because they will be changed by vm update\n  Object.defineProperties(local, {\n    getters: {\n      get: noNamespace\n        ? function () { return store.getters; }\n        : function () { return makeLocalGetters(store, namespace); }\n    },\n    state: {\n      get: function () { return getNestedState(store.state, path); }\n    }\n  });\n\n  return local\n}\n\nfunction makeLocalGetters (store, namespace) {\n  if (!store._makeLocalGettersCache[namespace]) {\n    var gettersProxy = {};\n    var splitPos = namespace.length;\n    Object.keys(store.getters).forEach(function (type) {\n      // skip if the target getter is not match this namespace\n      if (type.slice(0, splitPos) !== namespace) { return }\n\n      // extract local getter type\n      var localType = type.slice(splitPos);\n\n      // Add a port to the getters proxy.\n      // Define as getter property because\n      // we do not want to evaluate the getters in this time.\n      Object.defineProperty(gettersProxy, localType, {\n        get: function () { return store.getters[type]; },\n        enumerable: true\n      });\n    });\n    store._makeLocalGettersCache[namespace] = gettersProxy;\n  }\n\n  return store._makeLocalGettersCache[namespace]\n}\n\nfunction registerMutation (store, type, handler, local) {\n  var entry = store._mutations[type] || (store._mutations[type] = []);\n  entry.push(function wrappedMutationHandler (payload) {\n    handler.call(store, local.state, payload);\n  });\n}\n\nfunction registerAction (store, type, handler, local) {\n  var entry = store._actions[type] || (store._actions[type] = []);\n  entry.push(function wrappedActionHandler (payload) {\n    var res = handler.call(store, {\n      dispatch: local.dispatch,\n      commit: local.commit,\n      getters: local.getters,\n      state: local.state,\n      rootGetters: store.getters,\n      rootState: store.state\n    }, payload);\n    if (!isPromise(res)) {\n      res = Promise.resolve(res);\n    }\n    if (store._devtoolHook) {\n      return res.catch(function (err) {\n        store._devtoolHook.emit('vuex:error', err);\n        throw err\n      })\n    } else {\n      return res\n    }\n  });\n}\n\nfunction registerGetter (store, type, rawGetter, local) {\n  if (store._wrappedGetters[type]) {\n    if ((process.env.NODE_ENV !== 'production')) {\n      console.error((\"[vuex] duplicate getter key: \" + type));\n    }\n    return\n  }\n  store._wrappedGetters[type] = function wrappedGetter (store) {\n    return rawGetter(\n      local.state, // local state\n      local.getters, // local getters\n      store.state, // root state\n      store.getters // root getters\n    )\n  };\n}\n\nfunction enableStrictMode (store) {\n  store._vm.$watch(function () { return this._data.$$state }, function () {\n    if ((process.env.NODE_ENV !== 'production')) {\n      assert(store._committing, \"do not mutate vuex store state outside mutation handlers.\");\n    }\n  }, { deep: true, sync: true });\n}\n\nfunction getNestedState (state, path) {\n  return path.reduce(function (state, key) { return state[key]; }, state)\n}\n\nfunction unifyObjectStyle (type, payload, options) {\n  if (isObject(type) && type.type) {\n    options = payload;\n    payload = type;\n    type = type.type;\n  }\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(typeof type === 'string', (\"expects string as the type, but found \" + (typeof type) + \".\"));\n  }\n\n  return { type: type, payload: payload, options: options }\n}\n\nfunction install (_Vue) {\n  if (Vue && _Vue === Vue) {\n    if ((process.env.NODE_ENV !== 'production')) {\n      console.error(\n        '[vuex] already installed. Vue.use(Vuex) should be called only once.'\n      );\n    }\n    return\n  }\n  Vue = _Vue;\n  applyMixin(Vue);\n}\n\n/**\n * Reduce the code which written in Vue.js for getting the state.\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} states # Object's item can be a function which accept state and getters for param, you can do something for state and getters in it.\n * @param {Object}\n */\nvar mapState = normalizeNamespace(function (namespace, states) {\n  var res = {};\n  if ((process.env.NODE_ENV !== 'production') && !isValidMap(states)) {\n    console.error('[vuex] mapState: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(states).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    res[key] = function mappedState () {\n      var state = this.$store.state;\n      var getters = this.$store.getters;\n      if (namespace) {\n        var module = getModuleByNamespace(this.$store, 'mapState', namespace);\n        if (!module) {\n          return\n        }\n        state = module.context.state;\n        getters = module.context.getters;\n      }\n      return typeof val === 'function'\n        ? val.call(this, state, getters)\n        : state[val]\n    };\n    // mark vuex getter for devtools\n    res[key].vuex = true;\n  });\n  return res\n});\n\n/**\n * Reduce the code which written in Vue.js for committing the mutation\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} mutations # Object's item can be a function which accept `commit` function as the first param, it can accept another params. You can commit mutation and do any other things in this function. specially, You need to pass anthor params from the mapped function.\n * @return {Object}\n */\nvar mapMutations = normalizeNamespace(function (namespace, mutations) {\n  var res = {};\n  if ((process.env.NODE_ENV !== 'production') && !isValidMap(mutations)) {\n    console.error('[vuex] mapMutations: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(mutations).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    res[key] = function mappedMutation () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n      // Get the commit method from store\n      var commit = this.$store.commit;\n      if (namespace) {\n        var module = getModuleByNamespace(this.$store, 'mapMutations', namespace);\n        if (!module) {\n          return\n        }\n        commit = module.context.commit;\n      }\n      return typeof val === 'function'\n        ? val.apply(this, [commit].concat(args))\n        : commit.apply(this.$store, [val].concat(args))\n    };\n  });\n  return res\n});\n\n/**\n * Reduce the code which written in Vue.js for getting the getters\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} getters\n * @return {Object}\n */\nvar mapGetters = normalizeNamespace(function (namespace, getters) {\n  var res = {};\n  if ((process.env.NODE_ENV !== 'production') && !isValidMap(getters)) {\n    console.error('[vuex] mapGetters: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(getters).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    // The namespace has been mutated by normalizeNamespace\n    val = namespace + val;\n    res[key] = function mappedGetter () {\n      if (namespace && !getModuleByNamespace(this.$store, 'mapGetters', namespace)) {\n        return\n      }\n      if ((process.env.NODE_ENV !== 'production') && !(val in this.$store.getters)) {\n        console.error((\"[vuex] unknown getter: \" + val));\n        return\n      }\n      return this.$store.getters[val]\n    };\n    // mark vuex getter for devtools\n    res[key].vuex = true;\n  });\n  return res\n});\n\n/**\n * Reduce the code which written in Vue.js for dispatch the action\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} actions # Object's item can be a function which accept `dispatch` function as the first param, it can accept anthor params. You can dispatch action and do any other things in this function. specially, You need to pass anthor params from the mapped function.\n * @return {Object}\n */\nvar mapActions = normalizeNamespace(function (namespace, actions) {\n  var res = {};\n  if ((process.env.NODE_ENV !== 'production') && !isValidMap(actions)) {\n    console.error('[vuex] mapActions: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(actions).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    res[key] = function mappedAction () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n      // get dispatch function from store\n      var dispatch = this.$store.dispatch;\n      if (namespace) {\n        var module = getModuleByNamespace(this.$store, 'mapActions', namespace);\n        if (!module) {\n          return\n        }\n        dispatch = module.context.dispatch;\n      }\n      return typeof val === 'function'\n        ? val.apply(this, [dispatch].concat(args))\n        : dispatch.apply(this.$store, [val].concat(args))\n    };\n  });\n  return res\n});\n\n/**\n * Rebinding namespace param for mapXXX function in special scoped, and return them by simple object\n * @param {String} namespace\n * @return {Object}\n */\nvar createNamespacedHelpers = function (namespace) { return ({\n  mapState: mapState.bind(null, namespace),\n  mapGetters: mapGetters.bind(null, namespace),\n  mapMutations: mapMutations.bind(null, namespace),\n  mapActions: mapActions.bind(null, namespace)\n}); };\n\n/**\n * Normalize the map\n * normalizeMap([1, 2, 3]) => [ { key: 1, val: 1 }, { key: 2, val: 2 }, { key: 3, val: 3 } ]\n * normalizeMap({a: 1, b: 2, c: 3}) => [ { key: 'a', val: 1 }, { key: 'b', val: 2 }, { key: 'c', val: 3 } ]\n * @param {Array|Object} map\n * @return {Object}\n */\nfunction normalizeMap (map) {\n  if (!isValidMap(map)) {\n    return []\n  }\n  return Array.isArray(map)\n    ? map.map(function (key) { return ({ key: key, val: key }); })\n    : Object.keys(map).map(function (key) { return ({ key: key, val: map[key] }); })\n}\n\n/**\n * Validate whether given map is valid or not\n * @param {*} map\n * @return {Boolean}\n */\nfunction isValidMap (map) {\n  return Array.isArray(map) || isObject(map)\n}\n\n/**\n * Return a function expect two param contains namespace and map. it will normalize the namespace and then the param's function will handle the new namespace and the map.\n * @param {Function} fn\n * @return {Function}\n */\nfunction normalizeNamespace (fn) {\n  return function (namespace, map) {\n    if (typeof namespace !== 'string') {\n      map = namespace;\n      namespace = '';\n    } else if (namespace.charAt(namespace.length - 1) !== '/') {\n      namespace += '/';\n    }\n    return fn(namespace, map)\n  }\n}\n\n/**\n * Search a special module from store by namespace. if module not exist, print error message.\n * @param {Object} store\n * @param {String} helper\n * @param {String} namespace\n * @return {Object}\n */\nfunction getModuleByNamespace (store, helper, namespace) {\n  var module = store._modulesNamespaceMap[namespace];\n  if ((process.env.NODE_ENV !== 'production') && !module) {\n    console.error((\"[vuex] module namespace not found in \" + helper + \"(): \" + namespace));\n  }\n  return module\n}\n\n// Credits: borrowed code from fcomb/redux-logger\n\nfunction createLogger (ref) {\n  if ( ref === void 0 ) ref = {};\n  var collapsed = ref.collapsed; if ( collapsed === void 0 ) collapsed = true;\n  var filter = ref.filter; if ( filter === void 0 ) filter = function (mutation, stateBefore, stateAfter) { return true; };\n  var transformer = ref.transformer; if ( transformer === void 0 ) transformer = function (state) { return state; };\n  var mutationTransformer = ref.mutationTransformer; if ( mutationTransformer === void 0 ) mutationTransformer = function (mut) { return mut; };\n  var actionFilter = ref.actionFilter; if ( actionFilter === void 0 ) actionFilter = function (action, state) { return true; };\n  var actionTransformer = ref.actionTransformer; if ( actionTransformer === void 0 ) actionTransformer = function (act) { return act; };\n  var logMutations = ref.logMutations; if ( logMutations === void 0 ) logMutations = true;\n  var logActions = ref.logActions; if ( logActions === void 0 ) logActions = true;\n  var logger = ref.logger; if ( logger === void 0 ) logger = console;\n\n  return function (store) {\n    var prevState = deepCopy(store.state);\n\n    if (typeof logger === 'undefined') {\n      return\n    }\n\n    if (logMutations) {\n      store.subscribe(function (mutation, state) {\n        var nextState = deepCopy(state);\n\n        if (filter(mutation, prevState, nextState)) {\n          var formattedTime = getFormattedTime();\n          var formattedMutation = mutationTransformer(mutation);\n          var message = \"mutation \" + (mutation.type) + formattedTime;\n\n          startMessage(logger, message, collapsed);\n          logger.log('%c prev state', 'color: #9E9E9E; font-weight: bold', transformer(prevState));\n          logger.log('%c mutation', 'color: #03A9F4; font-weight: bold', formattedMutation);\n          logger.log('%c next state', 'color: #4CAF50; font-weight: bold', transformer(nextState));\n          endMessage(logger);\n        }\n\n        prevState = nextState;\n      });\n    }\n\n    if (logActions) {\n      store.subscribeAction(function (action, state) {\n        if (actionFilter(action, state)) {\n          var formattedTime = getFormattedTime();\n          var formattedAction = actionTransformer(action);\n          var message = \"action \" + (action.type) + formattedTime;\n\n          startMessage(logger, message, collapsed);\n          logger.log('%c action', 'color: #03A9F4; font-weight: bold', formattedAction);\n          endMessage(logger);\n        }\n      });\n    }\n  }\n}\n\nfunction startMessage (logger, message, collapsed) {\n  var startMessage = collapsed\n    ? logger.groupCollapsed\n    : logger.group;\n\n  // render\n  try {\n    startMessage.call(logger, message);\n  } catch (e) {\n    logger.log(message);\n  }\n}\n\nfunction endMessage (logger) {\n  try {\n    logger.groupEnd();\n  } catch (e) {\n    logger.log('\u2014\u2014 log end \u2014\u2014');\n  }\n}\n\nfunction getFormattedTime () {\n  var time = new Date();\n  return (\" @ \" + (pad(time.getHours(), 2)) + \":\" + (pad(time.getMinutes(), 2)) + \":\" + (pad(time.getSeconds(), 2)) + \".\" + (pad(time.getMilliseconds(), 3)))\n}\n\nfunction repeat (str, times) {\n  return (new Array(times + 1)).join(str)\n}\n\nfunction pad (num, maxLength) {\n  return repeat('0', maxLength - num.toString().length) + num\n}\n\nvar index_cjs = {\n  Store: Store,\n  install: install,\n  version: '3.6.2',\n  mapState: mapState,\n  mapMutations: mapMutations,\n  mapGetters: mapGetters,\n  mapActions: mapActions,\n  createNamespacedHelpers: createNamespacedHelpers,\n  createLogger: createLogger\n};\n\nmodule.exports = index_cjs;\n", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n  props: {\n    prescription: {\n      type: Object,\n      default: {},\n      required: true\n    }\n  },\n  methods: {\n    prescriptionClicked() {\n      //alert(this.prescription);\n      this.$emit(\"prescriptionClicked\", this.prescription);\n    }\n  },\n  filters: {\n    // Filter definitions\n    Upper(value) {\n      return value.toUpperCase();\n    },\n    title(str) {\n      return str.replace(/\\w([^-\\s]*)/g, function(txt) {\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n      });\n    },\n    last_5(str) {\n      return str.substring(str.length - 5);\n    }\n  }\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"b-list-group-item\",\n    {\n      staticClass: \"d-flex align-items-center\",\n      staticStyle: { cursor: \"pointer\" },\n      on: { click: _vm.prescriptionClicked }\n    },\n    [\n      _c(\n        \"b-row\",\n        { attrs: { \"align-h\": \"between\" } },\n        [\n          _c(\"b-col\", { attrs: { \"align-self\": \"stretch\" } }, [\n            _c(\"span\", { staticClass: \"mr-auto title-name\" }, [\n              _vm._v(_vm._s(_vm.prescription.patient))\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"b-row\",\n            [\n              _c(\"b-col\", { staticClass: \"time-text\", attrs: { cols: \"12\" } }, [\n                _vm._v(\n                  \"\\n        \" + _vm._s(_vm.prescription.status) + \"\\n       \"\n                ),\n                _vm.prescription.status === \"Pending\"\n                  ? _c(\"span\", {\n                      staticClass: \"indicator whitespace-nowrap orange\"\n                    })\n                  : _vm._e(),\n                _vm._v(\" \"),\n                _vm.prescription.status === \"Dispensed\"\n                  ? _c(\"span\", {\n                      staticClass: \"indicator whitespace-nowrap green\"\n                    })\n                  : _vm._e()\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"b-col\",\n                { staticClass: \"time-text\", attrs: { cols: \"12\" } },\n                [\n                  _c(\"b-icon-exclamation-triangle-fill\"),\n                  _vm._v(\n                    \"\\n       \" +\n                      _vm._s(_vm.prescription.invoice_status) +\n                      \"\\n        \"\n                  ),\n                  _vm.prescription.invoice_status === \"Paid\"\n                    ? _c(\"span\", {\n                        staticClass: \"indicator whitespace-nowrap green\"\n                      })\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.prescription.invoice_status === \"Pending\" ||\n                  _vm.prescription.invoice_status === \"Invoiced\"\n                    ? _c(\"span\", {\n                        staticClass: \"indicator whitespace-nowrap orange\"\n                      })\n                    : _vm._e()\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-3687b65a_0\", { source: \"\\n.title-row[data-v-3687b65a] {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/pharmacy/components/core/sidebar/SidebarItem.vue\"],\"names\":[],\"mappings\":\";AAgGA;EACA,aAAA;EACA,8BAAA;AACA\",\"file\":\"SidebarItem.vue\",\"sourcesContent\":[\"<template>\\n  <!-- <div>\\n    <strong style=\\\"margin-bottom:16px;\\\" @click=\\\"prescriptionClicked()\\\">\\n      {{ prescription.name | last_5 }}\\n        &nbsp;  &nbsp;\\n      {{ prescription.patient | Upper }}\\n        &nbsp;  &nbsp;\\n         {{ prescription.invoice_status }}\\n          {{ prescription.status }}\\n      <span class=\\\"indicator whitespace-nowrap orange\\\">\\n        <!- <span>Pending</span> ->\\n        </span>\\n        &nbsp;  &nbsp;\\n       <span class=\\\"indicator whitespace-nowrap green\\\">\\n         <!- <span>Issued</span> ->\\n         </span>\\n    </strong>\\n  </div> -->\\n    <b-list-group-item\\n    class=\\\"d-flex align-items-center\\\"\\n    style=\\\"cursor:pointer;\\\"\\n    @click=\\\"prescriptionClicked\\\"\\n  >\\n    <!-- <b-avatar class=\\\"mr-3\\\"></b-avatar> -->\\n    <b-row  align-h=\\\"between\\\">\\n      <b-col  align-self=\\\"stretch\\\"><span class=\\\"mr-auto title-name\\\">{{prescription.patient }}</span>\\n      </b-col>\\n\\n      <!-- <b-col cols=\\\"2\\\">\\n        <span class=\\\"pull-right\\\"\\n          ><svg\\n            xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n            width=\\\"16\\\"\\n            height=\\\"16\\\"\\n            fill=\\\"currentColor\\\"\\n            class=\\\"bi bi-chevron-right\\\"\\n            viewBox=\\\"0 0 16 16\\\"\\n          >\\n            <path\\n              fill-rule=\\\"evenodd\\\"\\n              d=\\\"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z\\\"\\n            /></svg\\n        ></span>\\n      </b-col> -->\\n    <b-row>\\n      <b-col cols=\\\"12\\\" class=\\\"time-text\\\">\\n          {{ prescription.status }}\\n         <span  v-if=\\\"prescription.status === 'Pending'\\\" class=\\\"indicator whitespace-nowrap orange\\\">\\n              </span>\\n                <span v-if=\\\"prescription.status === 'Dispensed'\\\" class=\\\"indicator whitespace-nowrap green\\\">\\n              </span>  \\n        </b-col>\\n      <b-col cols=\\\"12\\\" class=\\\"time-text\\\"> \\n         <b-icon-exclamation-triangle-fill></b-icon-exclamation-triangle-fill>\\n         {{ prescription.invoice_status }}\\n          <span v-if=\\\"prescription.invoice_status === 'Paid'\\\" class=\\\"indicator whitespace-nowrap green\\\">\\n          </span>\\n          <span  v-if=\\\"prescription.invoice_status === 'Pending' || prescription.invoice_status === 'Invoiced'\\\" class=\\\"indicator whitespace-nowrap orange\\\">\\n          </span>\\n         </b-col>\\n    </b-row>\\n    </b-row>\\n  </b-list-group-item>\\n</template>\\n<script>\\nexport default {\\n  props: {\\n    prescription: {\\n      type: Object,\\n      default: {},\\n      required: true\\n    }\\n  },\\n  methods: {\\n    prescriptionClicked() {\\n      //alert(this.prescription);\\n      this.$emit(\\\"prescriptionClicked\\\", this.prescription);\\n    }\\n  },\\n  filters: {\\n    // Filter definitions\\n    Upper(value) {\\n      return value.toUpperCase();\\n    },\\n    title(str) {\\n      return str.replace(/\\\\w([^-\\\\s]*)/g, function(txt) {\\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\\n      });\\n    },\\n    last_5(str) {\\n      return str.substring(str.length - 5);\\n    }\\n  }\\n};\\n</script>\\n<style scoped>\\n.title-row {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-3687b65a\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n  <!-- <div>\\n    <strong style=\\\"margin-bottom:16px;\\\" @click=\\\"prescriptionClicked()\\\">\\n      {{ prescription.name | last_5 }}\\n        &nbsp;  &nbsp;\\n      {{ prescription.patient | Upper }}\\n        &nbsp;  &nbsp;\\n         {{ prescription.invoice_status }}\\n          {{ prescription.status }}\\n      <span class=\\\"indicator whitespace-nowrap orange\\\">\\n        <!- <span>Pending</span> ->\\n        </span>\\n        &nbsp;  &nbsp;\\n       <span class=\\\"indicator whitespace-nowrap green\\\">\\n         <!- <span>Issued</span> ->\\n         </span>\\n    </strong>\\n  </div> -->\\n    <b-list-group-item\\n    class=\\\"d-flex align-items-center\\\"\\n    style=\\\"cursor:pointer;\\\"\\n    @click=\\\"prescriptionClicked\\\"\\n  >\\n    <!-- <b-avatar class=\\\"mr-3\\\"></b-avatar> -->\\n    <b-row  align-h=\\\"between\\\">\\n      <b-col  align-self=\\\"stretch\\\"><span class=\\\"mr-auto title-name\\\">{{prescription.patient }}</span>\\n      </b-col>\\n\\n      <!-- <b-col cols=\\\"2\\\">\\n        <span class=\\\"pull-right\\\"\\n          ><svg\\n            xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n            width=\\\"16\\\"\\n            height=\\\"16\\\"\\n            fill=\\\"currentColor\\\"\\n            class=\\\"bi bi-chevron-right\\\"\\n            viewBox=\\\"0 0 16 16\\\"\\n          >\\n            <path\\n              fill-rule=\\\"evenodd\\\"\\n              d=\\\"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z\\\"\\n            /></svg\\n        ></span>\\n      </b-col> -->\\n    <b-row>\\n      <b-col cols=\\\"12\\\" class=\\\"time-text\\\">\\n          {{ prescription.status }}\\n         <span  v-if=\\\"prescription.status === 'Pending'\\\" class=\\\"indicator whitespace-nowrap orange\\\">\\n              </span>\\n                <span v-if=\\\"prescription.status === 'Dispensed'\\\" class=\\\"indicator whitespace-nowrap green\\\">\\n              </span>  \\n        </b-col>\\n      <b-col cols=\\\"12\\\" class=\\\"time-text\\\"> \\n         <b-icon-exclamation-triangle-fill></b-icon-exclamation-triangle-fill>\\n         {{ prescription.invoice_status }}\\n          <span v-if=\\\"prescription.invoice_status === 'Paid'\\\" class=\\\"indicator whitespace-nowrap green\\\">\\n          </span>\\n          <span  v-if=\\\"prescription.invoice_status === 'Pending' || prescription.invoice_status === 'Invoiced'\\\" class=\\\"indicator whitespace-nowrap orange\\\">\\n          </span>\\n         </b-col>\\n    </b-row>\\n    </b-row>\\n  </b-list-group-item>\\n</template>\\n<script>\\nexport default {\\n  props: {\\n    prescription: {\\n      type: Object,\\n      default: {},\\n      required: true\\n    }\\n  },\\n  methods: {\\n    prescriptionClicked() {\\n      //alert(this.prescription);\\n      this.$emit(\\\"prescriptionClicked\\\", this.prescription);\\n    }\\n  },\\n  filters: {\\n    // Filter definitions\\n    Upper(value) {\\n      return value.toUpperCase();\\n    },\\n    title(str) {\\n      return str.replace(/\\\\w([^-\\\\s]*)/g, function(txt) {\\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\\n      });\\n    },\\n    last_5(str) {\\n      return str.substring(str.length - 5);\\n    }\\n  }\\n};\\n</script>\\n<style scoped>\\n.title-row {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "export const api = ({ method, args = {}, freeze=true  }) =>\n    new Promise((resolve, reject) =>\n        frappe.call({ method, args, freeze, callback: resolve })\n    );\n\nexport const getPrescriptionList = ({\n        start = 0,\n        page_length = 20,\n        patient = \"\"\n    }) =>\n    api({\n        method: \"clinical.clinical.page.prescription_page.prescription_page.get_prescriptions_items\",\n        args: {\n            start,\n            page_length,\n            patient\n        },\n    }).then(({ message }) => message);\n\nexport const getPrescriptions = ({\n        start = 0,\n        page_length = 20,\n        warehouse,\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.get_prescriptions\",\n        args: {\n            start,\n            page_length,\n            warehouse,\n        },\n    }).then(({ message }) => message);\n\nexport const getPrescriptionsV2 = ({\n        start = 0,\n        page_length = 20,\n        warehouse_name,\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.get_warehouse_prescriptions\",\n        args: {\n            start,\n            page_length,\n            warehouse_name,\n        },\n    }).then(({ message }) => message);\n\nexport const getPatientPrescriptionsV2 = ({\n        patient_name,\n        encounter_name,\n        ...restArgs\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.get_patient_prescriptions\",\n        freeze: false,\n        args: {\n            patient_name,\n            encounter_name,\n            ...restArgs,\n        },\n    }).then(({ message }) => message);\n\nexport const updatePrescriptionItem = ({\n        name,\n        qty,\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.update_prescription_item\",\n        args: {\n            name,\n            qty,\n        },\n    }).then(({ message }) => message)\n\nexport const createPrescriptionInvoice = ({\n        patient,\n        grand_total,\n        encounter_names,\n        appointment_name,\n    }) =>\n    api({\n        method: \"clinical.api.prescription.invoice.create_sales_invoice\",\n        args: {\n            patient,\n            grand_total,\n            encounter_names,\n            appointment_name\n        },\n    }).then(({ message }) => message);\n\nexport const getPrescriptionInvoice = ({\n        name\n    }) =>\n    api({\n        method: \"clinical.api.prescription.invoice.get_prescription_invoice\",\n        args: {\n            name\n        },\n    }).then(({ message }) => message);\n\nexport const setPrescriptionInvoiceNumber = ({\n        prescription_name,\n        invoice_name,\n    }) =>\n    api({\n        method: \"clinical.api.prescription.invoice.set_prescription_invoice\",\n        args: {\n            prescription_name,\n            invoice_name,\n        },\n    }).then(({ message }) => message);\n\nexport const getDrugItemAlternates = ({\n        drug_name\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.get_drug_item_alternates\",\n        args: {\n            drug_name\n        },\n    }).then(({ message }) => message);\n\nexport const updatePrescriptionItemDrug = ({\n        prescription_item_name,\n        drug_name,\n        patient_name,\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.update_prescription_item_drug\",\n        args: {\n            prescription_item_name,\n            drug_name,\n            patient_name,\n        },\n    }).then(({ message }) => message)\n\nexport const getPrecriptionDrugUnitPrice = ({\n        drug_name,\n        patient_name,\n    }) =>\n    api({\n        method: \"clinical.clinical.doctype.prescription.utils.get_drug_unit_price\",\n        args: {\n            drug_name,\n            patient_name,\n        },\n    }).then(({ message }) => message)\n\nexport const getHealthcareServiceUnits = ({\n\n    }) =>\n    api({\n        method: \"clinical.clinical.page.prescription_page.prescription_page.get_healthcare_service_unit\",\n        args: {\n\n        },\n    }).then(({ message }) => message)\n\nexport const updatePrescriptionWarehouse = ({\n        prescription_name,\n        warehouse_name,\n    }) =>\n    api({\n        method: \"clinical.api.prescription.warehouse.update_prescription_warehouse\",\n        args: {\n            prescription_name,\n            warehouse_name,\n        },\n    }).then(({ message }) => message);\n\nexport const searchPrescriptions = ({\n        patient_name\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.search_prescriptions\",\n        args: {\n            patient_name\n        },\n    }).then(({ message }) => message);\n\nexport const filterPrescriptions = ({\n        start = 0,\n        page_length = 20,\n        filter,\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.filter_prescriptions\",\n        args: {\n            start,\n            page_length,\n            filter,\n        },\n    }).then(({ message }) => message);\n\nexport const getWarehouses = ({\n\n    }) =>\n    api({\n        method: \"clinical.api.warehouse.warehouse.get_warehouse_list\",\n        args: {\n\n        },\n    }).then(({ message }) => message)\n\nexport const getUserWarehouses = ({\n        user_name\n    }) =>\n    api({\n        method: \"clinical.api.warehouse.user_warehouse.get_user_warehouses\",\n        args: {\n            user_name\n        },\n    }).then(({ message }) => message)\n\nexport const dispenseStockEntry = (args) =>\n    api({\n        method: \"clinical.api.prescription.stock.prescription_dispense_stock_entry\",\n        args,\n    }).then(({ message }) => message)\n\nexport const prescriptionItemMaterialRequest = ({\n        drug,\n        quantity,\n        warehouse,\n        from_warehouse\n    }) =>\n    api({\n        method: \"clinical.api.prescription.stock.make_material_request\",\n        args: {\n            drug,\n            quantity,\n            warehouse,\n            from_warehouse\n        },\n    }).then(({ message }) => message)\n\nexport const prescriptionChangeComment = ({\n        reference_doctype,\n        reference_name,\n        content,\n        comment_email,\n        comment_by\n    }) =>\n    api({\n        method: \"frappe.desk.form.utils.add_comment\",\n        args: {\n            reference_doctype,\n            reference_name,\n            content,\n            comment_email,\n            comment_by\n        },\n    }).then(({ message }) => message)\n\nexport const customerInfomation = ({\n        patient_name,\n    }) =>\n    api({\n        method: \"clinical.api.prescription.customer.get_customer_group\",\n        args: {\n            patient_name,\n        },\n    }).then(({ message }) => message)\n\n// export const createPrescriptionSalesOrder = (data) =>\n//     api({\n//         method: 'billing.billing.api.sales_orders.sales_order_endpoint.create_sales_order_endpoint',\n//         args: {\n//             data\n//         },\n//     });\n\n\nexport const getWarehouseServicePoints = ({\n        warehouse_name\n    }) =>\n    api({\n        method: \"clinical.api.warehouse.user_warehouse.get_service_point_list\",\n        args: {\n            warehouse_name\n        },\n    }).then(({ message }) => message)\n\n\nexport const createPrescriptionSalesOrder = ({\n        prescription_docs\n    }) =>\n    api({\n        method: \"clinical.api.prescription.invoice.prescription_sales_order\",\n        args: {\n            prescription_docs\n        },\n    }).then(({ message }) => message);\n\n\nexport const dispensePrescription = ({\n        prescription_names,\n        patient_name,\n        warehouse_name\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.dispense_prescriptions\",\n        args: {\n            prescription_names,\n            patient_name,\n            warehouse_name\n        },\n    }).then(({ message }) => message)\n\nexport const getPrescriptionRefills = ({\n        patient_name,\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.fetch_patient_refills\",\n        args: {\n            patient_name,\n        },\n    }).then(({ message }) => message)\n\n\nexport const updatePrescriptionRefillRate = ({\n        refill_name,\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.update_refill_rates\",\n        args: {\n            refill_name,\n        },\n    }).then(({ message }) => message)\n\nexport const updatePrescriptionRefillQuantity = ({\n        refill_name,\n        qty\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.update_refill_quantity\",\n        args: {\n            refill_name,\n            qty\n        },\n    }).then(({ message }) => message)\n\nexport const createRefillSalesOrder = ({\n        refill_doc_name\n    }) =>\n    api({\n        method: \"clinical.api.prescription.invoice.refill_sales_order\",\n        args: {\n            refill_doc_name\n        },\n    }).then(({ message }) => message);\n\nexport const dispensePrescriptionRefill = ({\n        refill_name\n    }) =>\n    api({\n        method: \"clinical.api.prescription.prescription.dispense_prescriptions_refill\",\n        args: {\n            refill_name\n        },\n    }).then(({ message }) => message)\n\n\nexport const getMatchedItems = (args) => {\n    return api({\n        method: \"clinical.api.orders.prescriptions.get_drug_options\",\n        args,\n    }).then(({ message }) => message)\n}\n\nexport const matchStockItemApi = (args) => {\n    return api({\n        method: \"clinical.clinical.doctype.drug.drug.match_drug_to_stock_item\",\n        args,\n    }).then(({ message }) => message)\n}\n\nexport const createMedicationOrder = (order) =>\n    api({\n        method: \"clinical.api.inpatient_medication_orders.inpatient_medication_orders.create_inpatient_medication_order\",\n        args: {\n            order,\n        },\n    });\n// get_drugs_awaiting_dispensation\nexport const createDrugSalesOrder = (args) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.create_a_drug_sales_order\",\n        args,\n    }).then(({ message }) => message)\n\nexport const getItemPriceListRate = ({\n        item_code,\n        customer,\n        warehouse = \"\",\n        qty = 1,\n    }) =>\n    api({\n        method: \"billing.billing.api.sales_orders.sales_order_endpoint.get_price_list_rate\",\n        args: {\n            item_code,\n            customer,\n            warehouse,\n            qty,\n        },\n    });\n// stage_for_order\n    export const getDrugsAwaitingDispense = (args) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_drugs_awaiting_dispensation\",\n        args,\n    }).then(({ message }) => message)\n\n    export const getCurrentMedicationOrders = (args) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_inpatient_medication_orders_in_progress\",\n        args,\n    }).then(({ message }) => message)\n\n    export const stageItemForOrder = (args) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.stage_for_order\",\n        args,\n    }).then(({ message }) => message)\n\n    export const calculatePrescriptionQuantity = (args) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.calculate_prescription_qty\",\n        args,\n    }).then(({ message }) => message)\n\nexport const getDrugGroups = (args = {}) => {\n    return  api({\n        method: \"clinical.api.orders.prescriptions.get_drug_item_groups\",\n        args,\n    }).then(({ message }) => message)\n}\n\nexport const removeMatchedItem = (args) => {\n    return api({\n        method: \"clinical.clinical.doctype.drug.drug.remove_matched_item\",\n        args,\n    }).then(({ message }) => message)\n}\n\nexport const addADrug = (args) => {\n    return api({\n        method: \"clinical.clinical.doctype.drug.drug.add_a_drug\",\n        args,\n    }).then(({ message }) => message)\n}\n\nexport const updateDrugPrescription = (args = {}) => {\n    return  api({\n        method: \"clinical.api.orders.prescriptions.edit_prescription\",\n        args,\n    }).then(({ message }) => message)\n}\n\nexport const unStageApi = (args = {}) => {\n    console.log(args)\n    return  api({\n        method: \"clinical.api.orders.prescriptions.un_stage\",\n        args,\n    }).then(({ message }) => message)\n}\n\nexport const cancelOrderedPrescription = (args={}) => {\n    return api({\n        method: \"clinical.api.orders.prescriptions.cancel_ordered_prescription\",\n        args\n    })\n}\n\nexport const cancelOrderReadyForDispense = (args={}) => {\n    return api({\n        method: \"clinical.api.orders.prescriptions.cancel_prescription_ready_to_dispense\",\n        args\n    })\n}\n\nexport const getPatientInfo = (patient_name) =>\n    api({\n        method: \"clinical.api.patients.get_patient_details\",\n        args: {patient_name},\n    });\n\nexport const getMedicationOrders = (entry) => {\n    return api({\n        method: \"clinical.api.inpatient_drug_administration.inpatient_drug_administration.fetch_medication_orders\",\n        freeze: false,\n        args: {\n            entry\n        },\n    }).then(({ message }) => message);\n}\n\nexport const calculateStockBalance = (args) => {\n    return api({\n        method: \"clinical.api.inpatient_drug_administration.inpatient_drug_administration.calculate_stock_balance\",\n        freeze: false,\n        args,\n    }).then(({ message }) => message);\n}\n\n\n// dispatch_drug_to_store\nexport const dispatchMedicationOrder = (args) => {\n    return api({\n        method: \"clinical.api.inpatient_drug_administration.inpatient_drug_administration.dispatch_drug_to_ward\",\n        args,\n    }).then(({ message }) => message);\n}\n\nexport const cancelInpatientPrescriptions = (name) => {\n    return api({\n        method: \"clinical.api.orders.prescriptions.cancel_from_pharmacy\",\n        args: { name }\n    })\n}", "export default {\n    warehouses: [],\n    selectedWarehouse: null,\n    servicePoints: null,\n    selectedServicePoint: null\n};", "export default {\n    SET_SERVICE_POINTS(state, servicePoints) {\n        state.servicePoints = servicePoints;\n    },\n    SET_WAREHOUSES(state, warehouses) {\n        state.warehouses = warehouses;\n    },\n    SET_SELECTED_WAREHOUSE(state, wh) {\n        state.selectedWarehouse = wh;\n    },\n    SET_SELECTED_SERVICE_POINT(state, sp) {\n        state.selectedServicePoint = sp;\n    },\n};", "import {\n    getUserWarehouses,\n    getWarehouseServicePoints\n} from '../../services/pharmacy/prescriptions.js'\nexport default {\n    fetchWarehouseServicePoints({ commit }, payload) {\n        getWarehouseServicePoints({ warehouse_name: payload }).then(result => {\n            if (result && result.length > 0) {\n                // this.setServicePoint(result[0]) SET_SELECTED_SERVICE_POINT\n                commit('SET_SERVICE_POINTS', result);\n                commit('SET_SELECTED_SERVICE_POINT', result[0]);\n\n            } else {\n                frappe.msgprint({\n                    message: `No service Point(s) for this warehoue.`,\n                    indicator: 'red'\n                }, 5);\n            }\n        })\n    },\n    fetchUserWarehouses({ commit }, payload = \"\") {\n        getUserWarehouses({\n            user_name: frappe.session.user\n        }).then(result => {\n            // console.log(JSON.stringify(result))\n            if (result && result.length > 0) {\n                commit('SET_WAREHOUSES', result);\n                commit('SET_SELECTED_WAREHOUSE', result[0]);\n            } else {\n                frappe.msgprint({\n                    message: `You are not assigned to any warehouse.\\nContact Support for help.`,\n                    indicator: 'red'\n                }, 5);\n            }\n        });\n    }\n}", "export default {\n    // warehouses: state => state.warehouses,\n    // servicePoints: state => state.servicePoints,\n    // selectedWarehouse: state => state.selectedWarehouse,\n    // selectedServicePoint: state => state.selectedServicePoint,\n    warehouses: state => {\n        return state.warehouses;\n    },\n    servicePoints: state => {\n        return state.servicePoints;\n    },\n    selectedServicePoint: state => {\n        return state.selectedServicePoint;\n    }\n    // selectedServicePoint: state => {\n    //     return state.selectedServicePoint;\n    // }\n};", "import state from \"./state.js\";\nimport mutations from \"./mutations.js\";\nimport actions from \"./actions.js\";\nimport getters from \"./getters.js\";\n\nexport default {\n    // isRegistered: false,\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n    getters\n};", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport {\n    getUserWarehouses,\n    getWarehouseServicePoints\n} from '../../../../services/pharmacy/prescriptions.js'\nimport warehouseModule from \"../../../../state/pharmacy-warehouse\";\n\n\nconst __vue_script__ = {\n    name: 'WarehouseSelect',\n    props: {\n        servicePoint: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            // warehouses: [],\n            // selectedWarehouse: null,\n            // servicePoints: null,\n            // selectedServicePoint: null\n        };\n    },\n    computed: {\n        // warehouses() {\n        //     return this.$store.getters[\"warehouseModule/warehouses\"];\n        // },\n        // servicePoints() {\n        //     return this.$store.getters[\"warehouseModule/servicePoints\"];\n        // },\n        //  selectedWarehouse() {\n        //     return this.$store.getters[\"warehouseModule/selectedWarehouse\"];\n        // },\n        //  selectedServicePoint() {\n        //     return this.$store.getters[\"warehouseModule/selectedServicePoint\"];\n        // },\n    },\n    created() {\n        this.$store.registerModule(\"warehouseModule\", warehouseModule);\n\n    },\n    mounted() {\n        this.getWarehouses();\n    },\n    watch: {\n        selectedWarehouse() {\n            // this.$store.dispatch(\"warehouseModule/fetchWarehouseServicePoints\", this.selectedWarehouse.warehouse);\n\n            getWarehouseServicePoints({ warehouse_name: this.selectedWarehouse.warehouse }).then(result => {\n                if (result && result.length > 0) {\n                    this.servicePoints = result;\n                    this.setServicePoint(result[0])\n                } else {\n                    frappe.msgprint({\n                        message: `No service Point(s) for this warehoue.`,\n                        indicator: 'red'\n                    }, 5);\n                }\n            })\n        },\n        warehouses(){\n            // alert('warehouses')\n            this.setWarehouse(this.warehouses[0]);\n        },\n         servicePoints(){\n            // alert('servicePoints')\n            this.setServicePoint(this.servicePoints[0]);\n        }\n    },\n    methods: {\n        refresh() {\n            if (this.selectedWarehouse && this.selectedServicePoint) {\n                this.$emit('warehouseSelected', this.selectedWarehouse)\n                this.$emit('selectedServicePoint', this.selectedServicePoint)\n            }\n        },\n        setWarehouse(warehouse) {\n            this.selectedWarehouse = warehouse;\n            this.$emit('warehouseSelected', warehouse)\n        },\n        setServicePoint(servicePoint) {\n            this.selectedServicePoint = servicePoint;\n            this.$emit('selectedServicePoint', servicePoint)\n        },\n        getWarehouses() {\n\n            // this.$store.dispatch(\"warehouseModule/fetchUserWarehouses\", '');\n            \n            getUserWarehouses({\n                user_name: frappe.session.user\n            }).then(result => {\n                if (result && result.length > 0) {\n\n                    this.warehouses = result;\n                    this.setWarehouse(result[0]);\n                    this.loading = false;\n                } else {\n                    frappe.msgprint({\n                        message: `You are not assigned to any warehouse.\\nContact Support for help.`,\n                        indicator: 'red'\n                    }, 5);\n                }\n            });\n        }\n    }\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"ward-selection\" },\n    [\n      _c(\n        \"b-row\",\n        { staticClass: \"no-background\" },\n        [\n          _vm.selectedWarehouse && _vm.selectedWarehouse.warehouse\n            ? _c(\n                \"b-col\",\n                { staticClass: \"no-background\", attrs: { cols: \"10\" } },\n                [\n                  _c(\n                    \"b-dropdown\",\n                    {\n                      staticClass: \"fill-width custom-menu-bg\",\n                      staticStyle: { width: \"100%\", margin: \"auto\" },\n                      attrs: {\n                        text: _vm.selectedWarehouse.warehouse,\n                        variant: \"primary\",\n                        split: \"\",\n                        \"split-variant\": \"outline-secondary\"\n                      }\n                    },\n                    _vm._l(_vm.warehouses, function(warehouse) {\n                      return _c(\n                        \"b-dropdown-item\",\n                        {\n                          key: warehouse.name,\n                          staticStyle: { \"text-transform\": \"capitalize\" },\n                          on: {\n                            click: function($event) {\n                              return _vm.setWarehouse(warehouse)\n                            }\n                          }\n                        },\n                        [_vm._v(_vm._s(warehouse.warehouse))]\n                      )\n                    }),\n                    1\n                  )\n                ],\n                1\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\"b-col\", { attrs: { md: \"2\" } })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-87d761be_0\", { source: \"\\n.fill-width[data-v-87d761be] {\\n    width: 100% !important;\\n}\\n.firt-text[data-v-87d761be] {\\n    font-size: large;\\n}\\n.cust-nav[data-v-87d761be] {\\n    box-shadow: 0px 0px !important;\\n    padding: 0px !important;\\n}\\n.ward-selection[data-v-87d761be] {\\n    background: rgba(76, 175, 80, 0);\\n    padding: auto;\\n}\\n.unit-title[data-v-87d761be] {\\n    font-weight: 700;\\n    color: dimgray;\\n    margin-bottom: 0px !important;\\n}\\n.no-background[data-v-87d761be] {\\n    background: rgba(76, 175, 80, 0);\\n}\\n.custom-menu-bg[data-v-87d761be] {\\n    background: white;\\n    border-radius: 7px;\\n    border: 0px;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/pharmacy/components/core/sidebar/WarehouseSelect.vue\"],\"names\":[],\"mappings\":\";AAwIA;IACA,sBAAA;AACA;AAEA;IACA,gBAAA;AACA;AAEA;IACA,8BAAA;IACA,uBAAA;AACA;AAEA;IACA,gCAAA;IACA,aAAA;AACA;AAEA;IACA,gBAAA;IACA,cAAA;IACA,6BAAA;AACA;AAEA;IACA,gCAAA;AACA;AAEA;IACA,iBAAA;IACA,kBAAA;IACA,WAAA;AACA\",\"file\":\"WarehouseSelect.vue\",\"sourcesContent\":[\"<template>\\n    <div class=\\\"ward-selection\\\">\\n        <b-row class=\\\"no-background\\\">\\n            <!-- {{ warehouses }} {{ servicePoints }} -->\\n            <b-col v-if=\\\"selectedWarehouse && selectedWarehouse.warehouse\\\" cols=\\\"10\\\" class=\\\"no-background\\\">\\n                <b-dropdown :text=\\\"selectedWarehouse.warehouse\\\" variant=\\\"primary\\\" split split-variant=\\\"outline-secondary\\\" class=\\\"fill-width custom-menu-bg\\\" style=\\\"width:100%;margin:auto;\\\">\\n                    <b-dropdown-item v-for=\\\"warehouse in warehouses\\\" :key=\\\"warehouse.name\\\" @click=\\\"setWarehouse(warehouse)\\\" style=\\\"text-transform: capitalize;\\\">{{ warehouse.warehouse }}</b-dropdown-item>\\n                </b-dropdown>\\n            </b-col>\\n            <b-col md=\\\"2\\\">\\n                <!-- <button @click=\\\"refresh\\\" class=\\\"text-muted btn btn-default  icon-btn\\\" title=\\\"\\\" style=\\\"margin:auto;\\\" data-original-title=\\\"Refresh\\\">\\n                            <svg class=\\\"icon icon-md\\\" style=\\\"\\\">\\n                            <use class=\\\"\\\" href=\\\"#icon-refresh\\\"></use>\\n                            </svg>\\n                        </button> -->\\n            </b-col>\\n        </b-row>\\n        <!-- <div style=\\\"margin-top:16px;\\\">\\n            <b-dropdown v-if=\\\"selectedServicePoint && selectedServicePoint.point_name\\\" :text=\\\"selectedServicePoint.point_name + ' ' + servicePoint.service_type\\\" variant=\\\"primary\\\" split split-variant=\\\"outline-secondary\\\" class=\\\"fill-width custom-menu-bg\\\" style=\\\"width:100%;margin:auto;\\\">\\n                <b-dropdown-item v-for=\\\"servicePoint in servicePoints\\\" :key=\\\"servicePoint.name\\\" @click=\\\"setServicePoint(servicePoint)\\\">{{ servicePoint.point_name }}: {{ servicePoint.service_type }} </b-dropdown-item>\\n            </b-dropdown>\\n        </div> -->\\n    </div>\\n</template>\\n\\n<script>\\n\\nimport {\\n    getUserWarehouses,\\n    getWarehouseServicePoints\\n} from '../../../../services/pharmacy/prescriptions.js'\\nimport warehouseModule from \\\"../../../../state/pharmacy-warehouse\\\";\\n\\n\\nexport default {\\n    name: 'WarehouseSelect',\\n    props: {\\n        servicePoint: {\\n            type: Object,\\n            required: true\\n        }\\n    },\\n    data() {\\n        return {\\n            // warehouses: [],\\n            // selectedWarehouse: null,\\n            // servicePoints: null,\\n            // selectedServicePoint: null\\n        };\\n    },\\n    computed: {\\n        // warehouses() {\\n        //     return this.$store.getters[\\\"warehouseModule/warehouses\\\"];\\n        // },\\n        // servicePoints() {\\n        //     return this.$store.getters[\\\"warehouseModule/servicePoints\\\"];\\n        // },\\n        //  selectedWarehouse() {\\n        //     return this.$store.getters[\\\"warehouseModule/selectedWarehouse\\\"];\\n        // },\\n        //  selectedServicePoint() {\\n        //     return this.$store.getters[\\\"warehouseModule/selectedServicePoint\\\"];\\n        // },\\n    },\\n    created() {\\n        this.$store.registerModule(\\\"warehouseModule\\\", warehouseModule);\\n\\n    },\\n    mounted() {\\n        this.getWarehouses();\\n    },\\n    watch: {\\n        selectedWarehouse() {\\n            // this.$store.dispatch(\\\"warehouseModule/fetchWarehouseServicePoints\\\", this.selectedWarehouse.warehouse);\\n\\n            getWarehouseServicePoints({ warehouse_name: this.selectedWarehouse.warehouse }).then(result => {\\n                if (result && result.length > 0) {\\n                    this.servicePoints = result;\\n                    this.setServicePoint(result[0])\\n                } else {\\n                    frappe.msgprint({\\n                        message: `No service Point(s) for this warehoue.`,\\n                        indicator: 'red'\\n                    }, 5);\\n                }\\n            })\\n        },\\n        warehouses(){\\n            // alert('warehouses')\\n            this.setWarehouse(this.warehouses[0]);\\n        },\\n         servicePoints(){\\n            // alert('servicePoints')\\n            this.setServicePoint(this.servicePoints[0]);\\n        }\\n    },\\n    methods: {\\n        refresh() {\\n            if (this.selectedWarehouse && this.selectedServicePoint) {\\n                this.$emit('warehouseSelected', this.selectedWarehouse)\\n                this.$emit('selectedServicePoint', this.selectedServicePoint)\\n            }\\n        },\\n        setWarehouse(warehouse) {\\n            this.selectedWarehouse = warehouse;\\n            this.$emit('warehouseSelected', warehouse)\\n        },\\n        setServicePoint(servicePoint) {\\n            this.selectedServicePoint = servicePoint;\\n            this.$emit('selectedServicePoint', servicePoint)\\n        },\\n        getWarehouses() {\\n\\n            // this.$store.dispatch(\\\"warehouseModule/fetchUserWarehouses\\\", '');\\n            \\n            getUserWarehouses({\\n                user_name: frappe.session.user\\n            }).then(result => {\\n                if (result && result.length > 0) {\\n\\n                    this.warehouses = result;\\n                    this.setWarehouse(result[0]);\\n                    this.loading = false;\\n                } else {\\n                    frappe.msgprint({\\n                        message: `You are not assigned to any warehouse.\\\\nContact Support for help.`,\\n                        indicator: 'red'\\n                    }, 5);\\n                }\\n            });\\n        }\\n    }\\n}\\n</script>\\n\\n<style scoped>\\n.fill-width {\\n    width: 100% !important;\\n}\\n\\n.firt-text {\\n    font-size: large;\\n}\\n\\n.cust-nav {\\n    box-shadow: 0px 0px !important;\\n    padding: 0px !important;\\n}\\n\\n.ward-selection {\\n    background: rgba(76, 175, 80, 0);\\n    padding: auto;\\n}\\n\\n.unit-title {\\n    font-weight: 700;\\n    color: dimgray;\\n    margin-bottom: 0px !important;\\n}\\n\\n.no-background {\\n    background: rgba(76, 175, 80, 0);\\n}\\n\\n.custom-menu-bg {\\n    background: white;\\n    border-radius: 7px;\\n    border: 0px;\\n}\\n</style>\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-87d761be\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n    <div class=\\\"ward-selection\\\">\\n        <b-row class=\\\"no-background\\\">\\n            <!-- {{ warehouses }} {{ servicePoints }} -->\\n            <b-col v-if=\\\"selectedWarehouse && selectedWarehouse.warehouse\\\" cols=\\\"10\\\" class=\\\"no-background\\\">\\n                <b-dropdown :text=\\\"selectedWarehouse.warehouse\\\" variant=\\\"primary\\\" split split-variant=\\\"outline-secondary\\\" class=\\\"fill-width custom-menu-bg\\\" style=\\\"width:100%;margin:auto;\\\">\\n                    <b-dropdown-item v-for=\\\"warehouse in warehouses\\\" :key=\\\"warehouse.name\\\" @click=\\\"setWarehouse(warehouse)\\\" style=\\\"text-transform: capitalize;\\\">{{ warehouse.warehouse }}</b-dropdown-item>\\n                </b-dropdown>\\n            </b-col>\\n            <b-col md=\\\"2\\\">\\n                <!-- <button @click=\\\"refresh\\\" class=\\\"text-muted btn btn-default  icon-btn\\\" title=\\\"\\\" style=\\\"margin:auto;\\\" data-original-title=\\\"Refresh\\\">\\n                            <svg class=\\\"icon icon-md\\\" style=\\\"\\\">\\n                            <use class=\\\"\\\" href=\\\"#icon-refresh\\\"></use>\\n                            </svg>\\n                        </button> -->\\n            </b-col>\\n        </b-row>\\n        <!-- <div style=\\\"margin-top:16px;\\\">\\n            <b-dropdown v-if=\\\"selectedServicePoint && selectedServicePoint.point_name\\\" :text=\\\"selectedServicePoint.point_name + ' ' + servicePoint.service_type\\\" variant=\\\"primary\\\" split split-variant=\\\"outline-secondary\\\" class=\\\"fill-width custom-menu-bg\\\" style=\\\"width:100%;margin:auto;\\\">\\n                <b-dropdown-item v-for=\\\"servicePoint in servicePoints\\\" :key=\\\"servicePoint.name\\\" @click=\\\"setServicePoint(servicePoint)\\\">{{ servicePoint.point_name }}: {{ servicePoint.service_type }} </b-dropdown-item>\\n            </b-dropdown>\\n        </div> -->\\n    </div>\\n</template>\\n\\n<script>\\n\\nimport {\\n    getUserWarehouses,\\n    getWarehouseServicePoints\\n} from '../../../../services/pharmacy/prescriptions.js'\\nimport warehouseModule from \\\"../../../../state/pharmacy-warehouse\\\";\\n\\n\\nexport default {\\n    name: 'WarehouseSelect',\\n    props: {\\n        servicePoint: {\\n            type: Object,\\n            required: true\\n        }\\n    },\\n    data() {\\n        return {\\n            // warehouses: [],\\n            // selectedWarehouse: null,\\n            // servicePoints: null,\\n            // selectedServicePoint: null\\n        };\\n    },\\n    computed: {\\n        // warehouses() {\\n        //     return this.$store.getters[\\\"warehouseModule/warehouses\\\"];\\n        // },\\n        // servicePoints() {\\n        //     return this.$store.getters[\\\"warehouseModule/servicePoints\\\"];\\n        // },\\n        //  selectedWarehouse() {\\n        //     return this.$store.getters[\\\"warehouseModule/selectedWarehouse\\\"];\\n        // },\\n        //  selectedServicePoint() {\\n        //     return this.$store.getters[\\\"warehouseModule/selectedServicePoint\\\"];\\n        // },\\n    },\\n    created() {\\n        this.$store.registerModule(\\\"warehouseModule\\\", warehouseModule);\\n\\n    },\\n    mounted() {\\n        this.getWarehouses();\\n    },\\n    watch: {\\n        selectedWarehouse() {\\n            // this.$store.dispatch(\\\"warehouseModule/fetchWarehouseServicePoints\\\", this.selectedWarehouse.warehouse);\\n\\n            getWarehouseServicePoints({ warehouse_name: this.selectedWarehouse.warehouse }).then(result => {\\n                if (result && result.length > 0) {\\n                    this.servicePoints = result;\\n                    this.setServicePoint(result[0])\\n                } else {\\n                    frappe.msgprint({\\n                        message: `No service Point(s) for this warehoue.`,\\n                        indicator: 'red'\\n                    }, 5);\\n                }\\n            })\\n        },\\n        warehouses(){\\n            // alert('warehouses')\\n            this.setWarehouse(this.warehouses[0]);\\n        },\\n         servicePoints(){\\n            // alert('servicePoints')\\n            this.setServicePoint(this.servicePoints[0]);\\n        }\\n    },\\n    methods: {\\n        refresh() {\\n            if (this.selectedWarehouse && this.selectedServicePoint) {\\n                this.$emit('warehouseSelected', this.selectedWarehouse)\\n                this.$emit('selectedServicePoint', this.selectedServicePoint)\\n            }\\n        },\\n        setWarehouse(warehouse) {\\n            this.selectedWarehouse = warehouse;\\n            this.$emit('warehouseSelected', warehouse)\\n        },\\n        setServicePoint(servicePoint) {\\n            this.selectedServicePoint = servicePoint;\\n            this.$emit('selectedServicePoint', servicePoint)\\n        },\\n        getWarehouses() {\\n\\n            // this.$store.dispatch(\\\"warehouseModule/fetchUserWarehouses\\\", '');\\n            \\n            getUserWarehouses({\\n                user_name: frappe.session.user\\n            }).then(result => {\\n                if (result && result.length > 0) {\\n\\n                    this.warehouses = result;\\n                    this.setWarehouse(result[0]);\\n                    this.loading = false;\\n                } else {\\n                    frappe.msgprint({\\n                        message: `You are not assigned to any warehouse.\\\\nContact Support for help.`,\\n                        indicator: 'red'\\n                    }, 5);\\n                }\\n            });\\n        }\\n    }\\n}\\n</script>\\n\\n<style scoped>\\n.fill-width {\\n    width: 100% !important;\\n}\\n\\n.firt-text {\\n    font-size: large;\\n}\\n\\n.cust-nav {\\n    box-shadow: 0px 0px !important;\\n    padding: 0px !important;\\n}\\n\\n.ward-selection {\\n    background: rgba(76, 175, 80, 0);\\n    padding: auto;\\n}\\n\\n.unit-title {\\n    font-weight: 700;\\n    color: dimgray;\\n    margin-bottom: 0px !important;\\n}\\n\\n.no-background {\\n    background: rgba(76, 175, 80, 0);\\n}\\n\\n.custom-menu-bg {\\n    background: white;\\n    border-radius: 7px;\\n    border: 0px;\\n}\\n</style>\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n    name: \"SearchInput\",\n    data() {\n        return {\n            searchTerm: '',\n            placeholder: '      Search...',\n            statusValue: 0,\n            statusValueObject: { \"\": 0, \"Awaiting Vitals\": 1, \"Awaiting Consultation\": 2, \"Awaiting Investigation\": 3, \"Visit Completed\": 4 }\n        }\n    },\n    watch:{\n        selectedServiceUnit() {\n            this.placeholder = \"    Search...\"\n            this.statusValue = 0\n        },\n        selectedServicePoint() {\n            this.placeholder = \"    Search...\"\n            this.statusValue = 0\n        }\n    },\n    computed: {\n        selectedServiceUnit() {\n            return this.$store.getters[\"serviceUnit/getSelectedServiceUnit\"];\n        },\n        selectedServicePoint() {\n\n            return this.$store.getters['servicePoint/getSelectedServicePoint'] || (this.servicePoints && this.servicePoints.length && this.servicePoints[0])\n        }\n    },\n    methods: {\n        getKeyByValue(object, value) {\n            return Object.keys(object).find(key => object[key] === value);\n        },\n        searchClicked() {\n            const search = this.searchTerm;\n            this.searchTerm = ''\n            this.$emit('search', search)\n        },\n        browseDownQueueStatus() {\n            if (this.statusValue > 0) {\n                this.statusValue -= 1;\n                if (this.statusValue == 0) {\n                    const payload = { serviceUnit: this.selectedServiceUnit.service_unit, servicePoint: this.selectedServicePoint.name, search: \"\", work:\"patient/component/searchinput\"  };\n                    this.$store.dispatch(\"patient/fetchPatients\", payload);\n                    this.placeholder = \"    Search...\"\n                } else {\n                    let val = this.getKeyByValue(this.statusValueObject, this.statusValue)\n                    this.$emit('search', val)\n                    this.placeholder = \"     \" + val + \" List\"\n                }\n            }\n        },\n        browseUpQueueStatus() {\n            \n            if (this.statusValue < 4) {\n                this.statusValue += 1;\n                let val = this.getKeyByValue(this.statusValueObject, this.statusValue)\n                this.$emit('search', val)\n                this.placeholder = \"     \" + val + \" List\"\n            }\n\n        }\n    }\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"b-container\",\n    [\n      _c(\"b-row\", [\n        _c(\n          \"form\",\n          {\n            staticClass: \"form-inline fill-width justify-content-end\",\n            attrs: { role: \"search\", onsubmit: \"return false;\" }\n          },\n          [\n            _c(\n              \"div\",\n              { staticClass: \"input-group search-bar text-muted no-sides\" },\n              [\n                _c(\"b-form-input\", {\n                  staticClass: \"form-control rounded\",\n                  attrs: {\n                    id: \"navbar-search\",\n                    placeholder: _vm.placeholder,\n                    size: \"lg\",\n                    \"aria-haspopup\": \"true\"\n                  },\n                  on: {\n                    focus: function($event) {\n                      _vm.placeholder = \"Search patient..\"\n                    },\n                    blur: function($event) {\n                      _vm.placeholder = \"      Search patient...\"\n                    }\n                  },\n                  model: {\n                    value: _vm.searchTerm,\n                    callback: function($$v) {\n                      _vm.searchTerm = $$v\n                    },\n                    expression: \"searchTerm\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _vm.searchTerm.length == 0\n                  ? _c(\"span\", { staticClass: \"search-icon\" }, [\n                      _c(\"svg\", { staticClass: \"icon icon-2x\" }, [\n                        _c(\"use\", { attrs: { \"xlink:href\": \"#icon-search\" } })\n                      ])\n                    ])\n                  : _vm._e()\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"button\",\n              {\n                staticClass: \"btn btn-default btn-custom\",\n                on: { click: _vm.searchClicked }\n              },\n              [_vm._v(\"Go\")]\n            )\n          ]\n        )\n      ])\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-e8f18e06_0\", { source: \"\\n.no-sides[data-v-e8f18e06] {\\n    margin-left: 0px;\\n    margin-right: 8px;\\n}\\n.side-bar-area[data-v-e8f18e06] {\\n    background: white;\\n    width: 100% !important;\\n    padding-top: 20px;\\n    min-height: 600px;\\n}\\n.name-header[data-v-e8f18e06] {\\n    background: #687178;\\n    color: white;\\n    padding: 14px;\\n    border-radius: 0px 16px 16px 0px;\\n    width: 95%;\\n    font-weight: 800;\\n}\\n.rounded[data-v-e8f18e06] {\\n    border-radius: 12px;\\n}\\n.top-margin-space[data-v-e8f18e06] {\\n    margin-top: 16px;\\n    padding-bottom: 16px;\\n}\\n.form-control[data-v-e8f18e06] {\\n    padding: 0.438rem 1rem;\\n    background-color: #fff;\\n    background-clip: padding-box;\\n    border: 0px solid #d8d6de;\\n    border-radius: 0.357rem;\\n    width: 100%;\\n    height: 36px;\\n    font-size: 13px;\\n    color: #6e6b7b;\\n    -webkit-transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n}\\n.btn-custom[data-v-e8f18e06] {\\n    height: 36px;\\n}\\n.search-bar[data-v-e8f18e06] {\\n    flex: 1;\\n    max-width: 3000px;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/patient/components/SearchInput.vue\"],\"names\":[],\"mappings\":\";AAyGA;IACA,gBAAA;IACA,iBAAA;AACA;AAEA;IACA,iBAAA;IACA,sBAAA;IACA,iBAAA;IACA,iBAAA;AACA;AAEA;IACA,mBAAA;IACA,YAAA;IACA,aAAA;IACA,gCAAA;IACA,UAAA;IACA,gBAAA;AACA;AAEA;IACA,mBAAA;AACA;AAEA;IACA,gBAAA;IACA,oBAAA;AACA;AAEA;IACA,sBAAA;IACA,sBAAA;IACA,4BAAA;IACA,yBAAA;IACA,uBAAA;IACA,WAAA;IACA,YAAA;IACA,eAAA;IACA,cAAA;IACA,wFAAA;IACA,gFAAA;IACA,wEAAA;IACA,8GAAA;AACA;AAEA;IACA,YAAA;AACA;AAEA;IACA,OAAA;IACA,iBAAA;AACA\",\"file\":\"SearchInput.vue\",\"sourcesContent\":[\"<template>\\n    <b-container>\\n        <b-row>\\n            <form class=\\\"form-inline fill-width justify-content-end\\\" role=\\\"search\\\" onsubmit=\\\"return false;\\\">\\n                <!-- <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"20\\\" fill=\\\"white\\\" class=\\\"bi bi-chevron-left\\\" @click=\\\"browseDownQueueStatus\\\" viewBox=\\\"0 0 16 16\\\">\\n                      <path \\n                      fill-rule=\\\"evenodd\\\"\\n                       d=\\\"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\\\"/>\\n                    </svg> -->\\n                <div class=\\\"input-group search-bar text-muted no-sides\\\">\\n                    <b-form-input id=\\\"navbar-search\\\" class=\\\"form-control rounded\\\" :placeholder=\\\"placeholder\\\" @focus=\\\"placeholder = 'Search patient..'\\\" @blur=\\\"placeholder = '      Search patient...'\\\" v-model=\\\"searchTerm\\\" size=\\\"lg\\\" aria-haspopup=\\\"true\\\"></b-form-input>\\n                    <span class=\\\"search-icon\\\" v-if=\\\"searchTerm.length==0\\\">\\n                                <svg class=\\\"icon icon-2x\\\">\\n                                  <use xlink:href=\\\"#icon-search\\\"></use>\\n                                </svg>\\n                              </span>\\n                </div>\\n                <!-- <span class=\\\"pull-right\\\"><svg\\n                                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n                                width=\\\"20\\\"\\n                                height=\\\"20\\\"\\n                                fill=\\\"white\\\"\\n                                class=\\\"bi bi-chevron-right\\\"\\n                                @click=\\\"browseUpQueueStatus\\\"\\n                                viewBox=\\\"0 0 16 16\\\"\\n                              >\\n                                <path\\n                                  fill-rule=\\\"evenodd\\\"\\n                                  d=\\\"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z\\\"\\n                                /></svg\\n                            ></span> -->\\n                <button class=\\\"btn btn-default btn-custom\\\" @click=\\\"searchClicked\\\">Go</button>\\n            </form>\\n        </b-row>\\n    </b-container>\\n</template>\\n\\n<script>\\nexport default {\\n    name: \\\"SearchInput\\\",\\n    data() {\\n        return {\\n            searchTerm: '',\\n            placeholder: '      Search...',\\n            statusValue: 0,\\n            statusValueObject: { \\\"\\\": 0, \\\"Awaiting Vitals\\\": 1, \\\"Awaiting Consultation\\\": 2, \\\"Awaiting Investigation\\\": 3, \\\"Visit Completed\\\": 4 }\\n        }\\n    },\\n    watch:{\\n        selectedServiceUnit() {\\n            this.placeholder = \\\"    Search...\\\"\\n            this.statusValue = 0\\n        },\\n        selectedServicePoint() {\\n            this.placeholder = \\\"    Search...\\\"\\n            this.statusValue = 0\\n        }\\n    },\\n    computed: {\\n        selectedServiceUnit() {\\n            return this.$store.getters[\\\"serviceUnit/getSelectedServiceUnit\\\"];\\n        },\\n        selectedServicePoint() {\\n\\n            return this.$store.getters['servicePoint/getSelectedServicePoint'] || (this.servicePoints && this.servicePoints.length && this.servicePoints[0])\\n        }\\n    },\\n    methods: {\\n        getKeyByValue(object, value) {\\n            return Object.keys(object).find(key => object[key] === value);\\n        },\\n        searchClicked() {\\n            const search = this.searchTerm;\\n            this.searchTerm = ''\\n            this.$emit('search', search)\\n        },\\n        browseDownQueueStatus() {\\n            if (this.statusValue > 0) {\\n                this.statusValue -= 1;\\n                if (this.statusValue == 0) {\\n                    const payload = { serviceUnit: this.selectedServiceUnit.service_unit, servicePoint: this.selectedServicePoint.name, search: \\\"\\\", work:\\\"patient/component/searchinput\\\"  };\\n                    this.$store.dispatch(\\\"patient/fetchPatients\\\", payload);\\n                    this.placeholder = \\\"    Search...\\\"\\n                } else {\\n                    let val = this.getKeyByValue(this.statusValueObject, this.statusValue)\\n                    this.$emit('search', val)\\n                    this.placeholder = \\\"     \\\" + val + \\\" List\\\"\\n                }\\n            }\\n        },\\n        browseUpQueueStatus() {\\n            \\n            if (this.statusValue < 4) {\\n                this.statusValue += 1;\\n                let val = this.getKeyByValue(this.statusValueObject, this.statusValue)\\n                this.$emit('search', val)\\n                this.placeholder = \\\"     \\\" + val + \\\" List\\\"\\n            }\\n\\n        }\\n    }\\n};\\n</script>\\n\\n<style scoped>\\n.no-sides {\\n    margin-left: 0px;\\n    margin-right: 8px;\\n}\\n\\n.side-bar-area {\\n    background: white;\\n    width: 100% !important;\\n    padding-top: 20px;\\n    min-height: 600px;\\n}\\n\\n.name-header {\\n    background: #687178;\\n    color: white;\\n    padding: 14px;\\n    border-radius: 0px 16px 16px 0px;\\n    width: 95%;\\n    font-weight: 800;\\n}\\n\\n.rounded {\\n    border-radius: 12px;\\n}\\n\\n.top-margin-space {\\n    margin-top: 16px;\\n    padding-bottom: 16px;\\n}\\n\\n.form-control {\\n    padding: 0.438rem 1rem;\\n    background-color: #fff;\\n    background-clip: padding-box;\\n    border: 0px solid #d8d6de;\\n    border-radius: 0.357rem;\\n    width: 100%;\\n    height: 36px;\\n    font-size: 13px;\\n    color: #6e6b7b;\\n    -webkit-transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n}\\n\\n.btn-custom {\\n    height: 36px;\\n}\\n\\n.search-bar {\\n    flex: 1;\\n    max-width: 3000px;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-e8f18e06\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n    <b-container>\\n        <b-row>\\n            <form class=\\\"form-inline fill-width justify-content-end\\\" role=\\\"search\\\" onsubmit=\\\"return false;\\\">\\n                <!-- <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"20\\\" fill=\\\"white\\\" class=\\\"bi bi-chevron-left\\\" @click=\\\"browseDownQueueStatus\\\" viewBox=\\\"0 0 16 16\\\">\\n                      <path \\n                      fill-rule=\\\"evenodd\\\"\\n                       d=\\\"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\\\"/>\\n                    </svg> -->\\n                <div class=\\\"input-group search-bar text-muted no-sides\\\">\\n                    <b-form-input id=\\\"navbar-search\\\" class=\\\"form-control rounded\\\" :placeholder=\\\"placeholder\\\" @focus=\\\"placeholder = 'Search patient..'\\\" @blur=\\\"placeholder = '      Search patient...'\\\" v-model=\\\"searchTerm\\\" size=\\\"lg\\\" aria-haspopup=\\\"true\\\"></b-form-input>\\n                    <span class=\\\"search-icon\\\" v-if=\\\"searchTerm.length==0\\\">\\n                                <svg class=\\\"icon icon-2x\\\">\\n                                  <use xlink:href=\\\"#icon-search\\\"></use>\\n                                </svg>\\n                              </span>\\n                </div>\\n                <!-- <span class=\\\"pull-right\\\"><svg\\n                                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n                                width=\\\"20\\\"\\n                                height=\\\"20\\\"\\n                                fill=\\\"white\\\"\\n                                class=\\\"bi bi-chevron-right\\\"\\n                                @click=\\\"browseUpQueueStatus\\\"\\n                                viewBox=\\\"0 0 16 16\\\"\\n                              >\\n                                <path\\n                                  fill-rule=\\\"evenodd\\\"\\n                                  d=\\\"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z\\\"\\n                                /></svg\\n                            ></span> -->\\n                <button class=\\\"btn btn-default btn-custom\\\" @click=\\\"searchClicked\\\">Go</button>\\n            </form>\\n        </b-row>\\n    </b-container>\\n</template>\\n\\n<script>\\nexport default {\\n    name: \\\"SearchInput\\\",\\n    data() {\\n        return {\\n            searchTerm: '',\\n            placeholder: '      Search...',\\n            statusValue: 0,\\n            statusValueObject: { \\\"\\\": 0, \\\"Awaiting Vitals\\\": 1, \\\"Awaiting Consultation\\\": 2, \\\"Awaiting Investigation\\\": 3, \\\"Visit Completed\\\": 4 }\\n        }\\n    },\\n    watch:{\\n        selectedServiceUnit() {\\n            this.placeholder = \\\"    Search...\\\"\\n            this.statusValue = 0\\n        },\\n        selectedServicePoint() {\\n            this.placeholder = \\\"    Search...\\\"\\n            this.statusValue = 0\\n        }\\n    },\\n    computed: {\\n        selectedServiceUnit() {\\n            return this.$store.getters[\\\"serviceUnit/getSelectedServiceUnit\\\"];\\n        },\\n        selectedServicePoint() {\\n\\n            return this.$store.getters['servicePoint/getSelectedServicePoint'] || (this.servicePoints && this.servicePoints.length && this.servicePoints[0])\\n        }\\n    },\\n    methods: {\\n        getKeyByValue(object, value) {\\n            return Object.keys(object).find(key => object[key] === value);\\n        },\\n        searchClicked() {\\n            const search = this.searchTerm;\\n            this.searchTerm = ''\\n            this.$emit('search', search)\\n        },\\n        browseDownQueueStatus() {\\n            if (this.statusValue > 0) {\\n                this.statusValue -= 1;\\n                if (this.statusValue == 0) {\\n                    const payload = { serviceUnit: this.selectedServiceUnit.service_unit, servicePoint: this.selectedServicePoint.name, search: \\\"\\\", work:\\\"patient/component/searchinput\\\"  };\\n                    this.$store.dispatch(\\\"patient/fetchPatients\\\", payload);\\n                    this.placeholder = \\\"    Search...\\\"\\n                } else {\\n                    let val = this.getKeyByValue(this.statusValueObject, this.statusValue)\\n                    this.$emit('search', val)\\n                    this.placeholder = \\\"     \\\" + val + \\\" List\\\"\\n                }\\n            }\\n        },\\n        browseUpQueueStatus() {\\n            \\n            if (this.statusValue < 4) {\\n                this.statusValue += 1;\\n                let val = this.getKeyByValue(this.statusValueObject, this.statusValue)\\n                this.$emit('search', val)\\n                this.placeholder = \\\"     \\\" + val + \\\" List\\\"\\n            }\\n\\n        }\\n    }\\n};\\n</script>\\n\\n<style scoped>\\n.no-sides {\\n    margin-left: 0px;\\n    margin-right: 8px;\\n}\\n\\n.side-bar-area {\\n    background: white;\\n    width: 100% !important;\\n    padding-top: 20px;\\n    min-height: 600px;\\n}\\n\\n.name-header {\\n    background: #687178;\\n    color: white;\\n    padding: 14px;\\n    border-radius: 0px 16px 16px 0px;\\n    width: 95%;\\n    font-weight: 800;\\n}\\n\\n.rounded {\\n    border-radius: 12px;\\n}\\n\\n.top-margin-space {\\n    margin-top: 16px;\\n    padding-bottom: 16px;\\n}\\n\\n.form-control {\\n    padding: 0.438rem 1rem;\\n    background-color: #fff;\\n    background-clip: padding-box;\\n    border: 0px solid #d8d6de;\\n    border-radius: 0.357rem;\\n    width: 100%;\\n    height: 36px;\\n    font-size: 13px;\\n    color: #6e6b7b;\\n    -webkit-transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n}\\n\\n.btn-custom {\\n    height: 36px;\\n}\\n\\n.search-bar {\\n    flex: 1;\\n    max-width: 3000px;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "export const api = ({ method, args = {}, freeze=true  }) =>\n    new Promise((resolve, reject) =>\n        frappe.call({ method, freeze, args, callback: resolve })\n    );\n\nexport const getPrescriptionQueue = ({\n        start = 0,\n        page_length = 20,\n        service_point\n    }) =>\n    api({\n        method: \"clinical.api.queue.pharmacy.get_queue_state\",\n        args: {\n            start,\n            page_length,\n            service_point\n        },\n    }).then(({ message }) => message);\n\nexport const transferPrescriptionQueue = ({\n        state_name,\n        service_point\n    }) =>\n    api({\n        method: \"clinical.clinical.doctype.queue_state.queue_state.queue_transfer\",\n        args: {\n            state_name,\n            service_point\n        },\n    }).then(({ message }) => message);\n\nexport const removeFromQueue = ({\n        queue_state_name\n    }) =>\n    api({\n        method: \"clinical.clinical.doctype.queue_state.queue_state.remove_from_queue\",\n        args: {\n            queue_state_name\n        },\n    }).then(({ message }) => message);\n\nexport const updateQueueStatus = ({\n        state_name,\n        status\n    }) =>\n    api({\n        method: \"clinical.clinical.doctype.queue_state.queue_state.update_queue_status\",\n        args: {\n            state_name,\n            status\n        },\n    }).then(({ message }) => message);\n\nexport const searchPrescriptionQueue = ({\n        service_point = '',\n        query\n    }) =>\n    api({\n        method: \"clinical.api.queue.pharmacy.search_queue_state\",\n        args: {\n            service_point,\n            query\n        },\n    }).then(({ message }) => message);", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport SidebarItem from \"./SidebarItem.vue\";\nimport WarehouseSelect from \"./WarehouseSelect.vue\";\nimport SearchInput from \"../../../../patient/components/SearchInput.vue\";\nimport {\n    searchPrescriptions,\n    filterPrescriptions,\n    getWarehouseServicePoints\n} from '../../../../services/pharmacy/prescriptions.js'\n\nimport { getPrescriptionQueue, searchPrescriptionQueue } from '../../../../services/pharmacy/queue.js';\n\nconst __vue_script__ = {\n    components: {\n        SidebarItem,\n        WarehouseSelect,\n        SearchInput\n    },\n     props: {\n        currentServicePoint: {\n            type: Object,\n            required: true,\n            default: {}\n        }\n    },\n    data() {\n        return {\n            queueList: [],\n            queue: [],\n            servicePoint: null,\n            prescriptions: [],\n            loading: false,\n            patientSearchQuery: '',\n            warehouse: null,\n            activeIndex: 0,\n            socket: undefined,\n            searchTerm: ''\n        };\n    },\n    watch: {\n        queueList(){\n            console.log(this.queueList);\n            const inList = [];\n            const newList = [];\n            this.queueList.forEach((e) => {\n                if(inList.indexOf(e.patient) === -1) {\n                    newList.push(e);\n                    inList.push(e.patient);\n                }\n            })\n            this.queue = newList;\n            console.log('>>>>>>>', newList)\n        },\n        servicePoint(){\n            if(this.servicePoint.name){\n                this.getQueueList()\n        // this.searchClicked()\n    }\n        }\n    },\n    methods: {\n        searchClicked() {\n            const search = this.searchTerm || ' ';\n            this.searchTerm = ''\n            if (search && search.length) {\n                searchPrescriptionQueue({\n                    service_point: this.servicePoint && this.servicePoint.name,\n                    query: search\n                }).then(r => {\n                    this.queueList = r;\n                    r.forEach((item, index) => {\n                       // this.socket.on(item.name, function(data) {});\n                    });\n                })\n            } else {\n                if(this.servicePoint) {\n                    this.onSelectedServicePoint(this.servicePoint)\n                }\n            }\n        },\n        getVariant(status){\n           const variant = {\n               checkin: 'danger',\n               invoiced: 'primary',\n               'payment complete': 'warning'\n           }\n           return variant[(status || '').toLowerCase()] || 'info'\n        },\n        getQueueList(){\n            const parent = this;\n             getPrescriptionQueue({ service_point: this.servicePoint.name }).then(result => {\n                 console.log(result)\n                if (result && result.length > 0) {\n                    parent.queueListItemClicked(result[0]);\n                    parent.queueList = result;\n                    result.forEach((item, index) => {\n                        // parent.socket.on(item.name, function(data) {\n                        //     parent.upsertQueueList(data);\n                        // });\n                    });\n                    \n                } else {\n                    frappe.show_alert({\n                        message: `No queue for ${servicePoint.point_name}`,\n                        indicator: 'green'\n                    }, 10);\n                }\n            })\n        },\n        upsertQueueList(listItem) {\n            let replaced = false;\n            let parent = this;\n            parent.queue.map((item, x) => {\n                if (item.name === listItem.name) {\n                    if (listItem.action && listItem.action === 'Transfer') {\n                        //this.onSelectedServicePoint(this.servicePoint);\n                        this.$delete(this.queueList, x)\n                        replaced = true;\n                    } else if (listItem.action && listItem.action === 'Removed') {\n                        //this.onSelectedServicePoint(this.servicePoint);\n                        this.$delete(this.queueList, x)\n                        replaced = true;\n                    } else {\n                        Vue.set(this.queueList, x, listItem);\n                        this.$emit('queueStateUpdated', listItem)\n                        replaced = true;\n                    }\n                }\n            });\n            if (!replaced) {\n                this.queueList.push(listItem);\n                // parent.socket.on(listItem.name, function(data) {\n                //     parent.upsertQueueList(data);\n                // });\n                if (this.queueList && this.queueList.length === 1) {\n                    this.queueListItemClicked(listItem);\n                }\n            }\n        },\n        queueListItemClicked(queueListItem) {\n            this.$emit(\"prescriptionClicked\", queueListItem);\n        },\n        toggleActive(index) {\n            this.activeIndex = index;\n        },\n        onSelectedServicePoint(servicePoint) {\n            this.servicePoint = servicePoint;\n            // this.createSearchControl(servicePoint);\n            let parent = this;\n            // this.socket.on(servicePoint.name, function(data) {\n            //     parent.upsertQueueList(data);\n            //     frappe.show_alert({\n            //         message: `Queue Update on ${data.patient_name.replace(/^\\w/, c => c.toUpperCase())}`,\n            //         indicator: 'green'\n            //     }, 50);\n            // });\n            this.queueList = [];\n            this.$emit(\"prescriptionClicked\", {});\n            if (servicePoint.name){\n                getPrescriptionQueue({ service_point: servicePoint.name }).then(result => {\n                if (result && result.length > 0) {\n                    parent.queueListItemClicked(result[0]);\n                    parent.queueList = result;\n                    result.forEach((item, index) => {\n                        // parent.socket.on(item.name, function(data) {\n                        //     parent.upsertQueueList(data);\n                        // });\n                    });\n                } else {\n                    frappe.show_alert({\n                        message: `No queue for ${servicePoint.point_name}`,\n                        indicator: 'green'\n                    }, 10);\n                }\n            })\n            }\n        },\n        prescriptionClicked(prescription) {\n            this.$emit(\"prescriptionClicked\", prescription);\n        },\n        createSearchControl(servicePoint) {\n            // https://frappeframework.com/docs/user/en/api/controls\n            /*let me = this;\n            let prescription_search_field = frappe.ui.form.make_control({\n                df: {\n                    label:\"Search\",\n                    fieldtype: \"Link\",\n                    options: \"Queue State\",\n                    fieldname: \"searchQuery\",\n                    placeholder: __(\"Search patients.\"),\n                    change: (e) => {\n                        console.log(JSON.stringify(e))\n                    },\n                    on_change: (e) => {\n\t\t\t\t\t console.log(JSON.stringify(e))\n\t\t\t\t    },\n                    get_query: function(doc, dt, dn) {\n                        return {\n                            filters: { \"service_point\": servicePoint.name }\n                        }\n                    },\n                    on_submit: (data) => {\n                        console.log(JSON.stringify(data));\n                    },\n                },\n                parent: me.$refs[\"queue-search\"],\n                render_input: true,\n                only_input: true,\n            });\n            prescription_search_field.toggle_label(false);\n            */\n        },\n        get_host: function(port = 3000) {\n            var host = window.location.origin;\n            if (window.dev_server || true) {\n                var parts = host.split(\":\");\n                port = frappe.boot.socketio_port || port.toString() || \"3000\";\n                if (parts.length > 2) {\n                    host = parts[0] + \":\" + parts[1];\n                }\n                host = host + \":\" + port;\n            }\n            return host;\n        },\n    },\n    mounted() {\n        // const host = this.get_host(3000);\n        // const socket = io.connect();\n        // this.socket = socket;\n        let parent = this;\n        // socket.on(\"connect\", () => {\n        //     console.log(\"Pharmacy Sidebar connected\");\n        // });\n        if (!this.servicePoint) {\n            this.servicePoint = this.currentServicePoint;\n        }\n        if(this.servicePoint.name){ \n            this.getQueueList()\n    }},\n    filters: {\n        // Filter definitions\n        Upper(value) {\n            return value.toUpperCase();\n        },\n        title(str) {\n            return str.replace(/\\w([^-\\s]*)/g, function(txt = '') {\n                return (txt||'').charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n            });\n        },\n        last_5(str) {\n            return str.substring(str.length - 5);\n        },\n        nameInitials(fullName) {\n            return fullName\n                .split(\" \")\n                .map((name, index) => (name && index < 1 ? name[0] : \"\"))\n                .join(\"\");\n        }\n    }\n\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"b-container\",\n    { staticClass: \"side-bar-area aside-bottom-padding\" },\n    [\n      _c(\n        \"b-row\",\n        [\n          _c(\"b-col\", [\n            _c(\n              \"form\",\n              {\n                staticClass: \"form-inline fill-width justify-content-center\",\n                attrs: { role: \"search\", onsubmit: \"return false;\" }\n              },\n              [\n                _c(\n                  \"div\",\n                  { staticClass: \"input-group search-bar text-muted no-sides\" },\n                  [\n                    _c(\n                      \"div\",\n                      { staticClass: \"awesomplete\" },\n                      [\n                        _c(\"b-form-input\", {\n                          staticClass: \"form-control rounded\",\n                          attrs: {\n                            id: \"navbar-search\",\n                            placeholder: \"Search patients\",\n                            size: \"lg\",\n                            \"aria-haspopup\": \"true\"\n                          },\n                          on: {\n                            focus: function($event) {\n                              _vm.placeholder = \"Search patient..\"\n                            },\n                            blur: function($event) {\n                              _vm.placeholder = \"Search patient...\"\n                            }\n                          },\n                          model: {\n                            value: _vm.searchTerm,\n                            callback: function($$v) {\n                              _vm.searchTerm = $$v\n                            },\n                            expression: \"searchTerm\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\"span\", { staticClass: \"search-icon\" }, [\n                      _c(\"svg\", { staticClass: \"icon icon-sm\" }, [\n                        _c(\"use\", { attrs: { \"xlink:href\": \"#icon-search\" } })\n                      ])\n                    ])\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"btn btn-default btn-custom\",\n                    on: { click: _vm.searchClicked }\n                  },\n                  [_vm._v(\"Go\")]\n                )\n              ]\n            )\n          ])\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"content-area\" },\n        [\n          _c(\n            \"b-row\",\n            [\n              _c(\"b-col\", { attrs: { cols: \"12\" } }, [\n                _vm.loading\n                  ? _c(\n                      \"div\",\n                      {\n                        staticStyle: {\n                          \"padding-top\": \"60%\",\n                          \"text-align\": \"center\",\n                          height: \"100vh\"\n                        }\n                      },\n                      [\n                        _c(\"b-spinner\", {\n                          staticStyle: {\n                            width: \"100px\",\n                            height: \"100px\",\n                            margin: \"auto\"\n                          }\n                        })\n                      ],\n                      1\n                    )\n                  : _c(\"div\", {}, [\n                      _c(\n                        \"div\",\n                        { staticStyle: { \"z-index\": \"initial\" } },\n                        [\n                          _c(\n                            \"b-list-group\",\n                            {\n                              staticClass: \"top-margin-space\",\n                              staticStyle: { width: \"100%\" }\n                            },\n                            [\n                              _vm._l(_vm.queue, function(queueListItem, idx) {\n                                return _c(\n                                  \"b-list-group-item\",\n                                  {\n                                    key: queueListItem.name,\n                                    ref: queueListItem.patient,\n                                    refInFor: true,\n                                    class: { active: idx == _vm.activeIndex },\n                                    on: {\n                                      click: [\n                                        function($event) {\n                                          return _vm.toggleActive(idx)\n                                        },\n                                        function($event) {\n                                          return _vm.queueListItemClicked(\n                                            queueListItem\n                                          )\n                                        }\n                                      ]\n                                    }\n                                  },\n                                  [\n                                    _c(\n                                      \"b-row\",\n                                      [\n                                        _c(\n                                          \"b-col\",\n                                          { attrs: { md: \"3\" } },\n                                          [\n                                            _c(\n                                              \"b-button\",\n                                              {\n                                                staticClass: \"psm\",\n                                                staticStyle: { color: \"white\" }\n                                              },\n                                              [\n                                                _c(\n                                                  \"span\",\n                                                  { attrs: { id: \"ico\" } },\n                                                  [_vm._v(_vm._s(idx + 1))]\n                                                )\n                                              ]\n                                            )\n                                          ],\n                                          1\n                                        ),\n                                        _vm._v(\" \"),\n                                        _c(\n                                          \"b-col\",\n                                          { attrs: { md: \"9\" } },\n                                          [\n                                            _c(\n                                              \"b-row\",\n                                              [\n                                                _c(\"b-col\", [\n                                                  _c(\n                                                    \"p\",\n                                                    [\n                                                      _vm._v(\n                                                        \" \" +\n                                                          _vm._s(\n                                                            queueListItem.patient_name\n                                                          ) +\n                                                          \" \"\n                                                      ),\n                                                      _c(\n                                                        \"b-badge\",\n                                                        {\n                                                          staticStyle: {\n                                                            border:\n                                                              \"1px solid gray\"\n                                                          },\n                                                          attrs: {\n                                                            pill: \"\",\n                                                            variant: \"light\"\n                                                          }\n                                                        },\n                                                        [\n                                                          _vm._v(\n                                                            _vm._s(\n                                                              queueListItem.age +\n                                                                \"(\" +\n                                                                (\n                                                                  queueListItem.gender ||\n                                                                  \"\"\n                                                                ).charAt(0) +\n                                                                \")\"\n                                                            )\n                                                          )\n                                                        ]\n                                                      )\n                                                    ],\n                                                    1\n                                                  )\n                                                ])\n                                              ],\n                                              1\n                                            ),\n                                            _vm._v(\" \"),\n                                            _c(\n                                              \"b-row\",\n                                              [\n                                                _c(\n                                                  \"b-col\",\n                                                  [\n                                                    _c(\n                                                      \"b-badge\",\n                                                      {\n                                                        staticStyle: {\n                                                          \"text-transform\":\n                                                            \"capitalize\"\n                                                        },\n                                                        attrs: {\n                                                          variant: _vm.getVariant(\n                                                            queueListItem.status\n                                                          ),\n                                                          pill: \"\"\n                                                        }\n                                                      },\n                                                      [\n                                                        _c(\"span\", {}, [\n                                                          _vm._v(\n                                                            \" \" +\n                                                              _vm._s(\n                                                                queueListItem.status\n                                                              )\n                                                          )\n                                                        ])\n                                                      ]\n                                                    )\n                                                  ],\n                                                  1\n                                                )\n                                              ],\n                                              1\n                                            )\n                                          ],\n                                          1\n                                        )\n                                      ],\n                                      1\n                                    )\n                                  ],\n                                  1\n                                )\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"div\", {\n                                staticStyle: {\n                                  \"min-height\": \"100px\",\n                                  width: \"100%\"\n                                }\n                              })\n                            ],\n                            2\n                          )\n                        ],\n                        1\n                      )\n                    ])\n              ])\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-324e0abc_0\", { source: \"\\n.search-bar[data-v-324e0abc] {\\n    flex: 1;\\n    max-width: 3000px;\\n}\\n.list-group-item[data-v-324e0abc] {\\n  position: relative;\\n  display: block;\\n  padding: 8px 1.25rem;\\n  background-color: #fff;\\n}\\n.list-group-item[data-v-324e0abc]:hover {\\n    background: lightgray;\\n    cursor: pointer;\\n}\\n.list-group-item-secondary[data-v-324e0abc] {\\n    /* -webkit-box-shadow: -3px 0px 3px 4px rgba(27, 21, 76, 0.7);\\n  box-shadow: -3px 0px 3px 4px rgba(27, 21, 76, 0.7); */\\n    border-left: 5px solid #7c2112;\\n}\\n.list-group-item-secondary[data-v-324e0abc] {\\n    background: #1f19192b;\\n}\\n.b-avatar[data-v-324e0abc] {\\n    font-size: inherit;\\n    font-weight: 400;\\n    line-height: 1;\\n    text-align: center;\\n    background: white;\\n    color: black;\\n    border: 1px solid darkgray;\\n}\\n.fixed-header[data-v-324e0abc] {\\n    width: 100%;\\n    position: fixed;\\n    top: 400px;\\n}\\n.fixed-header[data-v-324e0abc] {\\n    top: 0;\\n}\\n.active[data-v-324e0abc] {\\n    color:black;\\n    /* border-left: 5px solid #2490ef;\\n    border-right: 5px solid #2490ef; */\\n    background-color: lightgray;\\n    border-left: 5px solid #06a79e;\\n    border-top:1px solid lightgray;\\n    border-bottom:1px solid lightgray;\\n}\\n.tb-row[data-v-324e0abc] {\\n    cursor: pointer;\\n}\\nbody[data-v-324e0abc] {\\n    font-family: sans-serif;\\n    font-size: 16px;\\n    color: #fff;\\n}\\nul.sidebar-menu[data-v-324e0abc] {\\n    margin: 0;\\n    padding: 0;\\n    max-width: 450px;\\n    list-style: none;\\n    list-style-type: none;\\n}\\n.sidebar-menu li a span[data-v-324e0abc] {\\n    margin-right: 20px;\\n    color: #fff;\\n}\\n.sidebar-menu li a[data-v-324e0abc] {\\n    background-color: #d7dde2;\\n    padding: 20px 25px;\\n    display: block;\\n    text-decoration: none;\\n    color: #fff;\\n}\\n.sidebar-menu li a[data-v-324e0abc]:hover {\\n    background-color: #d7dde2;\\n    padding: 20px 25px;\\n    display: block;\\n    text-decoration: none;\\n    color: #fff;\\n}\\nli.have-children ul[data-v-324e0abc] {\\n    padding: 0px;\\n}\\nli.have-children ul li a[data-v-324e0abc] {\\n    background-color: #d7dde2;\\n    padding-left: 62px;\\n}\\nli.have-children ul li a[data-v-324e0abc]:hover {\\n    color: #fff;\\n    background-color: #d7dde2;\\n    padding-left: 62px;\\n}\\nli.have-children[data-v-324e0abc],\\nli[data-v-324e0abc] {\\n    position: relative;\\n}\\n.have-children span[data-v-324e0abc]::after {\\n    position: absolute;\\n    right: 30px;\\n    content: \\\"\\\\f054\\\";\\n    color: #fff;\\n    transition: all .5s;\\n}\\nli.active.have-children span[data-v-324e0abc]::after {\\n    -moz-transform: rotate(90deg);\\n    -o-transform: rotate(90deg);\\n    -webkit-transform: rotate(90deg);\\n    transform: rotate(90deg);\\n}\\n.sidebar-menu .have-children>ul[data-v-324e0abc] {\\n    display: none;\\n}\\n.no-sides[data-v-324e0abc] {\\n    margin-left: 0px;\\n    margin-right: 8px;\\n}\\n.side-bar-area[data-v-324e0abc] {\\n    background: white;\\n    width: 100% !important;\\n    padding-top: 20px;\\n    min-height: 600px;\\n    height: 100vh;\\n    overflow-y: hidden;\\n    overflow-x: hidden;\\n    background-color: white;\\n    background-image: linear-gradient(315deg, #06a79e 0%, #6f5a7b 74%);\\n    padding-left: 11px !important;\\n    padding-right: 11px !important;\\n}\\n.name-header[data-v-324e0abc] {\\n    background: #b1d0eb;\\n    color: white;\\n    padding: 14px;\\n    border-radius: 0px 16px 16px 0px;\\n    width: 95%;\\n    font-weight: 800;\\n}\\n.search-input[data-v-324e0abc] {\\n    margin-top: 5%;\\n}\\n.no-results[data-v-324e0abc] {\\n    margin-top: 5%;\\n    padding-left: 7%;\\n}\\n.rounded[data-v-324e0abc] {\\n    border-radius: 12px;\\n}\\n.top-margin-space[data-v-324e0abc] {\\n    padding-bottom: 8px;\\n    height: 85vh;\\n    overflow-y: scroll;\\n    overflow-x: hidden;\\n    scrollbar-width: thin;\\n    background: white;\\n    position: absolute;\\n}\\n.no-border[data-v-324e0abc] {\\n    border: 0px solid black !important;\\n}\\n.form-control[data-v-324e0abc] {\\n    padding: 0.438rem 1rem;\\n    background-color: #fff;\\n    background-clip: padding-box;\\n    border: 0px solid #d8d6de;\\n    border-radius: 0.357rem;\\n    width: 100%;\\n    font-weight: 400;\\n    line-height: 1.45;\\n    font-size: 13px;\\n    color: #6e6b7b;\\n    -webkit-transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n}\\n.btn-custom[data-v-324e0abc] {\\n    height: 36px;\\n}\\n.menu-options[data-v-324e0abc] {\\n    margin-left: 0px;\\n    font-size: 18px;\\n    margin-top: 12px;\\n    width: 100%;\\n}\\n.closed[data-v-324e0abc] {\\n    padding-right: 0px !important;\\n    padding-left: 6px !important;\\n}\\n.psm[data-v-324e0abc] {\\n    display: inline-block;\\n    border-radius: 50px;\\n    box-shadow: 0px 0px 2px #888;\\n    height: 40px;\\n    width: 40px;\\n    text-align: center;\\n    position: relative;\\n    padding-bottom:10px ;\\n    position: relative;\\n    margin-top: 5px;\\n}\\n#ico[data-v-324e0abc]{\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    height: 60%;\\n    transform: translate(-50%, -50%);\\n    width: 20px;\\n    height: 20px;\\n    display: block;\\n    color:black;\\n    font-weight:700px;\\n}\\n.content-area[data-v-324e0abc]{\\nheight: 87vh;\\noverflow-y: hidden;\\noverflow-x: hidden;\\nscrollbar-width:thin;\\nbackground: white;\\npadding-bottom: 16px;\\npadding-left: -5px;\\nborder-radius: 5px;\\nmargin-top: 10px;\\n position: relative;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/pharmacy/components/core/sidebar/Sidebar.vue\"],\"names\":[],\"mappings\":\";AA+VA;IACA,OAAA;IACA,iBAAA;AACA;AAEA;EACA,kBAAA;EACA,cAAA;EACA,oBAAA;EACA,sBAAA;AACA;AAEA;IACA,qBAAA;IACA,eAAA;AACA;AAEA;IACA;uDACA;IACA,8BAAA;AACA;AAEA;IACA,qBAAA;AACA;AAEA;IACA,kBAAA;IACA,gBAAA;IACA,cAAA;IACA,kBAAA;IACA,iBAAA;IACA,YAAA;IACA,0BAAA;AACA;AAEA;IACA,WAAA;IACA,eAAA;IACA,UAAA;AACA;AAEA;IACA,MAAA;AACA;AAEA;IACA,WAAA;IACA;sCACA;IACA,2BAAA;IACA,8BAAA;IACA,8BAAA;IACA,iCAAA;AACA;AAEA;IACA,eAAA;AACA;AAEA;IACA,uBAAA;IACA,eAAA;IACA,WAAA;AACA;AAEA;IACA,SAAA;IACA,UAAA;IACA,gBAAA;IACA,gBAAA;IACA,qBAAA;AACA;AAEA;IACA,kBAAA;IACA,WAAA;AACA;AAEA;IACA,yBAAA;IACA,kBAAA;IACA,cAAA;IACA,qBAAA;IACA,WAAA;AACA;AAEA;IACA,yBAAA;IACA,kBAAA;IACA,cAAA;IACA,qBAAA;IACA,WAAA;AACA;AAEA;IACA,YAAA;AACA;AAEA;IACA,yBAAA;IACA,kBAAA;AACA;AAEA;IACA,WAAA;IACA,yBAAA;IACA,kBAAA;AACA;AAEA;;IAEA,kBAAA;AACA;AAEA;IACA,kBAAA;IACA,WAAA;IACA,gBAAA;IACA,WAAA;IACA,mBAAA;AACA;AAEA;IACA,6BAAA;IACA,2BAAA;IACA,gCAAA;IACA,wBAAA;AACA;AAEA;IACA,aAAA;AACA;AAEA;IACA,gBAAA;IACA,iBAAA;AACA;AAEA;IACA,iBAAA;IACA,sBAAA;IACA,iBAAA;IACA,iBAAA;IACA,aAAA;IACA,kBAAA;IACA,kBAAA;IACA,uBAAA;IACA,kEAAA;IACA,6BAAA;IACA,8BAAA;AACA;AAEA;IACA,mBAAA;IACA,YAAA;IACA,aAAA;IACA,gCAAA;IACA,UAAA;IACA,gBAAA;AACA;AAEA;IACA,cAAA;AACA;AAEA;IACA,cAAA;IACA,gBAAA;AACA;AAEA;IACA,mBAAA;AACA;AAEA;IACA,mBAAA;IACA,YAAA;IACA,kBAAA;IACA,kBAAA;IACA,qBAAA;IACA,iBAAA;IACA,kBAAA;AACA;AAEA;IACA,kCAAA;AACA;AAEA;IACA,sBAAA;IACA,sBAAA;IACA,4BAAA;IACA,yBAAA;IACA,uBAAA;IACA,WAAA;IACA,gBAAA;IACA,iBAAA;IACA,eAAA;IACA,cAAA;IACA,wFAAA;IACA,gFAAA;IACA,wEAAA;IACA,8GAAA;AACA;AAEA;IACA,YAAA;AACA;AAEA;IACA,gBAAA;IACA,eAAA;IACA,gBAAA;IACA,WAAA;AACA;AAEA;IACA,6BAAA;IACA,4BAAA;AACA;AACA;IACA,qBAAA;IACA,mBAAA;IACA,4BAAA;IACA,YAAA;IACA,WAAA;IACA,kBAAA;IACA,kBAAA;IACA,oBAAA;IACA,kBAAA;IACA,eAAA;AAEA;AACA;IACA,kBAAA;IACA,QAAA;IACA,SAAA;IACA,WAAA;IACA,gCAAA;IACA,WAAA;IACA,YAAA;IACA,cAAA;IACA,WAAA;IACA,iBAAA;AACA;AACA;AACA,YAAA;AACA,kBAAA;AACA,kBAAA;AACA,oBAAA;AACA,iBAAA;AACA,oBAAA;AACA,kBAAA;AACA,kBAAA;AACA,gBAAA;CACA,kBAAA;AACA\",\"file\":\"Sidebar.vue\",\"sourcesContent\":[\"<template>\\n\\n<b-container class=\\\"side-bar-area aside-bottom-padding\\\">\\n      <b-row>\\n                <!-- <b-container> -->\\n                <!-- <b-row> -->\\n                <b-col>\\n                    <!-- style=\\\"margin-left:4px;margin-right:8px;width:100%;\\\" -->\\n                    <form class=\\\"form-inline fill-width justify-content-center\\\" role=\\\"search\\\" onsubmit=\\\"return false;\\\">\\n                        <div class=\\\"input-group search-bar text-muted no-sides\\\">\\n                            <div class=\\\"awesomplete\\\">\\n                                <b-form-input id=\\\"navbar-search\\\" class=\\\"form-control rounded\\\" placeholder=\\\"Search patients\\\" @focus=\\\"placeholder = 'Search patient..'\\\" @blur=\\\"placeholder = 'Search patient...'\\\" v-model=\\\"searchTerm\\\" size=\\\"lg\\\" aria-haspopup=\\\"true\\\"></b-form-input>\\n                            </div>\\n                            <span class=\\\"search-icon\\\">\\n                                        <svg class=\\\"icon icon-sm\\\">\\n                                        <use xlink:href=\\\"#icon-search\\\"></use>\\n                                        </svg>\\n                                    </span>\\n                        </div>\\n                        <button class=\\\"btn btn-default btn-custom\\\" @click=\\\"searchClicked\\\">Go</button>\\n                    </form>\\n                </b-col>\\n                <!-- </b-row> -->\\n                <!-- </b-container> -->\\n            </b-row>\\n  <div class=\\\"content-area\\\">\\n    <b-row>\\n      <b-col cols=\\\"12\\\">\\n    <div v-if=\\\"loading\\\" style=\\\"padding-top:60%; text-align:center; height:100vh;\\\">\\n            <b-spinner style=\\\"width: 100px; height: 100px;margin:auto;\\\"></b-spinner>\\n        </div>\\n        <div v-else style=\\\"\\\">\\n            <!-- <div>\\n                            <b-row style=\\\"margin-bottom:1%;margin-top:1%;\\\">\\n                                <b-col>\\n                                    <WarehouseSelect :servicePoint=\\\"servicePoint\\\" @selectedServicePoint=\\\"onSelectedServicePoint\\\" />\\n                                </b-col>\\n                            </b-row>\\n                        </div> -->\\n          \\n            <div style=\\\"z-index:initial;\\\">\\n                <b-list-group style=\\\"width:100%;\\\" class=\\\"top-margin-space\\\">\\n                    <b-list-group-item  v-for=\\\"(queueListItem , idx) in queue\\\" :key=\\\"queueListItem.name\\\" :ref=\\\"queueListItem.patient\\\" v-on:click=\\\"toggleActive(idx)\\\" :class=\\\"{'active': idx == activeIndex}\\\" @click=\\\"queueListItemClicked(queueListItem)\\\">\\n                        <b-row>\\n                            <b-col md=\\\"3\\\">\\n                                <!-- <b-avatar class=\\\"mr-2\\\" :text=\\\"queueListItem.patient_name | nameInitials\\\" :size=\\\"avatarSize\\\"></b-avatar> -->\\n                                <!-- <span style=\\\"font-weight:800;\\\">\\n                                        <b-avatar class=\\\"mr-2\\\" :text=\\\"queueListItem.queue_number\\\" size=\\\"2rem\\\"></b-avatar>\\n                                    </span>  -->\\n                                <b-button class=\\\"psm\\\" style=\\\"color: white\\\">\\n                                    <span id=\\\"ico\\\">{{idx + 1}}</span>\\n                                </b-button>\\n                            </b-col>\\n                            <b-col md=\\\"9\\\">\\n                                <b-row>\\n                                    <b-col>\\n                                        <p> {{ queueListItem.patient_name }} <b-badge style=\\\"border:1px solid gray\\\" pill variant=\\\"light\\\">{{queueListItem.age +\\\"(\\\"+ (queueListItem.gender || '').charAt(0)+\\\")\\\"}}</b-badge></p>\\n                                        \\n                                    </b-col>\\n                                </b-row>\\n                                <b-row>\\n                                    <!-- <b-col>\\n                                            <small>#{{ queueListItem.appointment | last_5 }}\\t</small>\\n                                        </b-col> -->\\n                                    <b-col>\\n                                        <b-badge style=\\\"text-transform: capitalize;\\\" :variant=\\\"getVariant(queueListItem.status)\\\" pill>\\n                                            <span style=\\\"\\\"> {{queueListItem.status}}</span>\\n                                        </b-badge>\\n                                    </b-col>\\n                                </b-row>\\n                            </b-col>\\n                        </b-row>\\n                    </b-list-group-item>\\n                    <div style=\\\"min-height: 100px; width: 100%;\\\" />\\n                </b-list-group>\\n            </div>\\n        </div>\\n\\n    \\n      </b-col>\\n    </b-row>\\n  </div> \\n\\n</b-container>\\n\\n</template>\\n\\n<script>\\nimport SidebarItem from \\\"./SidebarItem.vue\\\";\\nimport WarehouseSelect from \\\"./WarehouseSelect.vue\\\";\\nimport SearchInput from \\\"../../../../patient/components/SearchInput.vue\\\";\\nimport {\\n    searchPrescriptions,\\n    filterPrescriptions,\\n    getWarehouseServicePoints\\n} from '../../../../services/pharmacy/prescriptions.js'\\n\\nimport { getPrescriptionQueue, searchPrescriptionQueue } from '../../../../services/pharmacy/queue.js';\\n\\nexport default {\\n    components: {\\n        SidebarItem,\\n        WarehouseSelect,\\n        SearchInput\\n    },\\n     props: {\\n        currentServicePoint: {\\n            type: Object,\\n            required: true,\\n            default: {}\\n        }\\n    },\\n    data() {\\n        return {\\n            queueList: [],\\n            queue: [],\\n            servicePoint: null,\\n            prescriptions: [],\\n            loading: false,\\n            patientSearchQuery: '',\\n            warehouse: null,\\n            activeIndex: 0,\\n            socket: undefined,\\n            searchTerm: ''\\n        };\\n    },\\n    watch: {\\n        queueList(){\\n            console.log(this.queueList);\\n            const inList = [];\\n            const newList = [];\\n            this.queueList.forEach((e) => {\\n                if(inList.indexOf(e.patient) === -1) {\\n                    newList.push(e);\\n                    inList.push(e.patient);\\n                }\\n            })\\n            this.queue = newList;\\n            console.log('>>>>>>>', newList)\\n        },\\n        servicePoint(){\\n            if(this.servicePoint.name){\\n                this.getQueueList()\\n        // this.searchClicked()\\n    }\\n        }\\n    },\\n    methods: {\\n        searchClicked() {\\n            const search = this.searchTerm || ' ';\\n            this.searchTerm = ''\\n            if (search && search.length) {\\n                searchPrescriptionQueue({\\n                    service_point: this.servicePoint && this.servicePoint.name,\\n                    query: search\\n                }).then(r => {\\n                    this.queueList = r;\\n                    r.forEach((item, index) => {\\n                       // this.socket.on(item.name, function(data) {});\\n                    });\\n                })\\n            } else {\\n                if(this.servicePoint) {\\n                    this.onSelectedServicePoint(this.servicePoint)\\n                }\\n            }\\n        },\\n        getVariant(status){\\n           const variant = {\\n               checkin: 'danger',\\n               invoiced: 'primary',\\n               'payment complete': 'warning'\\n           }\\n           return variant[(status || '').toLowerCase()] || 'info'\\n        },\\n        getQueueList(){\\n            const parent = this;\\n             getPrescriptionQueue({ service_point: this.servicePoint.name }).then(result => {\\n                 console.log(result)\\n                if (result && result.length > 0) {\\n                    parent.queueListItemClicked(result[0]);\\n                    parent.queueList = result;\\n                    result.forEach((item, index) => {\\n                        // parent.socket.on(item.name, function(data) {\\n                        //     parent.upsertQueueList(data);\\n                        // });\\n                    });\\n                    \\n                } else {\\n                    frappe.show_alert({\\n                        message: `No queue for ${servicePoint.point_name}`,\\n                        indicator: 'green'\\n                    }, 10);\\n                }\\n            })\\n        },\\n        upsertQueueList(listItem) {\\n            let replaced = false;\\n            let parent = this;\\n            parent.queue.map((item, x) => {\\n                if (item.name === listItem.name) {\\n                    if (listItem.action && listItem.action === 'Transfer') {\\n                        //this.onSelectedServicePoint(this.servicePoint);\\n                        this.$delete(this.queueList, x)\\n                        replaced = true;\\n                    } else if (listItem.action && listItem.action === 'Removed') {\\n                        //this.onSelectedServicePoint(this.servicePoint);\\n                        this.$delete(this.queueList, x)\\n                        replaced = true;\\n                    } else {\\n                        Vue.set(this.queueList, x, listItem);\\n                        this.$emit('queueStateUpdated', listItem)\\n                        replaced = true;\\n                    }\\n                }\\n            });\\n            if (!replaced) {\\n                this.queueList.push(listItem);\\n                // parent.socket.on(listItem.name, function(data) {\\n                //     parent.upsertQueueList(data);\\n                // });\\n                if (this.queueList && this.queueList.length === 1) {\\n                    this.queueListItemClicked(listItem);\\n                }\\n            }\\n        },\\n        queueListItemClicked(queueListItem) {\\n            this.$emit(\\\"prescriptionClicked\\\", queueListItem);\\n        },\\n        toggleActive(index) {\\n            this.activeIndex = index;\\n        },\\n        onSelectedServicePoint(servicePoint) {\\n            this.servicePoint = servicePoint;\\n            // this.createSearchControl(servicePoint);\\n            let parent = this;\\n            // this.socket.on(servicePoint.name, function(data) {\\n            //     parent.upsertQueueList(data);\\n            //     frappe.show_alert({\\n            //         message: `Queue Update on ${data.patient_name.replace(/^\\\\w/, c => c.toUpperCase())}`,\\n            //         indicator: 'green'\\n            //     }, 50);\\n            // });\\n            this.queueList = [];\\n            this.$emit(\\\"prescriptionClicked\\\", {});\\n            if (servicePoint.name){\\n                getPrescriptionQueue({ service_point: servicePoint.name }).then(result => {\\n                if (result && result.length > 0) {\\n                    parent.queueListItemClicked(result[0]);\\n                    parent.queueList = result;\\n                    result.forEach((item, index) => {\\n                        // parent.socket.on(item.name, function(data) {\\n                        //     parent.upsertQueueList(data);\\n                        // });\\n                    });\\n                } else {\\n                    frappe.show_alert({\\n                        message: `No queue for ${servicePoint.point_name}`,\\n                        indicator: 'green'\\n                    }, 10);\\n                }\\n            })\\n            }\\n        },\\n        prescriptionClicked(prescription) {\\n            this.$emit(\\\"prescriptionClicked\\\", prescription);\\n        },\\n        createSearchControl(servicePoint) {\\n            // https://frappeframework.com/docs/user/en/api/controls\\n            /*let me = this;\\n            let prescription_search_field = frappe.ui.form.make_control({\\n                df: {\\n                    label:\\\"Search\\\",\\n                    fieldtype: \\\"Link\\\",\\n                    options: \\\"Queue State\\\",\\n                    fieldname: \\\"searchQuery\\\",\\n                    placeholder: __(\\\"Search patients.\\\"),\\n                    change: (e) => {\\n                        console.log(JSON.stringify(e))\\n                    },\\n                    on_change: (e) => {\\n\\t\\t\\t\\t\\t console.log(JSON.stringify(e))\\n\\t\\t\\t\\t    },\\n                    get_query: function(doc, dt, dn) {\\n                        return {\\n                            filters: { \\\"service_point\\\": servicePoint.name }\\n                        }\\n                    },\\n                    on_submit: (data) => {\\n                        console.log(JSON.stringify(data));\\n                    },\\n                },\\n                parent: me.$refs[\\\"queue-search\\\"],\\n                render_input: true,\\n                only_input: true,\\n            });\\n            prescription_search_field.toggle_label(false);\\n            */\\n        },\\n        get_host: function(port = 3000) {\\n            var host = window.location.origin;\\n            if (window.dev_server || true) {\\n                var parts = host.split(\\\":\\\");\\n                port = frappe.boot.socketio_port || port.toString() || \\\"3000\\\";\\n                if (parts.length > 2) {\\n                    host = parts[0] + \\\":\\\" + parts[1];\\n                }\\n                host = host + \\\":\\\" + port;\\n            }\\n            return host;\\n        },\\n    },\\n    mounted() {\\n        // const host = this.get_host(3000);\\n        // const socket = io.connect();\\n        // this.socket = socket;\\n        let parent = this;\\n        // socket.on(\\\"connect\\\", () => {\\n        //     console.log(\\\"Pharmacy Sidebar connected\\\");\\n        // });\\n        if (!this.servicePoint) {\\n            this.servicePoint = this.currentServicePoint;\\n        }\\n        if(this.servicePoint.name){ \\n            this.getQueueList()\\n    }},\\n    filters: {\\n        // Filter definitions\\n        Upper(value) {\\n            return value.toUpperCase();\\n        },\\n        title(str) {\\n            return str.replace(/\\\\w([^-\\\\s]*)/g, function(txt = '') {\\n                return (txt||'').charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\\n            });\\n        },\\n        last_5(str) {\\n            return str.substring(str.length - 5);\\n        },\\n        nameInitials(fullName) {\\n            return fullName\\n                .split(\\\" \\\")\\n                .map((name, index) => (name && index < 1 ? name[0] : \\\"\\\"))\\n                .join(\\\"\\\");\\n        }\\n    }\\n\\n};\\n</script>\\n\\n<style scoped>\\n.search-bar {\\n    flex: 1;\\n    max-width: 3000px;\\n}\\n\\n.list-group-item {\\n  position: relative;\\n  display: block;\\n  padding: 8px 1.25rem;\\n  background-color: #fff;\\n}\\n\\n.list-group-item:hover {\\n    background: lightgray;\\n    cursor: pointer;\\n}\\n\\n.list-group-item-secondary {\\n    /* -webkit-box-shadow: -3px 0px 3px 4px rgba(27, 21, 76, 0.7);\\n  box-shadow: -3px 0px 3px 4px rgba(27, 21, 76, 0.7); */\\n    border-left: 5px solid #7c2112;\\n}\\n\\n.list-group-item-secondary {\\n    background: #1f19192b;\\n}\\n\\n.b-avatar {\\n    font-size: inherit;\\n    font-weight: 400;\\n    line-height: 1;\\n    text-align: center;\\n    background: white;\\n    color: black;\\n    border: 1px solid darkgray;\\n}\\n\\n.fixed-header {\\n    width: 100%;\\n    position: fixed;\\n    top: 400px;\\n}\\n\\n.fixed-header {\\n    top: 0;\\n}\\n\\n.active {\\n    color:black;\\n    /* border-left: 5px solid #2490ef;\\n    border-right: 5px solid #2490ef; */\\n    background-color: lightgray;\\n    border-left: 5px solid #06a79e;\\n    border-top:1px solid lightgray;\\n    border-bottom:1px solid lightgray;\\n}\\n\\n.tb-row {\\n    cursor: pointer;\\n}\\n\\nbody {\\n    font-family: sans-serif;\\n    font-size: 16px;\\n    color: #fff;\\n}\\n\\nul.sidebar-menu {\\n    margin: 0;\\n    padding: 0;\\n    max-width: 450px;\\n    list-style: none;\\n    list-style-type: none;\\n}\\n\\n.sidebar-menu li a span {\\n    margin-right: 20px;\\n    color: #fff;\\n}\\n\\n.sidebar-menu li a {\\n    background-color: #d7dde2;\\n    padding: 20px 25px;\\n    display: block;\\n    text-decoration: none;\\n    color: #fff;\\n}\\n\\n.sidebar-menu li a:hover {\\n    background-color: #d7dde2;\\n    padding: 20px 25px;\\n    display: block;\\n    text-decoration: none;\\n    color: #fff;\\n}\\n\\nli.have-children ul {\\n    padding: 0px;\\n}\\n\\nli.have-children ul li a {\\n    background-color: #d7dde2;\\n    padding-left: 62px;\\n}\\n\\nli.have-children ul li a:hover {\\n    color: #fff;\\n    background-color: #d7dde2;\\n    padding-left: 62px;\\n}\\n\\nli.have-children,\\nli {\\n    position: relative;\\n}\\n\\n.have-children span::after {\\n    position: absolute;\\n    right: 30px;\\n    content: \\\"\\\\f054\\\";\\n    color: #fff;\\n    transition: all .5s;\\n}\\n\\nli.active.have-children span::after {\\n    -moz-transform: rotate(90deg);\\n    -o-transform: rotate(90deg);\\n    -webkit-transform: rotate(90deg);\\n    transform: rotate(90deg);\\n}\\n\\n.sidebar-menu .have-children>ul {\\n    display: none;\\n}\\n\\n.no-sides {\\n    margin-left: 0px;\\n    margin-right: 8px;\\n}\\n\\n.side-bar-area {\\n    background: white;\\n    width: 100% !important;\\n    padding-top: 20px;\\n    min-height: 600px;\\n    height: 100vh;\\n    overflow-y: hidden;\\n    overflow-x: hidden;\\n    background-color: white;\\n    background-image: linear-gradient(315deg, #06a79e 0%, #6f5a7b 74%);\\n    padding-left: 11px !important;\\n    padding-right: 11px !important;\\n}\\n\\n.name-header {\\n    background: #b1d0eb;\\n    color: white;\\n    padding: 14px;\\n    border-radius: 0px 16px 16px 0px;\\n    width: 95%;\\n    font-weight: 800;\\n}\\n\\n.search-input {\\n    margin-top: 5%;\\n}\\n\\n.no-results {\\n    margin-top: 5%;\\n    padding-left: 7%;\\n}\\n\\n.rounded {\\n    border-radius: 12px;\\n}\\n\\n.top-margin-space {\\n    padding-bottom: 8px;\\n    height: 85vh;\\n    overflow-y: scroll;\\n    overflow-x: hidden;\\n    scrollbar-width: thin;\\n    background: white;\\n    position: absolute;\\n}\\n\\n.no-border {\\n    border: 0px solid black !important;\\n}\\n\\n.form-control {\\n    padding: 0.438rem 1rem;\\n    background-color: #fff;\\n    background-clip: padding-box;\\n    border: 0px solid #d8d6de;\\n    border-radius: 0.357rem;\\n    width: 100%;\\n    font-weight: 400;\\n    line-height: 1.45;\\n    font-size: 13px;\\n    color: #6e6b7b;\\n    -webkit-transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n}\\n\\n.btn-custom {\\n    height: 36px;\\n}\\n\\n.menu-options {\\n    margin-left: 0px;\\n    font-size: 18px;\\n    margin-top: 12px;\\n    width: 100%;\\n}\\n\\n.closed {\\n    padding-right: 0px !important;\\n    padding-left: 6px !important;\\n}\\n.psm {\\n    display: inline-block;\\n    border-radius: 50px;\\n    box-shadow: 0px 0px 2px #888;\\n    height: 40px;\\n    width: 40px;\\n    text-align: center;\\n    position: relative;\\n    padding-bottom:10px ;\\n    position: relative;\\n    margin-top: 5px;\\n    \\n}\\n#ico{\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    height: 60%;\\n    transform: translate(-50%, -50%);\\n    width: 20px;\\n    height: 20px;\\n    display: block;\\n    color:black;\\n    font-weight:700px;\\n}\\n.content-area{\\nheight: 87vh;\\noverflow-y: hidden;\\noverflow-x: hidden;\\nscrollbar-width:thin;\\nbackground: white;\\npadding-bottom: 16px;\\npadding-left: -5px;\\nborder-radius: 5px;\\nmargin-top: 10px;\\n position: relative;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-324e0abc\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\n<b-container class=\\\"side-bar-area aside-bottom-padding\\\">\\n      <b-row>\\n                <!-- <b-container> -->\\n                <!-- <b-row> -->\\n                <b-col>\\n                    <!-- style=\\\"margin-left:4px;margin-right:8px;width:100%;\\\" -->\\n                    <form class=\\\"form-inline fill-width justify-content-center\\\" role=\\\"search\\\" onsubmit=\\\"return false;\\\">\\n                        <div class=\\\"input-group search-bar text-muted no-sides\\\">\\n                            <div class=\\\"awesomplete\\\">\\n                                <b-form-input id=\\\"navbar-search\\\" class=\\\"form-control rounded\\\" placeholder=\\\"Search patients\\\" @focus=\\\"placeholder = 'Search patient..'\\\" @blur=\\\"placeholder = 'Search patient...'\\\" v-model=\\\"searchTerm\\\" size=\\\"lg\\\" aria-haspopup=\\\"true\\\"></b-form-input>\\n                            </div>\\n                            <span class=\\\"search-icon\\\">\\n                                        <svg class=\\\"icon icon-sm\\\">\\n                                        <use xlink:href=\\\"#icon-search\\\"></use>\\n                                        </svg>\\n                                    </span>\\n                        </div>\\n                        <button class=\\\"btn btn-default btn-custom\\\" @click=\\\"searchClicked\\\">Go</button>\\n                    </form>\\n                </b-col>\\n                <!-- </b-row> -->\\n                <!-- </b-container> -->\\n            </b-row>\\n  <div class=\\\"content-area\\\">\\n    <b-row>\\n      <b-col cols=\\\"12\\\">\\n    <div v-if=\\\"loading\\\" style=\\\"padding-top:60%; text-align:center; height:100vh;\\\">\\n            <b-spinner style=\\\"width: 100px; height: 100px;margin:auto;\\\"></b-spinner>\\n        </div>\\n        <div v-else style=\\\"\\\">\\n            <!-- <div>\\n                            <b-row style=\\\"margin-bottom:1%;margin-top:1%;\\\">\\n                                <b-col>\\n                                    <WarehouseSelect :servicePoint=\\\"servicePoint\\\" @selectedServicePoint=\\\"onSelectedServicePoint\\\" />\\n                                </b-col>\\n                            </b-row>\\n                        </div> -->\\n          \\n            <div style=\\\"z-index:initial;\\\">\\n                <b-list-group style=\\\"width:100%;\\\" class=\\\"top-margin-space\\\">\\n                    <b-list-group-item  v-for=\\\"(queueListItem , idx) in queue\\\" :key=\\\"queueListItem.name\\\" :ref=\\\"queueListItem.patient\\\" v-on:click=\\\"toggleActive(idx)\\\" :class=\\\"{'active': idx == activeIndex}\\\" @click=\\\"queueListItemClicked(queueListItem)\\\">\\n                        <b-row>\\n                            <b-col md=\\\"3\\\">\\n                                <!-- <b-avatar class=\\\"mr-2\\\" :text=\\\"queueListItem.patient_name | nameInitials\\\" :size=\\\"avatarSize\\\"></b-avatar> -->\\n                                <!-- <span style=\\\"font-weight:800;\\\">\\n                                        <b-avatar class=\\\"mr-2\\\" :text=\\\"queueListItem.queue_number\\\" size=\\\"2rem\\\"></b-avatar>\\n                                    </span>  -->\\n                                <b-button class=\\\"psm\\\" style=\\\"color: white\\\">\\n                                    <span id=\\\"ico\\\">{{idx + 1}}</span>\\n                                </b-button>\\n                            </b-col>\\n                            <b-col md=\\\"9\\\">\\n                                <b-row>\\n                                    <b-col>\\n                                        <p> {{ queueListItem.patient_name }} <b-badge style=\\\"border:1px solid gray\\\" pill variant=\\\"light\\\">{{queueListItem.age +\\\"(\\\"+ (queueListItem.gender || '').charAt(0)+\\\")\\\"}}</b-badge></p>\\n                                        \\n                                    </b-col>\\n                                </b-row>\\n                                <b-row>\\n                                    <!-- <b-col>\\n                                            <small>#{{ queueListItem.appointment | last_5 }}\\t</small>\\n                                        </b-col> -->\\n                                    <b-col>\\n                                        <b-badge style=\\\"text-transform: capitalize;\\\" :variant=\\\"getVariant(queueListItem.status)\\\" pill>\\n                                            <span style=\\\"\\\"> {{queueListItem.status}}</span>\\n                                        </b-badge>\\n                                    </b-col>\\n                                </b-row>\\n                            </b-col>\\n                        </b-row>\\n                    </b-list-group-item>\\n                    <div style=\\\"min-height: 100px; width: 100%;\\\" />\\n                </b-list-group>\\n            </div>\\n        </div>\\n\\n    \\n      </b-col>\\n    </b-row>\\n  </div> \\n\\n</b-container>\\n\\n</template>\\n\\n<script>\\nimport SidebarItem from \\\"./SidebarItem.vue\\\";\\nimport WarehouseSelect from \\\"./WarehouseSelect.vue\\\";\\nimport SearchInput from \\\"../../../../patient/components/SearchInput.vue\\\";\\nimport {\\n    searchPrescriptions,\\n    filterPrescriptions,\\n    getWarehouseServicePoints\\n} from '../../../../services/pharmacy/prescriptions.js'\\n\\nimport { getPrescriptionQueue, searchPrescriptionQueue } from '../../../../services/pharmacy/queue.js';\\n\\nexport default {\\n    components: {\\n        SidebarItem,\\n        WarehouseSelect,\\n        SearchInput\\n    },\\n     props: {\\n        currentServicePoint: {\\n            type: Object,\\n            required: true,\\n            default: {}\\n        }\\n    },\\n    data() {\\n        return {\\n            queueList: [],\\n            queue: [],\\n            servicePoint: null,\\n            prescriptions: [],\\n            loading: false,\\n            patientSearchQuery: '',\\n            warehouse: null,\\n            activeIndex: 0,\\n            socket: undefined,\\n            searchTerm: ''\\n        };\\n    },\\n    watch: {\\n        queueList(){\\n            console.log(this.queueList);\\n            const inList = [];\\n            const newList = [];\\n            this.queueList.forEach((e) => {\\n                if(inList.indexOf(e.patient) === -1) {\\n                    newList.push(e);\\n                    inList.push(e.patient);\\n                }\\n            })\\n            this.queue = newList;\\n            console.log('>>>>>>>', newList)\\n        },\\n        servicePoint(){\\n            if(this.servicePoint.name){\\n                this.getQueueList()\\n        // this.searchClicked()\\n    }\\n        }\\n    },\\n    methods: {\\n        searchClicked() {\\n            const search = this.searchTerm || ' ';\\n            this.searchTerm = ''\\n            if (search && search.length) {\\n                searchPrescriptionQueue({\\n                    service_point: this.servicePoint && this.servicePoint.name,\\n                    query: search\\n                }).then(r => {\\n                    this.queueList = r;\\n                    r.forEach((item, index) => {\\n                       // this.socket.on(item.name, function(data) {});\\n                    });\\n                })\\n            } else {\\n                if(this.servicePoint) {\\n                    this.onSelectedServicePoint(this.servicePoint)\\n                }\\n            }\\n        },\\n        getVariant(status){\\n           const variant = {\\n               checkin: 'danger',\\n               invoiced: 'primary',\\n               'payment complete': 'warning'\\n           }\\n           return variant[(status || '').toLowerCase()] || 'info'\\n        },\\n        getQueueList(){\\n            const parent = this;\\n             getPrescriptionQueue({ service_point: this.servicePoint.name }).then(result => {\\n                 console.log(result)\\n                if (result && result.length > 0) {\\n                    parent.queueListItemClicked(result[0]);\\n                    parent.queueList = result;\\n                    result.forEach((item, index) => {\\n                        // parent.socket.on(item.name, function(data) {\\n                        //     parent.upsertQueueList(data);\\n                        // });\\n                    });\\n                    \\n                } else {\\n                    frappe.show_alert({\\n                        message: `No queue for ${servicePoint.point_name}`,\\n                        indicator: 'green'\\n                    }, 10);\\n                }\\n            })\\n        },\\n        upsertQueueList(listItem) {\\n            let replaced = false;\\n            let parent = this;\\n            parent.queue.map((item, x) => {\\n                if (item.name === listItem.name) {\\n                    if (listItem.action && listItem.action === 'Transfer') {\\n                        //this.onSelectedServicePoint(this.servicePoint);\\n                        this.$delete(this.queueList, x)\\n                        replaced = true;\\n                    } else if (listItem.action && listItem.action === 'Removed') {\\n                        //this.onSelectedServicePoint(this.servicePoint);\\n                        this.$delete(this.queueList, x)\\n                        replaced = true;\\n                    } else {\\n                        Vue.set(this.queueList, x, listItem);\\n                        this.$emit('queueStateUpdated', listItem)\\n                        replaced = true;\\n                    }\\n                }\\n            });\\n            if (!replaced) {\\n                this.queueList.push(listItem);\\n                // parent.socket.on(listItem.name, function(data) {\\n                //     parent.upsertQueueList(data);\\n                // });\\n                if (this.queueList && this.queueList.length === 1) {\\n                    this.queueListItemClicked(listItem);\\n                }\\n            }\\n        },\\n        queueListItemClicked(queueListItem) {\\n            this.$emit(\\\"prescriptionClicked\\\", queueListItem);\\n        },\\n        toggleActive(index) {\\n            this.activeIndex = index;\\n        },\\n        onSelectedServicePoint(servicePoint) {\\n            this.servicePoint = servicePoint;\\n            // this.createSearchControl(servicePoint);\\n            let parent = this;\\n            // this.socket.on(servicePoint.name, function(data) {\\n            //     parent.upsertQueueList(data);\\n            //     frappe.show_alert({\\n            //         message: `Queue Update on ${data.patient_name.replace(/^\\\\w/, c => c.toUpperCase())}`,\\n            //         indicator: 'green'\\n            //     }, 50);\\n            // });\\n            this.queueList = [];\\n            this.$emit(\\\"prescriptionClicked\\\", {});\\n            if (servicePoint.name){\\n                getPrescriptionQueue({ service_point: servicePoint.name }).then(result => {\\n                if (result && result.length > 0) {\\n                    parent.queueListItemClicked(result[0]);\\n                    parent.queueList = result;\\n                    result.forEach((item, index) => {\\n                        // parent.socket.on(item.name, function(data) {\\n                        //     parent.upsertQueueList(data);\\n                        // });\\n                    });\\n                } else {\\n                    frappe.show_alert({\\n                        message: `No queue for ${servicePoint.point_name}`,\\n                        indicator: 'green'\\n                    }, 10);\\n                }\\n            })\\n            }\\n        },\\n        prescriptionClicked(prescription) {\\n            this.$emit(\\\"prescriptionClicked\\\", prescription);\\n        },\\n        createSearchControl(servicePoint) {\\n            // https://frappeframework.com/docs/user/en/api/controls\\n            /*let me = this;\\n            let prescription_search_field = frappe.ui.form.make_control({\\n                df: {\\n                    label:\\\"Search\\\",\\n                    fieldtype: \\\"Link\\\",\\n                    options: \\\"Queue State\\\",\\n                    fieldname: \\\"searchQuery\\\",\\n                    placeholder: __(\\\"Search patients.\\\"),\\n                    change: (e) => {\\n                        console.log(JSON.stringify(e))\\n                    },\\n                    on_change: (e) => {\\n\\t\\t\\t\\t\\t console.log(JSON.stringify(e))\\n\\t\\t\\t\\t    },\\n                    get_query: function(doc, dt, dn) {\\n                        return {\\n                            filters: { \\\"service_point\\\": servicePoint.name }\\n                        }\\n                    },\\n                    on_submit: (data) => {\\n                        console.log(JSON.stringify(data));\\n                    },\\n                },\\n                parent: me.$refs[\\\"queue-search\\\"],\\n                render_input: true,\\n                only_input: true,\\n            });\\n            prescription_search_field.toggle_label(false);\\n            */\\n        },\\n        get_host: function(port = 3000) {\\n            var host = window.location.origin;\\n            if (window.dev_server || true) {\\n                var parts = host.split(\\\":\\\");\\n                port = frappe.boot.socketio_port || port.toString() || \\\"3000\\\";\\n                if (parts.length > 2) {\\n                    host = parts[0] + \\\":\\\" + parts[1];\\n                }\\n                host = host + \\\":\\\" + port;\\n            }\\n            return host;\\n        },\\n    },\\n    mounted() {\\n        // const host = this.get_host(3000);\\n        // const socket = io.connect();\\n        // this.socket = socket;\\n        let parent = this;\\n        // socket.on(\\\"connect\\\", () => {\\n        //     console.log(\\\"Pharmacy Sidebar connected\\\");\\n        // });\\n        if (!this.servicePoint) {\\n            this.servicePoint = this.currentServicePoint;\\n        }\\n        if(this.servicePoint.name){ \\n            this.getQueueList()\\n    }},\\n    filters: {\\n        // Filter definitions\\n        Upper(value) {\\n            return value.toUpperCase();\\n        },\\n        title(str) {\\n            return str.replace(/\\\\w([^-\\\\s]*)/g, function(txt = '') {\\n                return (txt||'').charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\\n            });\\n        },\\n        last_5(str) {\\n            return str.substring(str.length - 5);\\n        },\\n        nameInitials(fullName) {\\n            return fullName\\n                .split(\\\" \\\")\\n                .map((name, index) => (name && index < 1 ? name[0] : \\\"\\\"))\\n                .join(\\\"\\\");\\n        }\\n    }\\n\\n};\\n</script>\\n\\n<style scoped>\\n.search-bar {\\n    flex: 1;\\n    max-width: 3000px;\\n}\\n\\n.list-group-item {\\n  position: relative;\\n  display: block;\\n  padding: 8px 1.25rem;\\n  background-color: #fff;\\n}\\n\\n.list-group-item:hover {\\n    background: lightgray;\\n    cursor: pointer;\\n}\\n\\n.list-group-item-secondary {\\n    /* -webkit-box-shadow: -3px 0px 3px 4px rgba(27, 21, 76, 0.7);\\n  box-shadow: -3px 0px 3px 4px rgba(27, 21, 76, 0.7); */\\n    border-left: 5px solid #7c2112;\\n}\\n\\n.list-group-item-secondary {\\n    background: #1f19192b;\\n}\\n\\n.b-avatar {\\n    font-size: inherit;\\n    font-weight: 400;\\n    line-height: 1;\\n    text-align: center;\\n    background: white;\\n    color: black;\\n    border: 1px solid darkgray;\\n}\\n\\n.fixed-header {\\n    width: 100%;\\n    position: fixed;\\n    top: 400px;\\n}\\n\\n.fixed-header {\\n    top: 0;\\n}\\n\\n.active {\\n    color:black;\\n    /* border-left: 5px solid #2490ef;\\n    border-right: 5px solid #2490ef; */\\n    background-color: lightgray;\\n    border-left: 5px solid #06a79e;\\n    border-top:1px solid lightgray;\\n    border-bottom:1px solid lightgray;\\n}\\n\\n.tb-row {\\n    cursor: pointer;\\n}\\n\\nbody {\\n    font-family: sans-serif;\\n    font-size: 16px;\\n    color: #fff;\\n}\\n\\nul.sidebar-menu {\\n    margin: 0;\\n    padding: 0;\\n    max-width: 450px;\\n    list-style: none;\\n    list-style-type: none;\\n}\\n\\n.sidebar-menu li a span {\\n    margin-right: 20px;\\n    color: #fff;\\n}\\n\\n.sidebar-menu li a {\\n    background-color: #d7dde2;\\n    padding: 20px 25px;\\n    display: block;\\n    text-decoration: none;\\n    color: #fff;\\n}\\n\\n.sidebar-menu li a:hover {\\n    background-color: #d7dde2;\\n    padding: 20px 25px;\\n    display: block;\\n    text-decoration: none;\\n    color: #fff;\\n}\\n\\nli.have-children ul {\\n    padding: 0px;\\n}\\n\\nli.have-children ul li a {\\n    background-color: #d7dde2;\\n    padding-left: 62px;\\n}\\n\\nli.have-children ul li a:hover {\\n    color: #fff;\\n    background-color: #d7dde2;\\n    padding-left: 62px;\\n}\\n\\nli.have-children,\\nli {\\n    position: relative;\\n}\\n\\n.have-children span::after {\\n    position: absolute;\\n    right: 30px;\\n    content: \\\"\\\\f054\\\";\\n    color: #fff;\\n    transition: all .5s;\\n}\\n\\nli.active.have-children span::after {\\n    -moz-transform: rotate(90deg);\\n    -o-transform: rotate(90deg);\\n    -webkit-transform: rotate(90deg);\\n    transform: rotate(90deg);\\n}\\n\\n.sidebar-menu .have-children>ul {\\n    display: none;\\n}\\n\\n.no-sides {\\n    margin-left: 0px;\\n    margin-right: 8px;\\n}\\n\\n.side-bar-area {\\n    background: white;\\n    width: 100% !important;\\n    padding-top: 20px;\\n    min-height: 600px;\\n    height: 100vh;\\n    overflow-y: hidden;\\n    overflow-x: hidden;\\n    background-color: white;\\n    background-image: linear-gradient(315deg, #06a79e 0%, #6f5a7b 74%);\\n    padding-left: 11px !important;\\n    padding-right: 11px !important;\\n}\\n\\n.name-header {\\n    background: #b1d0eb;\\n    color: white;\\n    padding: 14px;\\n    border-radius: 0px 16px 16px 0px;\\n    width: 95%;\\n    font-weight: 800;\\n}\\n\\n.search-input {\\n    margin-top: 5%;\\n}\\n\\n.no-results {\\n    margin-top: 5%;\\n    padding-left: 7%;\\n}\\n\\n.rounded {\\n    border-radius: 12px;\\n}\\n\\n.top-margin-space {\\n    padding-bottom: 8px;\\n    height: 85vh;\\n    overflow-y: scroll;\\n    overflow-x: hidden;\\n    scrollbar-width: thin;\\n    background: white;\\n    position: absolute;\\n}\\n\\n.no-border {\\n    border: 0px solid black !important;\\n}\\n\\n.form-control {\\n    padding: 0.438rem 1rem;\\n    background-color: #fff;\\n    background-clip: padding-box;\\n    border: 0px solid #d8d6de;\\n    border-radius: 0.357rem;\\n    width: 100%;\\n    font-weight: 400;\\n    line-height: 1.45;\\n    font-size: 13px;\\n    color: #6e6b7b;\\n    -webkit-transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\\n}\\n\\n.btn-custom {\\n    height: 36px;\\n}\\n\\n.menu-options {\\n    margin-left: 0px;\\n    font-size: 18px;\\n    margin-top: 12px;\\n    width: 100%;\\n}\\n\\n.closed {\\n    padding-right: 0px !important;\\n    padding-left: 6px !important;\\n}\\n.psm {\\n    display: inline-block;\\n    border-radius: 50px;\\n    box-shadow: 0px 0px 2px #888;\\n    height: 40px;\\n    width: 40px;\\n    text-align: center;\\n    position: relative;\\n    padding-bottom:10px ;\\n    position: relative;\\n    margin-top: 5px;\\n    \\n}\\n#ico{\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    height: 60%;\\n    transform: translate(-50%, -50%);\\n    width: 20px;\\n    height: 20px;\\n    display: block;\\n    color:black;\\n    font-weight:700px;\\n}\\n.content-area{\\nheight: 87vh;\\noverflow-y: hidden;\\noverflow-x: hidden;\\nscrollbar-width:thin;\\nbackground: white;\\npadding-bottom: 16px;\\npadding-left: -5px;\\nborder-radius: 5px;\\nmargin-top: 10px;\\n position: relative;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "export const get_item_dashboard_data = (data, max_count, show_item) => {\n    if (!max_count) max_count = 0;\n    if (!data) data = [];\n  \n    data.forEach(function (d) {\n      d.actual_or_pending =\n        d.projected_qty +\n        d.reserved_qty +\n        d.reserved_qty_for_production +\n        d.reserved_qty_for_sub_contract;\n      d.pending_qty = 0;\n      d.total_reserved =\n        d.reserved_qty +\n        d.reserved_qty_for_production +\n        d.reserved_qty_for_sub_contract;\n      if (d.actual_or_pending > d.actual_qty) {\n        d.pending_qty = d.actual_or_pending - d.actual_qty;\n      }\n  \n      max_count = Math.max(\n        d.actual_or_pending,\n        d.actual_qty,\n        d.total_reserved,\n        max_count\n      );\n    });\n  \n    let can_write = 0;\n    if (frappe.boot.user.can_write.indexOf(\"Stock Entry\") >= 0) {\n      can_write = 1;\n    }\n  \n    return {\n      data: data,\n      max_count: max_count,\n      can_write: can_write,\n      show_item: show_item || false,\n    };\n  };", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// https://github.com/cornflourblue/jw-vue-pagination/blob/master/src/JwPagination.vue\n// https://jasonwatmore.com/post/2019/08/21/vue-js-simple-pagination-example\nimport paginate from \"./paginate\";\nconst defaultLabels = {\n  first: \"First\",\n  last: \"Last\",\n  previous: \"Previous\",\n  next: \"Next\"\n};\nconst defaultStyles = {\n  ul: {\n    margin: 0,\n    padding: 0,\n    display: \"inline-block\"\n  },\n  li: {\n    listStyle: \"none\",\n    display: \"inline\",\n    textAlign: \"center\"\n  },\n  a: {\n    cursor: \"pointer\",\n    padding: \"6px 12px\",\n    display: \"block\",\n    float: \"left\"\n  }\n};\nconst __vue_script__ = {\n  name: \"Paginator\",\n  props: {\n    items: {\n      type: Array,\n      required: true\n    },\n    initialPage: {\n      type: Number,\n      default: 1\n    },\n    pageSize: {\n      type: Number,\n      default: 10\n    },\n    maxPages: {\n      type: Number,\n      default: 10\n    },\n    labels: {\n      type: Object,\n      default: () => defaultLabels\n    },\n    styles: {\n      type: Object\n    },\n    disableDefaultStyles: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      pager: {},\n      ulStyles: {},\n      liStyles: {},\n      aStyles: {}\n    };\n  },\n  created() {\n    if (!this.$listeners.changePage) {\n      throw 'Missing required event listener: \"changePage\"';\n    }\n    // set default styles unless disabled\n    if (!this.disableDefaultStyles) {\n      this.ulStyles = defaultStyles.ul;\n      this.liStyles = defaultStyles.li;\n      this.aStyles = defaultStyles.a;\n    }\n    // merge custom styles with default styles\n    if (this.styles) {\n      this.ulStyles = { ...this.ulStyles, ...this.styles.ul };\n      this.liStyles = { ...this.liStyles, ...this.styles.li };\n      this.aStyles = { ...this.aStyles, ...this.styles.a };\n    }\n    // set to initial page\n    this.setPage(this.initialPage);\n  },\n  methods: {\n    setPage(page) {\n      const { items, pageSize, maxPages } = this;\n      // get new pager object for specified page\n      const pager = paginate(items.length, page, pageSize, maxPages);\n      // get new page of items from items array\n      const pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1);\n      // update pager\n      this.pager = pager;\n      // emit change page event to parent component\n      this.$emit(\"changePage\", pageOfItems);\n    }\n  },\n  watch: {\n    items() {\n      this.setPage(this.initialPage);\n    }\n  }\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.pager.pages && _vm.pager.pages.length\n    ? _c(\n        \"ul\",\n        { staticClass: \"pagination\", style: _vm.ulStyles },\n        [\n          _c(\n            \"li\",\n            {\n              staticClass: \"page-item first\",\n              class: { disabled: _vm.pager.currentPage === 1 },\n              style: _vm.liStyles\n            },\n            [\n              _c(\n                \"a\",\n                {\n                  staticClass: \"page-link\",\n                  style: _vm.aStyles,\n                  on: {\n                    click: function($event) {\n                      return _vm.setPage(1)\n                    }\n                  }\n                },\n                [_vm._v(_vm._s(_vm.labels.first))]\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"li\",\n            {\n              staticClass: \"page-item previous\",\n              class: { disabled: _vm.pager.currentPage === 1 },\n              style: _vm.liStyles\n            },\n            [\n              _c(\n                \"a\",\n                {\n                  staticClass: \"page-link\",\n                  style: _vm.aStyles,\n                  on: {\n                    click: function($event) {\n                      return _vm.setPage(_vm.pager.currentPage - 1)\n                    }\n                  }\n                },\n                [_vm._v(_vm._s(_vm.labels.previous))]\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _vm._l(_vm.pager.pages, function(page) {\n            return _c(\n              \"li\",\n              {\n                key: page,\n                staticClass: \"page-item page-number\",\n                class: { active: _vm.pager.currentPage === page },\n                style: _vm.liStyles\n              },\n              [\n                _c(\n                  \"a\",\n                  {\n                    staticClass: \"page-link\",\n                    style: _vm.aStyles,\n                    on: {\n                      click: function($event) {\n                        return _vm.setPage(page)\n                      }\n                    }\n                  },\n                  [_vm._v(_vm._s(page))]\n                )\n              ]\n            )\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"li\",\n            {\n              staticClass: \"page-item next\",\n              class: {\n                disabled: _vm.pager.currentPage === _vm.pager.totalPages\n              },\n              style: _vm.liStyles\n            },\n            [\n              _c(\n                \"a\",\n                {\n                  staticClass: \"page-link\",\n                  style: _vm.aStyles,\n                  on: {\n                    click: function($event) {\n                      return _vm.setPage(_vm.pager.currentPage + 1)\n                    }\n                  }\n                },\n                [_vm._v(_vm._s(_vm.labels.next))]\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"li\",\n            {\n              staticClass: \"page-item last\",\n              class: {\n                disabled: _vm.pager.currentPage === _vm.pager.totalPages\n              },\n              style: _vm.liStyles\n            },\n            [\n              _c(\n                \"a\",\n                {\n                  staticClass: \"page-link\",\n                  style: _vm.aStyles,\n                  on: {\n                    click: function($event) {\n                      return _vm.setPage(_vm.pager.totalPages)\n                    }\n                  }\n                },\n                [_vm._v(_vm._s(_vm.labels.last))]\n              )\n            ]\n          )\n        ],\n        2\n      )\n    : _vm._e()\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = undefined\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n  <ul\\n    v-if=\\\"pager.pages && pager.pages.length\\\"\\n    class=\\\"pagination\\\"\\n    :style=\\\"ulStyles\\\"\\n  >\\n    <li\\n      class=\\\"page-item first\\\"\\n      :class=\\\"{ disabled: pager.currentPage === 1 }\\\"\\n      :style=\\\"liStyles\\\"\\n    >\\n      <a class=\\\"page-link\\\" @click=\\\"setPage(1)\\\" :style=\\\"aStyles\\\">{{\\n        labels.first\\n      }}</a>\\n    </li>\\n    <li\\n      class=\\\"page-item previous\\\"\\n      :class=\\\"{ disabled: pager.currentPage === 1 }\\\"\\n      :style=\\\"liStyles\\\"\\n    >\\n      <a\\n        class=\\\"page-link\\\"\\n        @click=\\\"setPage(pager.currentPage - 1)\\\"\\n        :style=\\\"aStyles\\\"\\n        >{{ labels.previous }}</a\\n      >\\n    </li>\\n    <li\\n      v-for=\\\"page in pager.pages\\\"\\n      :key=\\\"page\\\"\\n      class=\\\"page-item page-number\\\"\\n      :class=\\\"{ active: pager.currentPage === page }\\\"\\n      :style=\\\"liStyles\\\"\\n    >\\n      <a class=\\\"page-link\\\" @click=\\\"setPage(page)\\\" :style=\\\"aStyles\\\">{{\\n        page\\n      }}</a>\\n    </li>\\n    <li\\n      class=\\\"page-item next\\\"\\n      :class=\\\"{ disabled: pager.currentPage === pager.totalPages }\\\"\\n      :style=\\\"liStyles\\\"\\n    >\\n      <a\\n        class=\\\"page-link\\\"\\n        @click=\\\"setPage(pager.currentPage + 1)\\\"\\n        :style=\\\"aStyles\\\"\\n        >{{ labels.next }}</a\\n      >\\n    </li>\\n    <li\\n      class=\\\"page-item last\\\"\\n      :class=\\\"{ disabled: pager.currentPage === pager.totalPages }\\\"\\n      :style=\\\"liStyles\\\"\\n    >\\n      <a\\n        class=\\\"page-link\\\"\\n        @click=\\\"setPage(pager.totalPages)\\\"\\n        :style=\\\"aStyles\\\"\\n        >{{ labels.last }}</a\\n      >\\n    </li>\\n  </ul>\\n</template>\\n\\n<script>\\n// https://github.com/cornflourblue/jw-vue-pagination/blob/master/src/JwPagination.vue\\n// https://jasonwatmore.com/post/2019/08/21/vue-js-simple-pagination-example\\nimport paginate from \\\"./paginate\\\";\\nconst defaultLabels = {\\n  first: \\\"First\\\",\\n  last: \\\"Last\\\",\\n  previous: \\\"Previous\\\",\\n  next: \\\"Next\\\"\\n};\\nconst defaultStyles = {\\n  ul: {\\n    margin: 0,\\n    padding: 0,\\n    display: \\\"inline-block\\\"\\n  },\\n  li: {\\n    listStyle: \\\"none\\\",\\n    display: \\\"inline\\\",\\n    textAlign: \\\"center\\\"\\n  },\\n  a: {\\n    cursor: \\\"pointer\\\",\\n    padding: \\\"6px 12px\\\",\\n    display: \\\"block\\\",\\n    float: \\\"left\\\"\\n  }\\n};\\nexport default {\\n  name: \\\"Paginator\\\",\\n  props: {\\n    items: {\\n      type: Array,\\n      required: true\\n    },\\n    initialPage: {\\n      type: Number,\\n      default: 1\\n    },\\n    pageSize: {\\n      type: Number,\\n      default: 10\\n    },\\n    maxPages: {\\n      type: Number,\\n      default: 10\\n    },\\n    labels: {\\n      type: Object,\\n      default: () => defaultLabels\\n    },\\n    styles: {\\n      type: Object\\n    },\\n    disableDefaultStyles: {\\n      type: Boolean,\\n      default: false\\n    }\\n  },\\n  data() {\\n    return {\\n      pager: {},\\n      ulStyles: {},\\n      liStyles: {},\\n      aStyles: {}\\n    };\\n  },\\n  created() {\\n    if (!this.$listeners.changePage) {\\n      throw 'Missing required event listener: \\\"changePage\\\"';\\n    }\\n    // set default styles unless disabled\\n    if (!this.disableDefaultStyles) {\\n      this.ulStyles = defaultStyles.ul;\\n      this.liStyles = defaultStyles.li;\\n      this.aStyles = defaultStyles.a;\\n    }\\n    // merge custom styles with default styles\\n    if (this.styles) {\\n      this.ulStyles = { ...this.ulStyles, ...this.styles.ul };\\n      this.liStyles = { ...this.liStyles, ...this.styles.li };\\n      this.aStyles = { ...this.aStyles, ...this.styles.a };\\n    }\\n    // set to initial page\\n    this.setPage(this.initialPage);\\n  },\\n  methods: {\\n    setPage(page) {\\n      const { items, pageSize, maxPages } = this;\\n      // get new pager object for specified page\\n      const pager = paginate(items.length, page, pageSize, maxPages);\\n      // get new page of items from items array\\n      const pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1);\\n      // update pager\\n      this.pager = pager;\\n      // emit change page event to parent component\\n      this.$emit(\\\"changePage\\\", pageOfItems);\\n    }\\n  },\\n  watch: {\\n    items() {\\n      this.setPage(this.initialPage);\\n    }\\n  }\\n};\\n</script>\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (false) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n    name:'PatientInfo',\n    props:{\n        prescription:{\n            type:Object,\n            required:true\n        },\n         customer_group:{\n            type:Object,\n            required:true\n        }\n    }\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _vm.prescription\n        ? _c(\n            \"b-row\",\n            { staticClass: \"card\", staticStyle: { \"margin-top\": \"1%\" } },\n            [\n              _c(\"b-col\", [\n                _c(\"div\", { staticStyle: { margin: \"0px\", padding: \"0px\" } }, [\n                  _c(\"div\", {}, [\n                    _c(\"h3\", { staticClass: \"h3 card-text patient-name\" }, [\n                      _vm._v(\n                        _vm._s(_vm.prescription.patient_name) +\n                          \" | \" +\n                          _vm._s(_vm.prescription.patient_number) +\n                          \" | \" +\n                          _vm._s(_vm.prescription.encounter) +\n                          \"\\n              \"\n                      )\n                    ]),\n                    _vm._v(\n                      \"\\n              \" +\n                        _vm._s(_vm.prescription.warehouse) +\n                        \" |\\n              \" +\n                        _vm._s(\n                          _vm.prescription.sales_invoice || \"Not Invoiced\"\n                        ) +\n                        \" |\\n              \" +\n                        _vm._s(_vm.prescription.status) +\n                        \" | \\n              \"\n                    ),\n                    _vm.customerInfo\n                      ? _c(\"span\", [\n                          _vm._v(\n                            \"\\n                \" +\n                              _vm._s(_vm.customerInfo.customer_group) +\n                              \"\\n              \"\n                          )\n                        ])\n                      : _vm._e()\n                  ])\n                ])\n              ])\n            ],\n            1\n          )\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = undefined\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n    <div>\\n        <b-row v-if=\\\"prescription\\\" class=\\\"card\\\" style=\\\"margin-top:1%\\\">\\n          <b-col>\\n            <div style=\\\"margin:0px;padding:0px;\\\">\\n               <div class=\\\"\\\">\\n                <h3 class=\\\"h3 card-text patient-name\\\">{{ prescription.patient_name }} | {{ prescription.patient_number}} | {{ prescription.encounter }}\\n                  </h3>\\n                  {{ prescription.warehouse }} |\\n                  {{ prescription.sales_invoice || 'Not Invoiced'}} |\\n                  {{ prescription.status }} | \\n                  <span v-if=\\\"customerInfo\\\">\\n                    {{ customerInfo.customer_group}}\\n                  </span>\\n               </div>\\n          </div>\\n          </b-col>\\n        </b-row>\\n    </div>\\n</template>\\n<script>\\nexport default {\\n    name:'PatientInfo',\\n    props:{\\n        prescription:{\\n            type:Object,\\n            required:true\\n        },\\n         customer_group:{\\n            type:Object,\\n            required:true\\n        }\\n    }\\n}\\n</script>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (false) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "export default {\n\n};", "export default {\n\n};", "import {\n    /*getPrescriptions,\n    ,\n    updatePrescriptionItem,\n    createPrescriptionInvoice,\n    getPrescriptionInvoice,\n    setPrescriptionInvoiceNumber,\n    getDrugItemAlternates,\n    updatePrescriptionItemDrug,\n    getPrecriptionDrugUnitPrice,\n    getWarehouses,\n    updatePrescriptionWarehouse,\n    dispensePrescription,\n    ,\n    dispenseStockEntry,\n    prescriptionChangeComment,\n    createPrescriptionSalesOrder\n    */\n    // customerInfomation,\n    // getPatientPrescriptionsV2\n    prescriptionItemMaterialRequest\n}\nfrom '../../services/pharmacy/prescriptions.js'\nexport default {\n    createMaterialRequest({ commit }, payload) {\n        prescriptionItemMaterialRequest({\n            drug: payload.drug,\n            quantity: payload.quantity,\n            warehouse: payload.warehouse,\n            from_warehouse: payload.from_warehouse\n        }).then(result => {\n            if (result) {\n                frappe.show_alert({\n                    message: `Material Request Created. Awaiting response`,\n                    indicator: 'green'\n                }, 5);\n            } else {\n                frappe.show_alert({\n                    message: `Request Failed. Please try again`,\n                    indicator: 'red'\n                }, 5);\n            }\n        });\n    }\n};", "export default {\n\n};", "import state from \"./state\";\nimport mutations from \"./mutations\";\nimport actions from \"./actions\";\nimport getters from \"./getters\";\n\nexport default {\n    // isRegistered: false,\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n    getters\n};", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { get_item_dashboard_data } from '../../../utils';\nimport Paginator from '../../util/Paginator.vue';\n// import { Vue } from 'vue';\n// import PatientInfo from './PatientInfo.vue';\nimport {\n  // getPrescriptions,\n  // getPatientPrescriptionsV2,\n  updatePrescriptionItem,\n  createPrescriptionInvoice,\n  getPrescriptionInvoice,\n  setPrescriptionInvoiceNumber,\n  getDrugItemAlternates,\n  updatePrescriptionItemDrug,\n  getPrecriptionDrugUnitPrice,\n  getWarehouses,\n  updatePrescriptionWarehouse,\n  dispensePrescription,\n  // prescriptionItemMaterialRequest,\n  dispenseStockEntry,\n  prescriptionChangeComment,\n  stageItemForOrder,\n  createDrugSalesOrder,\n  getMatchedItems,\n  matchStockItemApi,\n  calculatePrescriptionQuantity,\n  getDrugsAwaitingDispense,\n  getDrugGroups,\n  updateDrugPrescription,\n  removeMatchedItem as removeMatchedItemApi,unStageApi,\n} from '../../../../services/pharmacy/prescriptions.js';\nimport { updateQueueStatus, removeFromQueue } from '../../../../services/pharmacy/queue.js';\nimport prescriptionStockModule from '../../../../state/pharmacy-stock/index.js';\nimport moment from 'moment';\n\nconst __vue_script__ = {\n  props: {\n    queueState: {\n      type: Object,\n      default: {},\n      required: true,\n    },\n    prescription: {\n      type: Object,\n      required: true,\n    },\n     patientData: {\n      type: Object,\n    },\n    patientName: {\n      type: String,\n      required: true,\n      default: ''\n    },\n    selectedPharmacy: {\n      type: String,\n      default: \"\",\n      required: true,\n    }\n  },\n  components: {\n    Paginator,\n    // PatientInfo\n  },\n  data() {\n    return {\n      // prescription: {},\n      toDispenseFields: ['drug_name', {key: 'item_name', label: 'Selected Item' },  {key: 'creation', label: 'Creation', formatter: (value, key, item) => moment(item.creation).fromNow()}, 'rate', { label: 'Quantity', key: 'quantity' }, {key: 'total_price', label: 'Total Price', formatter: (value, key, item) => item.quantity * parseFloat(item.rate)}, {key: 'action', label: ' '}],\n      staged: [],\n      itemGroups: [],\n      totalUnpaid: 0,\n      selected: {},\n      filterdPrescription: [],\n      tt: false,\n      prescriptionItems: [],\n      prescriptionItemsPage: [],\n      loading: true,\n      alternativeDrugs: [],\n      alternativeDrug: null,\n      prescriptionItem: null,\n      warehouses: [],\n      warehouse: null,\n      customerInfo: null,\n      totalAmount: 0,\n      selectedPrescriptions: [],\n      selectedTotals: 0,\n      paidPres: [],\n      showPrevious: 0,\n      fields: [\n        'drug_name',\n        { label: 'Dose', key: 'doctor_dose' },\n        'frequency',\n        'duration',\n        {key: 'creation', label: 'Creation', formatter: (value, key, item) => moment(item.creation).fromNow()},\n        'route_of_administration',\n         { label: 'Ordered By', key: 'practitioner' },\n        { label: 'Actions', key: 'action' },\n      ],\n      activeRow: {},\n      items: [],\n      addItem: false,\n      insurance: 100000\n    };\n  },\n  watch: {\n    patientData(){\n      if(this.patientData.customer_group === 'All Customer Groups') {\n        this.insurance = 0\n      } else {\n        this.insurance = 100000\n      }\n    },\n    prescription() {\n      (this.selectedPrescriptions = []), (this.selectedTotals = 0);\n      // this.totalAmount = Math.ceil(this.prescription.reduce((accum, item) => accum + (item.rate * item.qty || 1), 0)).toFixed(2);\n      this.paidPres = this.prescription.filter(function (e) {\n        return e.sales_order_status === 'Fully Billed';\n      });\n      this.filterdPrescription = this.prescription.filter(this.filter)\n    },\n    activeRow(){\n        const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, warehouse: this.selectedPharmacy.warehouse, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\n        Promise.all(promises).then(([quantity, message]) => {\n          this.items = message.map((item) => ({ quantity: quantity || 1, in_stock: item.stock_balance, rate: 0, ...item}));\n        })\n      \n    },\n    patientName(){\n      getDrugsAwaitingDispense({ patient: this.patientName, status: 'Staged'})\n    .then((data) => {\n      this.staged = data.map((e) => ({...e, initialQuantity: e.quantity, original_qty: e.quantity }));\n      this.totalUnpaid = data.reduce((a, b) => a + parseFloat(b.total_price),0)\n    })\n    }\n  },\n  methods: {\n    filter (item){ return !moment(item.creation).diff(moment(), 'days')},\n    onSelect(name){\n      // const name = ev.item.split(/\\s+/).join('-')\n      const el = document.getElementById(name);\n      console.log(name, el)\n      if(el){\n        el.focus()\n      }\n    },\n    unStage(row){\n      unStageApi(row.item)\n      .then(() => {\n        this.$emit('onUpdateList')\n        getDrugsAwaitingDispense({ patient: this.patientName, status: 'Staged'})\n    .then((data) => {\n      this.staged = data.map((e) => ({...e, initialQuantity: e.quantity, original_qty: e.quantity }));\n      this.totalUnpaid = data.reduce((a, b) => a + parseFloat(b.total_price),0)\n    })\n      })\n    },\n    clearSelected(){\n      this.selected = {}\n    },\n    openEditModal(item){\n      const parent = this;\n      const previousName = item.drug_name;\n      let d = new frappe.ui.Dialog({\n        title: `Edit Drug Prescription`,\n        fields: [{\n                    label: 'Drug',\n                    fieldname: 'drug',\n                    fieldtype: 'Link',\n                    options: 'Item',\n                    reqd: true,\n                    filters: { item_group: ['in', parent.itemGroups ], has_variants: 1},\n                    default : item.drug,\n                    onchange: () => {\n                       frappe.db.get_value('Item', d.fields_dict.drug.value, 'item_name').then(({ message }) => {\n                         d.set_value('drug_name', message.item_name);\n                         d.set_value('instructions', `Take ${message.item_name} ${item.doctor_dose || item.dose || ''} for ${item.duration} ${item.period || ''}`)\n                         d.refresh();\n                });\n                    }\n                },{\n                    label: 'Drug Name',\n                    fieldname: 'drug_name',\n                    fetch_from: 'drug.item_name',\n                    fieldtype: 'Data',\n                    reqd: true,\n                     default : item.drug_name,\n                    read_only: 1\n                },{\n                    label: 'Instructions',\n                    fieldname: 'instructions',\n                    fieldtype: 'Small Text',\n                    default: item.instructions\n                }],\n        primary_action: (values) => {\n          updateDrugPrescription({...values, name: item.name })\n          .then((res) => {\n            item.drug_name = res.drug_name\n            item.instructions = res.instructions\n            item.drug = res.drug\n            this.$emit('onUpdateList')\n          })\n          d.hide();\n        }    \n      });\n      d.show()\n    },\n    removeMatchedItem(item){\n      removeMatchedItemApi(item)\n      .then(() => {\n        const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\n        Promise.all(promises).then(([quantity, message]) => {\n          this.items = message.map((item) => ({ quantity: 1, in_stock: item.stock_balance, rate: 0, ...item}));\n        })\n      })\n    },\n    calculateUnpaid(e, i) {\n      const data = this.staged;\n      const maximum = Math.min(parseInt(i.item.initialQuantity), i.item.quantity);\n      i.item.quantity = maximum;\n      this.totalUnpaid = data.reduce((a, b) => a + (parseFloat(b.rate) * parseFloat(b.quantity)),0)\n    },\n    openModal(row) {\n      this.activeRow = row;\n      console.log(row);\n      this.$refs.viewPrescription.show();\n    },\n    addAMatch(item){\n      let d = new frappe.ui.Dialog({\n        title: `Add Matching Stock Item`,\n        fields: [{\n            label: 'Item',\n            fieldname: 'item',\n            fieldtype: 'Link',\n            options: 'Item',\n            filters: { has_variants: 0, item_group: ['in', this.itemGroups]}\n          },\n          {\n            label: 'Strength',\n            fieldname: 'strength',\n            fieldtype: 'Data',\n          },{\n            label: 'Route of Administration',\n            fieldname: 'dosage_form',\n            fieldtype: 'Link',\n            options: 'Dosage Form'\n          },],\n        primary_action: (values) => {\n          matchStockItemApi({dosage_form: item.dosage_form, ...values, drug: item.drug}).then(() => {\n            frappe.show_alert(`${item.drug} matched successfully with ${values.item}`, 5);\n            this.getStagedItems();\n            const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\n        Promise.all(promises).then(([quantity, message]) => {\n          this.items = message.map((item) => ({ quantity: 1, in_stock: item.stock_balance, rate: 0, ...item}));\n        })\n            d.hide();\n          })\n        }\n      });\n      d.show()\n    },\n    stageForOrder(){\n      if(!this.selected.item) {\n          return frappe.throw('Please select an item or add a matched Item before creating a medication order')\n        }\n\n        console.log(this.selected)\n      const args = {\n        patient: this.activeRow.patient_number,\n        encounter: this.activeRow.patient_encounter, \n        inpatient_record: this.activeRow.inpatient_record, \n        item: this.selected.item.item, \n        quantity: this.selected.item.quantity,\n        service_unit: this.activeRow.service_unit,\n        appointment_name: this.activeRow.patient_appointment,\n        doctors_prescription: this.activeRow.name,\n        route_of_administration: this.activeRow.route_of_administration || '',\n        rate: this.selected.item.rate,\n        \n      }\n\n      stageItemForOrder(args).then(() => {\n        this.$emit('onUpdateList');\n        this.getStagedItems();\n        })\n    \n    },\n    createSalesOrders(){\n      const args = {\n        items: this.staged,\n        limit: this.insurance,\n        total: this.totalUnpaid,\n        warehouse: this.selectedPharmacy.warehouse,\n      }\n      console.log()\n      createDrugSalesOrder(args).then(() => {\n        updateQueueStatus({ state_name: this.queueState.name, status: 'Invoiced' }).then((m) => {})\n        this.getStagedItems();\n        this.$emit('onUpdateList')\n      })\n    },\n    getAmountAndPayerSum(payer, rate, qty, remaining_quantity = 0, co_paid_quantity = 0, type) {\n      switch (payer) {\n        case 'Patient':\n          return type === 'Amount' ? Math.ceil(rate * qty).toFixed(2) || 1 | numberWithCommas : 'Patient incurs';\n        case 'Copay':\n          return type === 'Amount'\n            ? Math.ceil(rate * (remaining_quantity * qty)).toFixed(2) || 1 | numberWithCommas\n            : 'Copaid amount: ' +\n                '(' +\n                (Math.ceil(rate * (co_paid_quantity * qty)).toFixed(2) || 1 | numberWithCommas) +\n                ')';\n        case 'Insurance':\n          return type === 'Amount'\n            ? 0\n            : 'Insurance covers: ' + '(' + (Math.ceil(rate * qty).toFixed(2) || 1 | numberWithCommas) + ')';\n        case 'Pre-auth Insurance':\n          return type === 'Amount'\n            ? 0\n            : 'Insurance Pre-auth: ' + '(' + (Math.ceil(rate * qty).toFixed(2) || 1 | numberWithCommas) + ')';\n        case 'Pre-auth Copay':\n          return type === 'Amount'\n            ? Math.ceil(rate * (remaining_quantity * qty)).toFixed(2) || 1 | numberWithCommas\n            : 'Pre-auth Copay:: ' +\n                '(' +\n                (Math.ceil(rate * (co_paid_quantity * qty)).toFixed(2) || 1 | numberWithCommas) +\n                ')';\n      }\n    },\n    selectAll() {\n      this.prescription.forEach((item) => {\n        if (!item.sales_order) {\n          this.selectRow(item);\n        }\n      });\n    },\n    printPrescription(prescriptionItem) {\n      var w = window.open(\n        frappe.urllib.get_full_url(\n          '/printview?' +\n            'doctype=' +\n            encodeURIComponent('Patient Encounter') +\n            '&name=' +\n            encodeURIComponent(prescriptionItem.encounter) +\n            '&format=Encounter Prescription Print Format&_lang=en&trigger_print=1',\n        ),\n      );\n      if (!w) {\n        msgprint(__('Please enable pop-ups'));\n        return;\n      }\n    },\n    dispense() {\n      let paidPrescription = this.prescription.filter(function (e) {\n        return e.sales_order_status === 'Fully Billed';\n      });\n      if (paidPrescription.length) {\n        dispenseStockEntry({\n          warehouse: paidPrescription[0].warehouse,\n          encounter_name: paidPrescription[0].encounter,\n          // prescription_names: this.prescription.map(drug=>drug.prescription_id) ,\n          sales_order: paidPrescription[0].sales_order,\n          patient_name: paidPrescription[0].patient_number,\n        }).then((result) => {\n          frappe.show_alert(\n            {\n              message: `Stocks Updated`,\n              indicator: 'green',\n            },\n            15,\n          );\n          dispensePrescription({\n            prescription_names: paidPrescription.map((drug) => drug.prescription_id),\n            patient_name: paidPrescription[0].patient_number,\n            warehouse_name: paidPrescription[0].warehouse,\n          }).then((data) => {\n            frappe.show_alert(\n              {\n                message: `Prescription Dispensed`,\n                indicator: 'green',\n              },\n              15,\n            );\n          });\n          removeFromQueue({ queue_state_name: parent.queueState.name }).then((r) => {\n            console.log('REMOVED FROM QUEUE');\n          });\n          prescriptionChangeComment({\n            reference_doctype: 'Patient Encounter',\n            reference_name: paidPrescription[0].encounter,\n            content: `Prescriptions : ${paidPrescription.map((x) => x.drug_code).toString()} Dispensed`,\n            comment_email: frappe.session.user,\n            comment_by: frappe.session.user_fullname,\n          }).then((result) => {});\n        });\n      } else {\n        frappe.show_alert(\n          {\n            message: `No invoiced Prescription`,\n            indicator: 'red',\n          },\n          5,\n        );\n      }\n    },\n    selectRow(item) {\n      console.log('Start ', this.selectedPrescriptions.length);\n      if (typeof item === 'object') {\n        let replaced = false;\n        this.selectedPrescriptions.map((pres, x) => {\n          if (pres.prescription_id === item.prescription_id) {\n            this.selectedPrescriptions.splice(this.selectedPrescriptions.indexOf(item), 1);\n            replaced = true;\n          }\n        });\n        if (!replaced) {\n          this.selectedPrescriptions.push(item);\n        }\n        this.selectedTotals = Math.ceil(\n          this.selectedPrescriptions.reduce((accum, item) => accum + item.rate * item.qty, 0),\n        ).toFixed(2);\n      } else {\n        //\n      }\n    },\n    printPrescriptionLabel(prescriptionItem) {\n      // console.log(JSON.stringify(prescriptionItem))\n      // https://docs.erpnext.com/docs/user/manual/en/setting-up/print/raw-printing\n      var w = window.open(\n        frappe.urllib.get_full_url(\n          '/printview?' +\n            'doctype=' +\n            encodeURIComponent('Drug Prescription') +\n            '&name=' +\n            encodeURIComponent(prescriptionItem.prescription_id) +\n            '&format=Drug Prescription Label&_lang=en&no_letterhead=1&letterhead=No Letterhead&trigger_print=1',\n        ),\n      );\n      if (!w) {\n        msgprint(__('Please enable pop-ups'));\n        return;\n      }\n    },\n    createMaterialRequest(prescriptionItem) {\n      let parent = this;\n      let d = new frappe.ui.Dialog({\n        title: `Material Request for ${prescriptionItem.drug_name}`,\n        fields: [\n          {\n            label: 'Warehouse',\n            fieldname: 'warehouse',\n            fieldtype: 'Select',\n            options: this.warehouses,\n          },\n          {\n            label: 'Quantity',\n            fieldname: 'quantity',\n            fieldtype: 'Int',\n          },\n        ],\n        primary_action_label: 'Submit',\n        primary_action(values) {\n          d.hide();\n          parent.$store.dispatch('prescriptionStockModule/createMaterialRequest', {\n            drug: prescriptionItem.drug_name,\n            quantity: values.quantity,\n            warehouse: prescriptionItem.warehouse,\n            from_warehouse: values.warehouse,\n          });\n        },\n        secondary_action_label: 'Cancel',\n        secondary_action() {\n          d.hide();\n        },\n      });\n      d.show();\n      this.loading = false;\n    },\n    resetMaterialRequestModal() {\n      this.prescriptionItem = null;\n    },\n    materialRequest(prescriptionItem) {\n      this.prescriptionItem = prescriptionItem;\n      getWarehouses({}).then((result) => {\n        if (result && result.length) {\n          this.warehouses = result.map((unit) => unit.name);\n          this.createMaterialRequest(prescriptionItem);\n        } else {\n          frappe.show_alert(\n            {\n              message: `No Warehouses Available`,\n              indicator: 'orange',\n            },\n            5,\n          );\n        }\n      });\n    },\n    updateWarehouse() {\n      if (this.prescription && this.prescription.name) {\n        updatePrescriptionWarehouse({\n          prescription_name: this.prescription.name,\n          warehouse_name: this.warehouse,\n        }).then((result) => {\n          if (result) {\n            frappe.show_alert(\n              {\n                message: `Prescription  Moved to ${result.warehouse}.`,\n                indicator: 'green',\n              },\n              5,\n            );\n            this.prescription = result;\n            this.loading = false;\n          } else {\n            frappe.show_alert(\n              {\n                message: `Transfer Failed. Please try again`,\n                indicator: 'red',\n              },\n              5,\n            );\n          }\n        });\n      } else {\n        frappe.show_alert(\n          {\n            message: `No Prescription Selected`,\n            indicator: 'orange',\n          },\n          5,\n        );\n      }\n      this.loading = false;\n    },\n    resetServiceUnits() {\n      this.warehouse = null;\n    },\n    transferPrescription() {\n      // frappe.set_route(\"prescription\", this.prescription.name);\n      if (this.prescription && this.prescription.name) {\n        getWarehouses({}).then((result) => {\n          if (result && result.length) {\n            this.warehouses = result.map((unit) => unit.name);\n            this.$refs.changeServiceUnitModal.show();\n          } else {\n            frappe.show_alert(\n              {\n                message: `No Healthcare Service Units`,\n                indicator: 'orange',\n              },\n              5,\n            );\n          }\n        });\n      } else {\n        frappe.show_alert(\n          {\n            message: `No Prescription Selected`,\n            indicator: 'orange',\n          },\n          5,\n        );\n      }\n    },\n    fetchAlternates(prescriptionItem) {\n      this.prescriptionItem = prescriptionItem;\n      getDrugItemAlternates({\n        drug_name: prescriptionItem.drug_code,\n      }).then((result) => {\n        if (result && result.length) {\n          this.alternativeDrugs = result.map((drugs) => drugs.alternative_item_code);\n          this.changeDrug(prescriptionItem, this.alternativeDrugs);\n        } else {\n          frappe.show_alert(\n            {\n              message: `${prescriptionItem.drug_code} has no alternative setup in the system`,\n              indicator: 'orange',\n            },\n            5,\n          );\n        }\n      });\n    },\n    resetAlternateDrugModal() {\n      this.alternativeDrugs = [];\n      this.alternativeDrug = null;\n      this.prescriptionItems = null;\n    },\n    changeDrug(prescriptionItem, alternativeDrugs) {\n      let parent = this;\n      // https://frappeframework.com/docs/user/en/guides/app-development/dialogs-types\n      let d = new frappe.ui.Dialog({\n        title: `Select Alternate Drug for ${prescriptionItem.drug_name}`,\n        fields: [\n          {\n            label: 'Drug',\n            fieldname: 'alternativeDrug',\n            fieldtype: 'Select',\n            options: alternativeDrugs,\n          },\n        ],\n        primary_action_label: 'Submit',\n        primary_action(values) {\n          updatePrescriptionItemDrug({\n            patient_name: prescriptionItem.patient_number,\n            prescription_item_name: prescriptionItem.prescription_id,\n            drug_name: values.alternativeDrug,\n          }).then((result) => {\n            parent.loading = false;\n            parent.updateTableRow(result);\n          });\n          d.hide();\n          prescriptionChangeComment({\n            reference_doctype: 'Patient Encounter',\n            reference_name: prescriptionItem.encounter,\n            content: `Prescription Drug Change from ${prescriptionItem.drug_code} to ${values.alternativeDrug}`,\n            comment_email: frappe.session.user,\n            comment_by: frappe.session.user_fullname,\n          }).then((result) => {});\n        },\n        secondary_action_label: 'Cancel',\n        secondary_action() {\n          d.hide();\n          parent.resetAlternateDrugModal();\n        },\n      });\n      d.show();\n      this.loading = false;\n    },\n    updateTableRow(result) {\n      this.prescription.map((item, x) => {\n        if (item.prescription_id === result.name) {\n          Vue.set(this.prescription, x, result);\n        }\n      });\n      this.itemUnitsChanged();\n      this.resetAlternateDrugModal();\n    },\n    numberOfUnitsChange(prescriptionItem) {\n      this.loading = true;\n      updatePrescriptionItem({\n        name: prescriptionItem.prescription_id,\n        qty: prescriptionItem.qty,\n      })\n        .then((result) => {\n          this.loading = false;\n          this.prescription.prescription_item.map((item, x) => {\n            if (item.name === result.name) {\n              Vue.set(this.prescription.prescription_item, x, result);\n            }\n          });\n          frappe.show_alert(\n            {\n              message: `Drug  #${prescriptionItem.drug_code} unit changed.`,\n              indicator: 'green',\n            },\n            5,\n          );\n          this.itemUnitsChanged();\n        })\n        .catch((err) => {\n          this.loading = false;\n        });\n      this.loading = false;\n    },\n    itemUnitsChanged(type) {\n      let totalAmount = 0;\n      if (this.prescription && this.prescription.length) {\n        let itemList = [];\n        if (type === 'Gross') {\n          itemList = this.prescription;\n        } else {\n          itemList = this.selectedPrescriptions;\n        }\n        itemList.forEach((item, index) => {\n          switch (item.payer) {\n            case 'Patient':\n              totalAmount = totalAmount + item.rate * item.qty;\n              break;\n            case 'Copay':\n              totalAmount = totalAmount + Math.ceil(item.rate * (item.qty * item.remaining_quantity));\n              break;\n            case 'Insurance':\n              totalAmount = totalAmount + 0;\n              break;\n            case 'Pre-auth Insurance':\n              totalAmount = totalAmount + 0;\n              break;\n            case 'Pre-auth Copay':\n              totalAmount = totalAmount + Math.ceil(item.rate * (item.qty * item.remaining_quantity));\n              break;\n          }\n        });\n        this.totalAmount = totalAmount;\n      }\n\n      return totalAmount;\n    },\n    postInvoice() {\n      if (this.selectedPrescriptions && this.selectedPrescriptions.length) {\n        // console.log(JSON.stringify(this.selectedPrescriptions))\n        createPrescriptionSalesOrder({ prescription_docs: this.selectedPrescriptions, warehouse_name: '' }).then(\n          (r) => {\n            frappe.show_alert(\n              {\n                message: `Prescription Sales order created`,\n                indicator: 'green',\n              },\n              5,\n            );\n            updateQueueStatus({ state_name: this.queueState.name, status: 'Invoiced' }).then((m) => {});\n            this.selectedPrescriptions = [];\n          },\n        );\n      } else {\n        frappe.show_alert(\n          {\n            message: 'Please Select prescription',\n            indicator: 'orange',\n          },\n          5,\n        );\n      }\n    },\n    getStagedItems(){\n       getDrugsAwaitingDispense({ patient: this.patientName, status: 'Staged'})\n    .then((data) => {\n      this.staged = data.map((e) => ({...e, initialQuantity: e.quantity, original_qty: e.quantity}));\n      console.log(data)\n      this.totalUnpaid = data.reduce((a, b) => a + parseFloat(b.total_price),0)\n    })\n    },\n    checkInvoice() {\n      if (this.prescription && this.prescription.length && this.prescription[0].sales_order) {\n        getPrescriptionInvoice({\n          name: this.prescription[0].sales_order,\n        }).then((result) => {\n          this.loading = false;\n          frappe.show_alert(\n            {\n              message: `Prescription Invoice #${result.name} status is ${result.status}`,\n              indicator: 'green',\n            },\n            5,\n          );\n        });\n      } else {\n        frappe.show_alert(\n          {\n            message: `Sales Invoice not found.`,\n            indicator: 'orange',\n          },\n          5,\n        );\n      }\n      this.loading = false;\n    },\n    setPrescriptionInvoice(invoiceName) {\n      setPrescriptionInvoiceNumber({\n        prescription_name: this.prescription.name,\n        invoice_name: invoiceName,\n      }).then((result) => {\n        if (result) {\n          frappe.show_alert(\n            {\n              message: `Invoice #${invoiceName} posted. Awaiting Payment`,\n              indicator: 'green',\n            },\n            5,\n          );\n          this.prescription = result;\n          this.loading = false;\n        } else {\n          frappe.show_alert(\n            {\n              message: `Invoice not Created`,\n              indicator: 'red',\n            },\n            5,\n          );\n        }\n      });\n      this.loading = false;\n    },\n    changePage(pageOfItems) {\n      this.prescriptionItemsPage = pageOfItems;\n    },\n    stockCheck(prescription) {\n      frappe.call({\n        method: 'erpnext.stock.dashboard.item_dashboard.get_data',\n        args: {\n          item_code: prescription.drug_code,\n        },\n        callback: ({ message = [] }) => {\n          const context = get_item_dashboard_data(message, 10, true);\n          if (message.length) {\n            let msgText = `<ol>`;\n            message.forEach((msg) => {\n              msgText += `<li> ${msg.warehouse}  <b> ${msg.projected_qty}/${msg.actual_qty}</b></li>`;\n            });\n            msgText += `</ol>`;\n            frappe.msgprint({\n              title: __((prescription.drug_code || '').toUpperCase()),\n              indicator: 'green',\n              message: msgText,\n            });\n          } else {\n            frappe.msgprint({\n              title: __((prescription.drug_code || '').toUpperCase()),\n              message: 'Stock Data Unavailable.',\n              indicator: 'green',\n            });\n          }\n          //frappe.msgprint(JSON.stringify(message))\n\n          // frappe.msgprint({\n          //     title: __((prescription.drug_code || \"\").toUpperCase()),\n          //     indicator: message.length ? \"green\" : \"red\",\n          //     message: `${\n          //     message.length\n          //         ? frappe.render_template(\"item_dashboard_list\", context)\n          //         : `<div class='text-muted small'>  ${__(\n          //             \"Currently no stock available in any warehouse\"\n          //         )} </span>`\n          //     }`\n          // });\n        },\n      });\n    },\n    get_host: function (port = 3000) {\n      var host = window.location.origin;\n      if (window.dev_server || true) {\n        var parts = host.split(':');\n        port = frappe.boot.socketio_port || port.toString() || '3000';\n        if (parts.length > 2) {\n          host = parts[0] + ':' + parts[1];\n        }\n        host = host + ':' + port;\n      }\n      return host;\n    },\n  },\n  created() {\n    this.$store.registerModule('prescriptionStockModule', prescriptionStockModule);\n  },\n  mounted() {\n    const host = this.get_host(3000);\n    const socket = io.connect();\n    this.socket = socket;\n    let parent = this;\n    socket.on('connect', () => {\n      console.log('User Prescription connected');\n    });\n   this.getStagedItems();\n   getDrugGroups().then((data) => {\n       this.itemGroups = data\n      })\n  },\n  filters: {\n    // Filter definitions\n    Upper(value) {\n      return value.toUpperCase();\n    },\n    title(str) {\n      return str.replace(/\\w([^-\\s]*)/g, function (txt) {\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n      });\n    },\n    numberWithCommas(x) {\n      if (x) {\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n      }\n      return 0;\n    },\n  },\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticStyle: { \"margin-left\": \"-1%\" } },\n    [\n      _c(\n        \"b-modal\",\n        {\n          ref: \"changeServiceUnitModal\",\n          attrs: {\n            id: \"modal-prevent-closing\",\n            title: \"Select Pharmacy Warehouse\"\n          },\n          on: { hidden: _vm.resetServiceUnits, ok: _vm.updateWarehouse }\n        },\n        [\n          _c(\"b-form-select\", {\n            attrs: { options: _vm.warehouses, placeholder: \"Select warehouse\" },\n            model: {\n              value: _vm.warehouse,\n              callback: function($$v) {\n                _vm.warehouse = $$v\n              },\n              expression: \"warehouse\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"mt-3\" }, [\n            _vm._v(\"\\n      Selected: \"),\n            _c(\"strong\", [_vm._v(_vm._s(_vm.warehouse))])\n          ])\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticStyle: { \"padding-top\": \"0.2%\", \"margin-top\": \"8px\" } },\n        [\n          _c(\n            \"b-row\",\n            [\n              _c(\"b-col\", [\n                _c(\n                  \"div\",\n                  {\n                    staticStyle: {\n                      display: \"flex\",\n                      \"justify-content\": \"flex-end\"\n                    }\n                  },\n                  [\n                    _c(\n                      \"b-button-group\",\n                      {\n                        staticStyle: {\n                          \"margin-right\": \"16px\",\n                          \"margin-top\": \"4px\"\n                        }\n                      },\n                      [\n                        _vm.paidPres.length > 0\n                          ? _c(\n                              \"b-button\",\n                              {\n                                staticStyle: { \"margin-right\": \"2px\" },\n                                attrs: { variant: \"primary\" },\n                                on: { click: _vm.dispense }\n                              },\n                              [_vm._v(\"Dispense\")]\n                            )\n                          : _vm._e()\n                      ],\n                      1\n                    )\n                  ],\n                  1\n                )\n              ])\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"b-form-checkbox\",\n            {\n              attrs: { switch: \"\" },\n              model: {\n                value: _vm.showPrevious,\n                callback: function($$v) {\n                  _vm.showPrevious = $$v\n                },\n                expression: \"showPrevious\"\n              }\n            },\n            [\n              _vm._v(\n                \"Click to \" +\n                  _vm._s(\n                    _vm.showPrevious\n                      ? \"Show Today only\"\n                      : \"Show Previous Prescriptions\"\n                  )\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"div\", [\n            _c(\"h4\", [\n              _vm._v(\n                \"\\n        \" +\n                  _vm._s(\n                    _vm.showPrevious\n                      ? \"All Prescriptions\"\n                      : \"Today's Prescriptions\"\n                  ) +\n                  \"\\n      \"\n              )\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"table-responsive\" },\n            [\n              _c(\"b-table\", {\n                staticClass: \"table\",\n                attrs: {\n                  fields: _vm.fields,\n                  stacked: \"md\",\n                  small: \"\",\n                  hover: \"\",\n                  items: _vm.showPrevious\n                    ? _vm.prescription\n                    : _vm.filterdPrescription\n                },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"cell(action)\",\n                    fn: function(row) {\n                      return [\n                        _c(\n                          \"div\",\n                          { staticStyle: { display: \"flex\" } },\n                          [\n                            _c(\n                              \"b-button\",\n                              {\n                                staticClass: \"sm\",\n                                attrs: { variant: \"primary\" },\n                                on: {\n                                  click: function($event) {\n                                    return _vm.openModal(row.item)\n                                  }\n                                }\n                              },\n                              [_vm._v(\" View\")]\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"b-button\",\n                              {\n                                staticStyle: { \"margin-left\": \"8px\" },\n                                attrs: { variant: \"primary\" },\n                                on: {\n                                  click: function($event) {\n                                    return _vm.openEditModal(row.item)\n                                  }\n                                }\n                              },\n                              [_vm._v(\"Edit Prescription\")]\n                            )\n                          ],\n                          1\n                        )\n                      ]\n                    }\n                  }\n                ])\n              }),\n              _vm._v(\" \"),\n              _vm.staged.length\n                ? _c(\"h4\", { staticStyle: { \"margin-top\": \"16px\" } }, [\n                    _vm._v(\"Drugs Staged to Bill\")\n                  ])\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.staged.length\n                ? _c(\"b-table\", {\n                    attrs: { items: _vm.staged, fields: _vm.toDispenseFields },\n                    scopedSlots: _vm._u(\n                      [\n                        {\n                          key: \"cell(quantity)\",\n                          fn: function(i) {\n                            return [\n                              _c(\"b-input\", {\n                                attrs: {\n                                  type: \"number\",\n                                  name: \"quantity\",\n                                  max: i.item.quantity,\n                                  value: i.item.quantity\n                                },\n                                on: {\n                                  blur: function($event) {\n                                    return _vm.calculateUnpaid(_vm.e, i)\n                                  }\n                                },\n                                model: {\n                                  value: i.item.quantity,\n                                  callback: function($$v) {\n                                    _vm.$set(i.item, \"quantity\", $$v)\n                                  },\n                                  expression: \"i.item.quantity\"\n                                }\n                              })\n                            ]\n                          }\n                        },\n                        {\n                          key: \"cell(action)\",\n                          fn: function(row) {\n                            return [\n                              _c(\n                                \"b-button\",\n                                {\n                                  attrs: { variant: \"danger\" },\n                                  on: {\n                                    click: function($event) {\n                                      return _vm.unStage(row)\n                                    }\n                                  }\n                                },\n                                [_vm._v(\"Unstage\")]\n                              )\n                            ]\n                          }\n                        }\n                      ],\n                      null,\n                      false,\n                      4164980478\n                    )\n                  })\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.staged.length\n                ? _c(\n                    \"div\",\n                    {\n                      staticStyle: {\n                        display: \"flex\",\n                        \"justify-content\": \"space-between\",\n                        padding: \"16px\",\n                        background: \"lightgray\",\n                        \"align-items\": \"center\"\n                      }\n                    },\n                    [\n                      _c(\"h4\", [_vm._v(\"Total Amount to Bill\")]),\n                      _vm._v(\" \"),\n                      _c(\"strong\", [\n                        _c(\"h4\", [\n                          _vm._v(\n                            \"KES \" +\n                              _vm._s(\n                                _vm.totalUnpaid.toFixed(_vm.e).toLocaleString()\n                              )\n                          )\n                        ])\n                      ])\n                    ]\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  staticStyle: {\n                    display: \"flex\",\n                    \"justify-content\": \"space-between\",\n                    padding: \"16px\",\n                    \"align-items\": \"center\"\n                  }\n                },\n                [\n                  _c(\"h4\", [_vm._v(\"Insurance Limit\")]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticStyle: { display: \"flex\", \"align-items\": \"center\" }\n                    },\n                    [\n                      _c(\n                        \"h4\",\n                        {\n                          staticStyle: {\n                            \"margin-right\": \"32px\",\n                            \"margin-bottom\": \"0\"\n                          }\n                        },\n                        [_vm._v(\"KES\")]\n                      ),\n                      _c(\"b-input\", {\n                        staticStyle: { width: \"200px\" },\n                        attrs: { type: \"number\" },\n                        model: {\n                          value: _vm.insurance,\n                          callback: function($$v) {\n                            _vm.insurance = $$v\n                          },\n                          expression: \"insurance\"\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  staticStyle: {\n                    display: \"flex\",\n                    \"justify-content\": \"space-between\",\n                    padding: \"16px\",\n                    \"align-items\": \"center\"\n                  }\n                },\n                [\n                  _c(\"h4\", [_vm._v(\"Individual Amount\")]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticStyle: { display: \"flex\", \"align-items\": \"center\" }\n                    },\n                    [\n                      _vm._v(\"\\n          KES \"),\n                      _c(\"span\", [\n                        _vm._v(\n                          _vm._s(\n                            Number(\n                              Math.ceil(_vm.totalUnpaid - _vm.insurance, 0)\n                            )\n                              .toFixed(2)\n                              .toLocaleString()\n                          )\n                        )\n                      ])\n                    ]\n                  )\n                ]\n              ),\n              _vm._v(\" \"),\n              _vm.staged.length\n                ? _c(\n                    \"div\",\n                    {\n                      staticStyle: {\n                        display: \"flex\",\n                        \"justify-content\": \"flex-end\",\n                        padding: \"16px\",\n                        \"align-items\": \"center\"\n                      }\n                    },\n                    [\n                      _c(\n                        \"b-button\",\n                        {\n                          attrs: { variant: \"primary\" },\n                          on: {\n                            click: function($event) {\n                              return _vm.createSalesOrders()\n                            }\n                          }\n                        },\n                        [_vm._v(\"Create Sales Order For Staged Items\")]\n                      )\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\n                \"b-modal\",\n                {\n                  ref: \"viewPrescription\",\n                  attrs: {\n                    size: \"lg\",\n                    \"ok-title\": _vm.activeRow.patient_appointment\n                      ? \"submit\"\n                      : \"Create Medication Order\",\n                    id: \"modal-1\",\n                    title: \"Doctor's Drug Prescription\"\n                  },\n                  on: {\n                    ok: function($event) {\n                      return _vm.stageForOrder()\n                    },\n                    hidden: function($event) {\n                      return _vm.clearSelected()\n                    }\n                  }\n                },\n                [\n                  _c(\"div\", { staticStyle: { \"margin-top\": \"16px\" } }, [\n                    _c(\"strong\", [_vm._v(\"Patient Status:\")]),\n                    _vm._v(\" \"),\n                    _c(\"span\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                      _vm._v(\n                        _vm._s(\n                          _vm.activeRow.inpatient_record\n                            ? \"Inpatient\"\n                            : \"Outpatient\"\n                        )\n                      )\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticStyle: { \"margin-top\": \"16px\" } }, [\n                    _c(\"strong\", [_vm._v(\"Drug:\")]),\n                    _vm._v(\" \"),\n                    _c(\"pre\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                      _vm._v(_vm._s(_vm.activeRow.drug_name))\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticStyle: { \"margin-top\": \"16px\" } }, [\n                    _c(\"strong\", [_vm._v(\"Dose:\")]),\n                    _vm._v(\" \"),\n                    _c(\"pre\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                      _vm._v(_vm._s(_vm.activeRow.dose))\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticStyle: { \"margin-top\": \"16px\" } }, [\n                    _c(\"strong\", [_vm._v(\"Route of Administration:\")]),\n                    _vm._v(\" \"),\n                    _c(\"pre\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                      _vm._v(_vm._s(_vm.activeRow.route_of_administration))\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticStyle: { \"margin-top\": \"16px\" } }, [\n                    _c(\"strong\", [_vm._v(\"Start Date:\")]),\n                    _vm._v(\" \"),\n                    _c(\"pre\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                      _vm._v(_vm._s(_vm.activeRow.start_date))\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticStyle: { \"margin-top\": \"16px\" } }, [\n                    _c(\"strong\", [_vm._v(\"Instructions:\")]),\n                    _vm._v(\" \"),\n                    _c(\"pre\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                      _vm._v(_vm._s(_vm.activeRow.instructions))\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticStyle: { \"margin-top\": \"16px\" } },\n                    [\n                      _c(\"h4\", [_vm._v(\"Matched Stock Items\")]),\n                      _vm._v(\" \"),\n                      _c(\"b-table\", {\n                        attrs: {\n                          bordered: \"\",\n                          items: _vm.items,\n                          fields: [\n                            { label: \"Select\", key: \"select\" },\n                            { label: \"Item Name\", key: \"item_name\" },\n                            { label: \"Quantity\", key: \"quantity\" },\n                            \"in_stock\",\n                            { label: \"Rate\", key: \"rate\" },\n                            { key: \"total\", label: \"Total\" }\n                          ]\n                        },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"cell(rate)\",\n                            fn: function(i) {\n                              return [\n                                _c(\n                                  \"div\",\n                                  { staticStyle: { \"text-align\": \"right\" } },\n                                  [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(i.item.rate.toFixed(2)) +\n                                        \"\\n            \"\n                                    )\n                                  ]\n                                )\n                              ]\n                            }\n                          },\n                          {\n                            key: \"cell(total)\",\n                            fn: function(item) {\n                              return [\n                                _c(\n                                  \"div\",\n                                  { staticStyle: { \"text-align\": \"right\" } },\n                                  [\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        _vm._s(\n                                          \"KES \" +\n                                            Number(\n                                              item.item.quantity *\n                                                parseFloat(item.item.rate)\n                                            )\n                                              .toFixed(2)\n                                              .toLocaleString()\n                                        )\n                                      )\n                                    ])\n                                  ]\n                                )\n                              ]\n                            }\n                          },\n                          {\n                            key: \"cell(item_name)\",\n                            fn: function(it) {\n                              return [\n                                it.item.rate == 0\n                                  ? _c(\n                                      \"span\",\n                                      { staticStyle: { color: \"red\" } },\n                                      [_vm._v(_vm._s(it.item.item_name))]\n                                    )\n                                  : _vm._e(),\n                                _vm._v(\" \"),\n                                it.item.rate != 0\n                                  ? _c(\"span\", [\n                                      _vm._v(_vm._s(it.item.item_name))\n                                    ])\n                                  : _vm._e()\n                              ]\n                            }\n                          },\n                          {\n                            key: \"cell(select)\",\n                            fn: function(row) {\n                              return [\n                                _c(\"input\", {\n                                  directives: [\n                                    {\n                                      name: \"model\",\n                                      rawName: \"v-model\",\n                                      value: _vm.selected,\n                                      expression: \"selected\"\n                                    }\n                                  ],\n                                  attrs: {\n                                    disabled: row.item.rate == 0,\n                                    type: \"radio\",\n                                    variant: \"primary\",\n                                    name: \"some-radio\"\n                                  },\n                                  domProps: {\n                                    value: row,\n                                    checked: _vm._q(_vm.selected, row)\n                                  },\n                                  on: {\n                                    change: [\n                                      function($event) {\n                                        _vm.selected = row\n                                      },\n                                      function($event) {\n                                        _vm.onSelect(\n                                          row.item.item.split(/\\s+/).join(\"-\")\n                                        )\n                                      }\n                                    ]\n                                  }\n                                })\n                              ]\n                            }\n                          },\n                          {\n                            key: \"cell(quantity)\",\n                            fn: function(i) {\n                              return [\n                                _vm.selected.item &&\n                                _vm.selected.item.item === i.item.item\n                                  ? _c(\"b-input\", {\n                                      attrs: {\n                                        disabled: i.item.rate == 0,\n                                        type: \"number\",\n                                        name: \"qty\",\n                                        id: i.item.item.split(/\\s+/).join(\"-\"),\n                                        value: i.item.quantity\n                                      },\n                                      model: {\n                                        value: i.item.quantity,\n                                        callback: function($$v) {\n                                          _vm.$set(i.item, \"quantity\", $$v)\n                                        },\n                                        expression: \"i.item.quantity\"\n                                      }\n                                    })\n                                  : _vm._e(),\n                                _vm._v(\" \"),\n                                !(\n                                  _vm.selected.item &&\n                                  _vm.selected.item.item === i.item.item\n                                )\n                                  ? _c(\"span\", [\n                                      _vm._v(_vm._s(i.item.quantity))\n                                    ])\n                                  : _vm._e()\n                              ]\n                            }\n                          }\n                        ])\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"span\", { staticStyle: { color: \"red\" } }, [\n                        _vm._v(\n                          \"* Items in red cannot be selected. (Not in any warehouse)\"\n                        )\n                      ])\n                    ],\n                    1\n                  )\n                ]\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-32cd97d1_0\", { source: \"\\n.patient-name[data-v-32cd97d1] {\\n  text-transform: capitalize;\\n}\\n.totals[data-v-32cd97d1] {\\n  font-size: 14px;\\n  font-weight: 700;\\n}\\n.total-row[data-v-32cd97d1] {\\n  display: flex;\\n  justify-content: space-between;\\n}\\ninput[type='number'][data-v-32cd97d1] {\\n  padding: 1px;\\n  border: 1;\\n  box-shadow: 0 0 15px 4px rgba(0, 0, 0, 0.06);\\n}\\n.table-responsive[data-v-32cd97d1] {\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/pharmacy/components/core/container/UserPrescription.vue\"],\"names\":[],\"mappings\":\";AAshCA;EACA,0BAAA;AACA;AAEA;EACA,eAAA;EACA,gBAAA;AACA;AAEA;EACA,aAAA;EACA,8BAAA;AACA;AAEA;EACA,YAAA;EACA,SAAA;EACA,4CAAA;AACA;AAEA;EACA,kBAAA;EACA,gBAAA;AACA\",\"file\":\"UserPrescription.vue\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"\\\" style=\\\"margin-left: -1%;\\\">\\n    <b-modal\\n      id=\\\"modal-prevent-closing\\\"\\n      ref=\\\"changeServiceUnitModal\\\"\\n      title=\\\"Select Pharmacy Warehouse\\\"\\n      @hidden=\\\"resetServiceUnits\\\"\\n      @ok=\\\"updateWarehouse\\\"\\n    >\\n      <b-form-select v-model=\\\"warehouse\\\" :options=\\\"warehouses\\\" placeholder=\\\"Select warehouse\\\"></b-form-select>\\n      <div class=\\\"mt-3\\\">\\n        Selected: <strong>{{ warehouse }}</strong>\\n      </div>\\n    </b-modal>\\n    <!-- <div v-if=\\\"loading\\\" style=\\\"padding-top:25%; text-align:center; height:100vh;\\\">\\n                                                                                <b-spinner style=\\\"width: 300px; height: 300px;margin:auto;\\\"></b-spinner>\\n                                                                            </div> -->\\n\\n    <div style=\\\"padding-top: 0.2%; margin-top: 8px\\\">\\n      <b-row>\\n        <b-col>\\n          <div style=\\\"display: flex; justify-content: flex-end\\\">\\n            <b-button-group style=\\\"margin-right: 16px; margin-top: 4px\\\">\\n              <!-- <b-button style=\\\"margin-right: 2px\\\" variant=\\\"primary\\\" @click=\\\"postInvoice\\\">Create Sales Order</b-button> -->\\n              <!-- <b-button\\n                v-if=\\\"prescription && prescription.length\\\"\\n                style=\\\"margin-right: 2px\\\"\\n                variant=\\\"primary\\\"\\n                @click=\\\"printPrescription(prescription[0])\\\"\\n                >Print</b-button\\n              > -->\\n              <!-- <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"checkInvoice\\\">Payment </b-button> -->\\n              <b-button style=\\\"margin-right: 2px\\\" variant=\\\"primary\\\" @click=\\\"dispense\\\" v-if=\\\"paidPres.length > 0\\\"\\n                >Dispense</b-button\\n              >\\n              <!-- <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"transferPrescription\\\">Transfer</b-button> -->\\n            </b-button-group>\\n          </div>\\n        </b-col>\\n      </b-row>\\n      <b-form-checkbox v-model=\\\"showPrevious\\\" switch>Click to {{showPrevious ? 'Show Today only':`Show Previous Prescriptions`}}</b-form-checkbox>\\n      <div>\\n        <h4>\\n          {{showPrevious ? 'All Prescriptions':`Today's Prescriptions`}}\\n        </h4>\\n      </div>\\n      <div class=\\\"table-responsive\\\">\\n\\n        <b-table :fields=\\\"fields\\\" class=\\\"table\\\" stacked=\\\"md\\\" small hover :items=\\\"showPrevious ? prescription : filterdPrescription\\\">\\n          <template #cell(action)=\\\"row\\\">\\n            <div style=\\\"display: flex;\\\">\\n            <b-button @click=\\\"openModal(row.item)\\\" class=\\\"sm\\\" variant=\\\"primary\\\"> View</b-button>\\n            <b-button style=\\\"margin-left: 8px\\\" @click=\\\"openEditModal(row.item)\\\" variant=\\\"primary\\\">Edit Prescription</b-button>\\n            </div>\\n          </template>\\n        </b-table>\\n        <h4  v-if=\\\"staged.length\\\" style=\\\"margin-top: 16px\\\">Drugs Staged to Bill</h4>\\n            <b-table v-if=\\\"staged.length\\\" :items=\\\"staged\\\" :fields=\\\"toDispenseFields\\\">\\n              <template #cell(quantity)=\\\"i\\\">\\n                <b-input type=\\\"number\\\" name=\\\"quantity\\\" v-model=\\\"i.item.quantity\\\" :max=\\\"i.item.quantity\\\" @blur=\\\"calculateUnpaid(e, i)\\\" :value=\\\"i.item.quantity\\\" />\\n              </template>\\n              <template #cell(action)=\\\"row\\\">\\n                <b-button @click=\\\"unStage(row)\\\" variant=\\\"danger\\\">Unstage</b-button>\\n              </template>\\n            </b-table>\\n          <div v-if=\\\"staged.length\\\" style=\\\"display: flex; justify-content: space-between; padding: 16px; background: lightgray; align-items: center\\\">\\n            <h4>Total Amount to Bill</h4>\\n            <strong>\\n            <h4>KES {{totalUnpaid.toFixed(e).toLocaleString()}}</h4>\\n            </strong>\\n        </div>\\n        <div style=\\\"display: flex; justify-content: space-between; padding: 16px; align-items: center\\\">\\n          <h4>Insurance Limit</h4>\\n          <div style=\\\"display: flex; align-items: center;\\\">\\n          <h4 style=\\\"margin-right: 32px; margin-bottom: 0\\\">KES</h4><b-input v-model=\\\"insurance\\\" type=\\\"number\\\" style=\\\"width: 200px\\\" />\\n          </div>\\n        </div>\\n        <div style=\\\"display: flex; justify-content: space-between; padding: 16px; align-items: center\\\">\\n          <h4>Individual Amount</h4>\\n          <div style=\\\"display: flex; align-items: center;\\\">\\n            KES <span>{{Number(Math.ceil(totalUnpaid - insurance, 0)).toFixed(2).toLocaleString() }}</span>\\n          </div>\\n        </div>\\n        <div v-if=\\\"staged.length\\\" style=\\\"display: flex; justify-content: flex-end; padding: 16px; align-items: center\\\">\\n            <b-button @click=\\\"createSalesOrders()\\\" variant=\\\"primary\\\">Create Sales Order For Staged Items</b-button>\\n        </div>\\n        <b-modal\\n          size=\\\"lg\\\"\\n          :ok-title=\\\"activeRow.patient_appointment ? 'submit' : 'Create Medication Order'\\\"\\n          id=\\\"modal-1\\\"\\n          ref=\\\"viewPrescription\\\"\\n          title=\\\"Doctor's Drug Prescription\\\"\\n          @ok=\\\"stageForOrder()\\\"\\n          @hidden=\\\"clearSelected()\\\"\\n        >\\n        \\n        <div style=\\\"margin-top: 16px\\\">\\n            <strong>Patient Status:</strong>\\n            <span style=\\\"margin-bottom: 0\\\">{{ activeRow.inpatient_record ? 'Inpatient': 'Outpatient' }}</span>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Drug:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.drug_name }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Dose:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.dose }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Route of Administration:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.route_of_administration }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Start Date:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.start_date }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Instructions:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.instructions }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <h4>Matched Stock Items</h4>\\n            <b-table\\n              bordered\\n              :items=\\\"items\\\"\\n              :fields=\\\"[\\n                { label: 'Select', key: 'select' },\\n                {label: 'Item Name', key: 'item_name',},\\n                { label: 'Quantity', key: 'quantity' },\\n                'in_stock',\\n                { label: 'Rate', key: 'rate' },\\n                {key: 'total', label: 'Total'},\\n              ]\\\"\\n            >\\n            <template #cell(rate)=\\\"i\\\">\\n              <div style=\\\"text-align: right;\\\">\\n                {{ i.item.rate.toFixed(2) }}\\n              </div>\\n            </template>\\n            <template #cell(total)=\\\"item\\\">\\n              <div style=\\\"text-align: right;\\\">\\n              <span>{{'KES ' + Number(item.item.quantity * parseFloat(item.item.rate)).toFixed(2).toLocaleString()}}</span>\\n              </div>\\n            </template>\\n            <template #cell(item_name)=\\\"it\\\">\\n                <span v-if=\\\"it.item.rate == 0\\\" style=\\\"color: red\\\">{{ it.item.item_name }}</span>\\n                <span v-if=\\\"it.item.rate != 0\\\">{{ it.item.item_name }}</span>\\n              </template>\\n              <template #cell(select)=\\\"row\\\">\\n                <input :disabled=\\\"row.item.rate == 0\\\" v-model=\\\"selected\\\" @change=\\\"onSelect(row.item.item.split(/\\\\s+/).join('-'))\\\" type=\\\"radio\\\" variant=\\\"primary\\\" name=\\\"some-radio\\\" :value=\\\"row\\\" />\\n              </template>\\n              <template #cell(quantity)=\\\"i\\\">\\n                <b-input :disabled=\\\"i.item.rate == 0\\\" v-if=\\\"selected.item && selected.item.item === i.item.item\\\" type=\\\"number\\\" name=\\\"qty\\\" v-model=\\\"i.item.quantity\\\" :id=\\\"i.item.item.split(/\\\\s+/).join('-')\\\" :value=\\\"i.item.quantity\\\" />\\n                 <span v-if=\\\"!(selected.item && selected.item.item === i.item.item)\\\">{{i.item.quantity}}</span>\\n              </template>\\n              <!-- <template #cell(action)=\\\"row\\\">\\n                <b-button @click=\\\"removeMatchedItem(row.item)\\\" variant=\\\"danger\\\">Remove</b-button>\\n              </template> -->\\n            </b-table>\\n            <span style=\\\"color: red\\\">* Items in red cannot be selected. (Not in any warehouse)</span>\\n          </div>\\n        </b-modal>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<script>\\nimport { get_item_dashboard_data } from '../../../utils';\\nimport Paginator from '../../util/Paginator.vue';\\n// import { Vue } from 'vue';\\n// import PatientInfo from './PatientInfo.vue';\\nimport {\\n  // getPrescriptions,\\n  // getPatientPrescriptionsV2,\\n  updatePrescriptionItem,\\n  createPrescriptionInvoice,\\n  getPrescriptionInvoice,\\n  setPrescriptionInvoiceNumber,\\n  getDrugItemAlternates,\\n  updatePrescriptionItemDrug,\\n  getPrecriptionDrugUnitPrice,\\n  getWarehouses,\\n  updatePrescriptionWarehouse,\\n  dispensePrescription,\\n  // prescriptionItemMaterialRequest,\\n  dispenseStockEntry,\\n  prescriptionChangeComment,\\n  stageItemForOrder,\\n  createDrugSalesOrder,\\n  getMatchedItems,\\n  matchStockItemApi,\\n  calculatePrescriptionQuantity,\\n  getDrugsAwaitingDispense,\\n  getDrugGroups,\\n  updateDrugPrescription,\\n  removeMatchedItem as removeMatchedItemApi,unStageApi,\\n} from '../../../../services/pharmacy/prescriptions.js';\\nimport { updateQueueStatus, removeFromQueue } from '../../../../services/pharmacy/queue.js';\\nimport prescriptionStockModule from '../../../../state/pharmacy-stock/index.js';\\nimport moment from 'moment';\\n\\nexport default {\\n  props: {\\n    queueState: {\\n      type: Object,\\n      default: {},\\n      required: true,\\n    },\\n    prescription: {\\n      type: Object,\\n      required: true,\\n    },\\n     patientData: {\\n      type: Object,\\n    },\\n    patientName: {\\n      type: String,\\n      required: true,\\n      default: ''\\n    },\\n    selectedPharmacy: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    }\\n  },\\n  components: {\\n    Paginator,\\n    // PatientInfo\\n  },\\n  data() {\\n    return {\\n      // prescription: {},\\n      toDispenseFields: ['drug_name', {key: 'item_name', label: 'Selected Item' },  {key: 'creation', label: 'Creation', formatter: (value, key, item) => moment(item.creation).fromNow()}, 'rate', { label: 'Quantity', key: 'quantity' }, {key: 'total_price', label: 'Total Price', formatter: (value, key, item) => item.quantity * parseFloat(item.rate)}, {key: 'action', label: ' '}],\\n      staged: [],\\n      itemGroups: [],\\n      totalUnpaid: 0,\\n      selected: {},\\n      filterdPrescription: [],\\n      tt: false,\\n      prescriptionItems: [],\\n      prescriptionItemsPage: [],\\n      loading: true,\\n      alternativeDrugs: [],\\n      alternativeDrug: null,\\n      prescriptionItem: null,\\n      warehouses: [],\\n      warehouse: null,\\n      customerInfo: null,\\n      totalAmount: 0,\\n      selectedPrescriptions: [],\\n      selectedTotals: 0,\\n      paidPres: [],\\n      showPrevious: 0,\\n      fields: [\\n        'drug_name',\\n        { label: 'Dose', key: 'doctor_dose' },\\n        'frequency',\\n        'duration',\\n        {key: 'creation', label: 'Creation', formatter: (value, key, item) => moment(item.creation).fromNow()},\\n        'route_of_administration',\\n         { label: 'Ordered By', key: 'practitioner' },\\n        { label: 'Actions', key: 'action' },\\n      ],\\n      activeRow: {},\\n      items: [],\\n      addItem: false,\\n      insurance: 100000\\n    };\\n  },\\n  watch: {\\n    patientData(){\\n      if(this.patientData.customer_group === 'All Customer Groups') {\\n        this.insurance = 0\\n      } else {\\n        this.insurance = 100000\\n      }\\n    },\\n    prescription() {\\n      (this.selectedPrescriptions = []), (this.selectedTotals = 0);\\n      // this.totalAmount = Math.ceil(this.prescription.reduce((accum, item) => accum + (item.rate * item.qty || 1), 0)).toFixed(2);\\n      this.paidPres = this.prescription.filter(function (e) {\\n        return e.sales_order_status === 'Fully Billed';\\n      });\\n      this.filterdPrescription = this.prescription.filter(this.filter)\\n    },\\n    activeRow(){\\n        const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, warehouse: this.selectedPharmacy.warehouse, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({ quantity: quantity || 1, in_stock: item.stock_balance, rate: 0, ...item}));\\n        })\\n      \\n    },\\n    patientName(){\\n      getDrugsAwaitingDispense({ patient: this.patientName, status: 'Staged'})\\n    .then((data) => {\\n      this.staged = data.map((e) => ({...e, initialQuantity: e.quantity, original_qty: e.quantity }));\\n      this.totalUnpaid = data.reduce((a, b) => a + parseFloat(b.total_price),0)\\n    })\\n    }\\n  },\\n  methods: {\\n    filter (item){ return !moment(item.creation).diff(moment(), 'days')},\\n    onSelect(name){\\n      // const name = ev.item.split(/\\\\s+/).join('-')\\n      const el = document.getElementById(name);\\n      console.log(name, el)\\n      if(el){\\n        el.focus()\\n      }\\n    },\\n    unStage(row){\\n      unStageApi(row.item)\\n      .then(() => {\\n        this.$emit('onUpdateList')\\n        getDrugsAwaitingDispense({ patient: this.patientName, status: 'Staged'})\\n    .then((data) => {\\n      this.staged = data.map((e) => ({...e, initialQuantity: e.quantity, original_qty: e.quantity }));\\n      this.totalUnpaid = data.reduce((a, b) => a + parseFloat(b.total_price),0)\\n    })\\n      })\\n    },\\n    clearSelected(){\\n      this.selected = {}\\n    },\\n    openEditModal(item){\\n      const parent = this;\\n      const previousName = item.drug_name;\\n      let d = new frappe.ui.Dialog({\\n        title: `Edit Drug Prescription`,\\n        fields: [{\\n                    label: 'Drug',\\n                    fieldname: 'drug',\\n                    fieldtype: 'Link',\\n                    options: 'Item',\\n                    reqd: true,\\n                    filters: { item_group: ['in', parent.itemGroups ], has_variants: 1},\\n                    default : item.drug,\\n                    onchange: () => {\\n                       frappe.db.get_value('Item', d.fields_dict.drug.value, 'item_name').then(({ message }) => {\\n                         d.set_value('drug_name', message.item_name);\\n                         d.set_value('instructions', `Take ${message.item_name} ${item.doctor_dose || item.dose || ''} for ${item.duration} ${item.period || ''}`)\\n                         d.refresh();\\n                });\\n                    }\\n                },{\\n                    label: 'Drug Name',\\n                    fieldname: 'drug_name',\\n                    fetch_from: 'drug.item_name',\\n                    fieldtype: 'Data',\\n                    reqd: true,\\n                     default : item.drug_name,\\n                    read_only: 1\\n                },{\\n                    label: 'Instructions',\\n                    fieldname: 'instructions',\\n                    fieldtype: 'Small Text',\\n                    default: item.instructions\\n                }],\\n        primary_action: (values) => {\\n          updateDrugPrescription({...values, name: item.name })\\n          .then((res) => {\\n            item.drug_name = res.drug_name\\n            item.instructions = res.instructions\\n            item.drug = res.drug\\n            this.$emit('onUpdateList')\\n          })\\n          d.hide();\\n        }    \\n      });\\n      d.show()\\n    },\\n    removeMatchedItem(item){\\n      removeMatchedItemApi(item)\\n      .then(() => {\\n        const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({ quantity: 1, in_stock: item.stock_balance, rate: 0, ...item}));\\n        })\\n      })\\n    },\\n    calculateUnpaid(e, i) {\\n      const data = this.staged;\\n      const maximum = Math.min(parseInt(i.item.initialQuantity), i.item.quantity);\\n      i.item.quantity = maximum;\\n      this.totalUnpaid = data.reduce((a, b) => a + (parseFloat(b.rate) * parseFloat(b.quantity)),0)\\n    },\\n    openModal(row) {\\n      this.activeRow = row;\\n      console.log(row);\\n      this.$refs.viewPrescription.show();\\n    },\\n    addAMatch(item){\\n      let d = new frappe.ui.Dialog({\\n        title: `Add Matching Stock Item`,\\n        fields: [{\\n            label: 'Item',\\n            fieldname: 'item',\\n            fieldtype: 'Link',\\n            options: 'Item',\\n            filters: { has_variants: 0, item_group: ['in', this.itemGroups]}\\n          },\\n          {\\n            label: 'Strength',\\n            fieldname: 'strength',\\n            fieldtype: 'Data',\\n          },{\\n            label: 'Route of Administration',\\n            fieldname: 'dosage_form',\\n            fieldtype: 'Link',\\n            options: 'Dosage Form'\\n          },],\\n        primary_action: (values) => {\\n          matchStockItemApi({dosage_form: item.dosage_form, ...values, drug: item.drug}).then(() => {\\n            frappe.show_alert(`${item.drug} matched successfully with ${values.item}`, 5);\\n            this.getStagedItems();\\n            const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({ quantity: 1, in_stock: item.stock_balance, rate: 0, ...item}));\\n        })\\n            d.hide();\\n          })\\n        }\\n      });\\n      d.show()\\n    },\\n    stageForOrder(){\\n      if(!this.selected.item) {\\n          return frappe.throw('Please select an item or add a matched Item before creating a medication order')\\n        }\\n\\n        console.log(this.selected)\\n      const args = {\\n        patient: this.activeRow.patient_number,\\n        encounter: this.activeRow.patient_encounter, \\n        inpatient_record: this.activeRow.inpatient_record, \\n        item: this.selected.item.item, \\n        quantity: this.selected.item.quantity,\\n        service_unit: this.activeRow.service_unit,\\n        appointment_name: this.activeRow.patient_appointment,\\n        doctors_prescription: this.activeRow.name,\\n        route_of_administration: this.activeRow.route_of_administration || '',\\n        rate: this.selected.item.rate,\\n        \\n      }\\n\\n      stageItemForOrder(args).then(() => {\\n        this.$emit('onUpdateList');\\n        this.getStagedItems();\\n        })\\n    \\n    },\\n    createSalesOrders(){\\n      const args = {\\n        items: this.staged,\\n        limit: this.insurance,\\n        total: this.totalUnpaid,\\n        warehouse: this.selectedPharmacy.warehouse,\\n      }\\n      console.log()\\n      createDrugSalesOrder(args).then(() => {\\n        updateQueueStatus({ state_name: this.queueState.name, status: 'Invoiced' }).then((m) => {})\\n        this.getStagedItems();\\n        this.$emit('onUpdateList')\\n      })\\n    },\\n    getAmountAndPayerSum(payer, rate, qty, remaining_quantity = 0, co_paid_quantity = 0, type) {\\n      switch (payer) {\\n        case 'Patient':\\n          return type === 'Amount' ? Math.ceil(rate * qty).toFixed(2) || 1 | numberWithCommas : 'Patient incurs';\\n        case 'Copay':\\n          return type === 'Amount'\\n            ? Math.ceil(rate * (remaining_quantity * qty)).toFixed(2) || 1 | numberWithCommas\\n            : 'Copaid amount: ' +\\n                '(' +\\n                (Math.ceil(rate * (co_paid_quantity * qty)).toFixed(2) || 1 | numberWithCommas) +\\n                ')';\\n        case 'Insurance':\\n          return type === 'Amount'\\n            ? 0\\n            : 'Insurance covers: ' + '(' + (Math.ceil(rate * qty).toFixed(2) || 1 | numberWithCommas) + ')';\\n        case 'Pre-auth Insurance':\\n          return type === 'Amount'\\n            ? 0\\n            : 'Insurance Pre-auth: ' + '(' + (Math.ceil(rate * qty).toFixed(2) || 1 | numberWithCommas) + ')';\\n        case 'Pre-auth Copay':\\n          return type === 'Amount'\\n            ? Math.ceil(rate * (remaining_quantity * qty)).toFixed(2) || 1 | numberWithCommas\\n            : 'Pre-auth Copay:: ' +\\n                '(' +\\n                (Math.ceil(rate * (co_paid_quantity * qty)).toFixed(2) || 1 | numberWithCommas) +\\n                ')';\\n      }\\n    },\\n    selectAll() {\\n      this.prescription.forEach((item) => {\\n        if (!item.sales_order) {\\n          this.selectRow(item);\\n        }\\n      });\\n    },\\n    printPrescription(prescriptionItem) {\\n      var w = window.open(\\n        frappe.urllib.get_full_url(\\n          '/printview?' +\\n            'doctype=' +\\n            encodeURIComponent('Patient Encounter') +\\n            '&name=' +\\n            encodeURIComponent(prescriptionItem.encounter) +\\n            '&format=Encounter Prescription Print Format&_lang=en&trigger_print=1',\\n        ),\\n      );\\n      if (!w) {\\n        msgprint(__('Please enable pop-ups'));\\n        return;\\n      }\\n    },\\n    dispense() {\\n      let paidPrescription = this.prescription.filter(function (e) {\\n        return e.sales_order_status === 'Fully Billed';\\n      });\\n      if (paidPrescription.length) {\\n        dispenseStockEntry({\\n          warehouse: paidPrescription[0].warehouse,\\n          encounter_name: paidPrescription[0].encounter,\\n          // prescription_names: this.prescription.map(drug=>drug.prescription_id) ,\\n          sales_order: paidPrescription[0].sales_order,\\n          patient_name: paidPrescription[0].patient_number,\\n        }).then((result) => {\\n          frappe.show_alert(\\n            {\\n              message: `Stocks Updated`,\\n              indicator: 'green',\\n            },\\n            15,\\n          );\\n          dispensePrescription({\\n            prescription_names: paidPrescription.map((drug) => drug.prescription_id),\\n            patient_name: paidPrescription[0].patient_number,\\n            warehouse_name: paidPrescription[0].warehouse,\\n          }).then((data) => {\\n            frappe.show_alert(\\n              {\\n                message: `Prescription Dispensed`,\\n                indicator: 'green',\\n              },\\n              15,\\n            );\\n          });\\n          removeFromQueue({ queue_state_name: parent.queueState.name }).then((r) => {\\n            console.log('REMOVED FROM QUEUE');\\n          });\\n          prescriptionChangeComment({\\n            reference_doctype: 'Patient Encounter',\\n            reference_name: paidPrescription[0].encounter,\\n            content: `Prescriptions : ${paidPrescription.map((x) => x.drug_code).toString()} Dispensed`,\\n            comment_email: frappe.session.user,\\n            comment_by: frappe.session.user_fullname,\\n          }).then((result) => {});\\n        });\\n      } else {\\n        frappe.show_alert(\\n          {\\n            message: `No invoiced Prescription`,\\n            indicator: 'red',\\n          },\\n          5,\\n        );\\n      }\\n    },\\n    selectRow(item) {\\n      console.log('Start ', this.selectedPrescriptions.length);\\n      if (typeof item === 'object') {\\n        let replaced = false;\\n        this.selectedPrescriptions.map((pres, x) => {\\n          if (pres.prescription_id === item.prescription_id) {\\n            this.selectedPrescriptions.splice(this.selectedPrescriptions.indexOf(item), 1);\\n            replaced = true;\\n          }\\n        });\\n        if (!replaced) {\\n          this.selectedPrescriptions.push(item);\\n        }\\n        this.selectedTotals = Math.ceil(\\n          this.selectedPrescriptions.reduce((accum, item) => accum + item.rate * item.qty, 0),\\n        ).toFixed(2);\\n      } else {\\n        //\\n      }\\n    },\\n    printPrescriptionLabel(prescriptionItem) {\\n      // console.log(JSON.stringify(prescriptionItem))\\n      // https://docs.erpnext.com/docs/user/manual/en/setting-up/print/raw-printing\\n      var w = window.open(\\n        frappe.urllib.get_full_url(\\n          '/printview?' +\\n            'doctype=' +\\n            encodeURIComponent('Drug Prescription') +\\n            '&name=' +\\n            encodeURIComponent(prescriptionItem.prescription_id) +\\n            '&format=Drug Prescription Label&_lang=en&no_letterhead=1&letterhead=No Letterhead&trigger_print=1',\\n        ),\\n      );\\n      if (!w) {\\n        msgprint(__('Please enable pop-ups'));\\n        return;\\n      }\\n    },\\n    createMaterialRequest(prescriptionItem) {\\n      let parent = this;\\n      let d = new frappe.ui.Dialog({\\n        title: `Material Request for ${prescriptionItem.drug_name}`,\\n        fields: [\\n          {\\n            label: 'Warehouse',\\n            fieldname: 'warehouse',\\n            fieldtype: 'Select',\\n            options: this.warehouses,\\n          },\\n          {\\n            label: 'Quantity',\\n            fieldname: 'quantity',\\n            fieldtype: 'Int',\\n          },\\n        ],\\n        primary_action_label: 'Submit',\\n        primary_action(values) {\\n          d.hide();\\n          parent.$store.dispatch('prescriptionStockModule/createMaterialRequest', {\\n            drug: prescriptionItem.drug_name,\\n            quantity: values.quantity,\\n            warehouse: prescriptionItem.warehouse,\\n            from_warehouse: values.warehouse,\\n          });\\n        },\\n        secondary_action_label: 'Cancel',\\n        secondary_action() {\\n          d.hide();\\n        },\\n      });\\n      d.show();\\n      this.loading = false;\\n    },\\n    resetMaterialRequestModal() {\\n      this.prescriptionItem = null;\\n    },\\n    materialRequest(prescriptionItem) {\\n      this.prescriptionItem = prescriptionItem;\\n      getWarehouses({}).then((result) => {\\n        if (result && result.length) {\\n          this.warehouses = result.map((unit) => unit.name);\\n          this.createMaterialRequest(prescriptionItem);\\n        } else {\\n          frappe.show_alert(\\n            {\\n              message: `No Warehouses Available`,\\n              indicator: 'orange',\\n            },\\n            5,\\n          );\\n        }\\n      });\\n    },\\n    updateWarehouse() {\\n      if (this.prescription && this.prescription.name) {\\n        updatePrescriptionWarehouse({\\n          prescription_name: this.prescription.name,\\n          warehouse_name: this.warehouse,\\n        }).then((result) => {\\n          if (result) {\\n            frappe.show_alert(\\n              {\\n                message: `Prescription  Moved to ${result.warehouse}.`,\\n                indicator: 'green',\\n              },\\n              5,\\n            );\\n            this.prescription = result;\\n            this.loading = false;\\n          } else {\\n            frappe.show_alert(\\n              {\\n                message: `Transfer Failed. Please try again`,\\n                indicator: 'red',\\n              },\\n              5,\\n            );\\n          }\\n        });\\n      } else {\\n        frappe.show_alert(\\n          {\\n            message: `No Prescription Selected`,\\n            indicator: 'orange',\\n          },\\n          5,\\n        );\\n      }\\n      this.loading = false;\\n    },\\n    resetServiceUnits() {\\n      this.warehouse = null;\\n    },\\n    transferPrescription() {\\n      // frappe.set_route(\\\"prescription\\\", this.prescription.name);\\n      if (this.prescription && this.prescription.name) {\\n        getWarehouses({}).then((result) => {\\n          if (result && result.length) {\\n            this.warehouses = result.map((unit) => unit.name);\\n            this.$refs.changeServiceUnitModal.show();\\n          } else {\\n            frappe.show_alert(\\n              {\\n                message: `No Healthcare Service Units`,\\n                indicator: 'orange',\\n              },\\n              5,\\n            );\\n          }\\n        });\\n      } else {\\n        frappe.show_alert(\\n          {\\n            message: `No Prescription Selected`,\\n            indicator: 'orange',\\n          },\\n          5,\\n        );\\n      }\\n    },\\n    fetchAlternates(prescriptionItem) {\\n      this.prescriptionItem = prescriptionItem;\\n      getDrugItemAlternates({\\n        drug_name: prescriptionItem.drug_code,\\n      }).then((result) => {\\n        if (result && result.length) {\\n          this.alternativeDrugs = result.map((drugs) => drugs.alternative_item_code);\\n          this.changeDrug(prescriptionItem, this.alternativeDrugs);\\n        } else {\\n          frappe.show_alert(\\n            {\\n              message: `${prescriptionItem.drug_code} has no alternative setup in the system`,\\n              indicator: 'orange',\\n            },\\n            5,\\n          );\\n        }\\n      });\\n    },\\n    resetAlternateDrugModal() {\\n      this.alternativeDrugs = [];\\n      this.alternativeDrug = null;\\n      this.prescriptionItems = null;\\n    },\\n    changeDrug(prescriptionItem, alternativeDrugs) {\\n      let parent = this;\\n      // https://frappeframework.com/docs/user/en/guides/app-development/dialogs-types\\n      let d = new frappe.ui.Dialog({\\n        title: `Select Alternate Drug for ${prescriptionItem.drug_name}`,\\n        fields: [\\n          {\\n            label: 'Drug',\\n            fieldname: 'alternativeDrug',\\n            fieldtype: 'Select',\\n            options: alternativeDrugs,\\n          },\\n        ],\\n        primary_action_label: 'Submit',\\n        primary_action(values) {\\n          updatePrescriptionItemDrug({\\n            patient_name: prescriptionItem.patient_number,\\n            prescription_item_name: prescriptionItem.prescription_id,\\n            drug_name: values.alternativeDrug,\\n          }).then((result) => {\\n            parent.loading = false;\\n            parent.updateTableRow(result);\\n          });\\n          d.hide();\\n          prescriptionChangeComment({\\n            reference_doctype: 'Patient Encounter',\\n            reference_name: prescriptionItem.encounter,\\n            content: `Prescription Drug Change from ${prescriptionItem.drug_code} to ${values.alternativeDrug}`,\\n            comment_email: frappe.session.user,\\n            comment_by: frappe.session.user_fullname,\\n          }).then((result) => {});\\n        },\\n        secondary_action_label: 'Cancel',\\n        secondary_action() {\\n          d.hide();\\n          parent.resetAlternateDrugModal();\\n        },\\n      });\\n      d.show();\\n      this.loading = false;\\n    },\\n    updateTableRow(result) {\\n      this.prescription.map((item, x) => {\\n        if (item.prescription_id === result.name) {\\n          Vue.set(this.prescription, x, result);\\n        }\\n      });\\n      this.itemUnitsChanged();\\n      this.resetAlternateDrugModal();\\n    },\\n    numberOfUnitsChange(prescriptionItem) {\\n      this.loading = true;\\n      updatePrescriptionItem({\\n        name: prescriptionItem.prescription_id,\\n        qty: prescriptionItem.qty,\\n      })\\n        .then((result) => {\\n          this.loading = false;\\n          this.prescription.prescription_item.map((item, x) => {\\n            if (item.name === result.name) {\\n              Vue.set(this.prescription.prescription_item, x, result);\\n            }\\n          });\\n          frappe.show_alert(\\n            {\\n              message: `Drug  #${prescriptionItem.drug_code} unit changed.`,\\n              indicator: 'green',\\n            },\\n            5,\\n          );\\n          this.itemUnitsChanged();\\n        })\\n        .catch((err) => {\\n          this.loading = false;\\n        });\\n      this.loading = false;\\n    },\\n    itemUnitsChanged(type) {\\n      let totalAmount = 0;\\n      if (this.prescription && this.prescription.length) {\\n        let itemList = [];\\n        if (type === 'Gross') {\\n          itemList = this.prescription;\\n        } else {\\n          itemList = this.selectedPrescriptions;\\n        }\\n        itemList.forEach((item, index) => {\\n          switch (item.payer) {\\n            case 'Patient':\\n              totalAmount = totalAmount + item.rate * item.qty;\\n              break;\\n            case 'Copay':\\n              totalAmount = totalAmount + Math.ceil(item.rate * (item.qty * item.remaining_quantity));\\n              break;\\n            case 'Insurance':\\n              totalAmount = totalAmount + 0;\\n              break;\\n            case 'Pre-auth Insurance':\\n              totalAmount = totalAmount + 0;\\n              break;\\n            case 'Pre-auth Copay':\\n              totalAmount = totalAmount + Math.ceil(item.rate * (item.qty * item.remaining_quantity));\\n              break;\\n          }\\n        });\\n        this.totalAmount = totalAmount;\\n      }\\n\\n      return totalAmount;\\n    },\\n    postInvoice() {\\n      if (this.selectedPrescriptions && this.selectedPrescriptions.length) {\\n        // console.log(JSON.stringify(this.selectedPrescriptions))\\n        createPrescriptionSalesOrder({ prescription_docs: this.selectedPrescriptions, warehouse_name: '' }).then(\\n          (r) => {\\n            frappe.show_alert(\\n              {\\n                message: `Prescription Sales order created`,\\n                indicator: 'green',\\n              },\\n              5,\\n            );\\n            updateQueueStatus({ state_name: this.queueState.name, status: 'Invoiced' }).then((m) => {});\\n            this.selectedPrescriptions = [];\\n          },\\n        );\\n      } else {\\n        frappe.show_alert(\\n          {\\n            message: 'Please Select prescription',\\n            indicator: 'orange',\\n          },\\n          5,\\n        );\\n      }\\n    },\\n    getStagedItems(){\\n       getDrugsAwaitingDispense({ patient: this.patientName, status: 'Staged'})\\n    .then((data) => {\\n      this.staged = data.map((e) => ({...e, initialQuantity: e.quantity, original_qty: e.quantity}));\\n      console.log(data)\\n      this.totalUnpaid = data.reduce((a, b) => a + parseFloat(b.total_price),0)\\n    })\\n    },\\n    checkInvoice() {\\n      if (this.prescription && this.prescription.length && this.prescription[0].sales_order) {\\n        getPrescriptionInvoice({\\n          name: this.prescription[0].sales_order,\\n        }).then((result) => {\\n          this.loading = false;\\n          frappe.show_alert(\\n            {\\n              message: `Prescription Invoice #${result.name} status is ${result.status}`,\\n              indicator: 'green',\\n            },\\n            5,\\n          );\\n        });\\n      } else {\\n        frappe.show_alert(\\n          {\\n            message: `Sales Invoice not found.`,\\n            indicator: 'orange',\\n          },\\n          5,\\n        );\\n      }\\n      this.loading = false;\\n    },\\n    setPrescriptionInvoice(invoiceName) {\\n      setPrescriptionInvoiceNumber({\\n        prescription_name: this.prescription.name,\\n        invoice_name: invoiceName,\\n      }).then((result) => {\\n        if (result) {\\n          frappe.show_alert(\\n            {\\n              message: `Invoice #${invoiceName} posted. Awaiting Payment`,\\n              indicator: 'green',\\n            },\\n            5,\\n          );\\n          this.prescription = result;\\n          this.loading = false;\\n        } else {\\n          frappe.show_alert(\\n            {\\n              message: `Invoice not Created`,\\n              indicator: 'red',\\n            },\\n            5,\\n          );\\n        }\\n      });\\n      this.loading = false;\\n    },\\n    changePage(pageOfItems) {\\n      this.prescriptionItemsPage = pageOfItems;\\n    },\\n    stockCheck(prescription) {\\n      frappe.call({\\n        method: 'erpnext.stock.dashboard.item_dashboard.get_data',\\n        args: {\\n          item_code: prescription.drug_code,\\n        },\\n        callback: ({ message = [] }) => {\\n          const context = get_item_dashboard_data(message, 10, true);\\n          if (message.length) {\\n            let msgText = `<ol>`;\\n            message.forEach((msg) => {\\n              msgText += `<li> ${msg.warehouse}  <b> ${msg.projected_qty}/${msg.actual_qty}</b></li>`;\\n            });\\n            msgText += `</ol>`;\\n            frappe.msgprint({\\n              title: __((prescription.drug_code || '').toUpperCase()),\\n              indicator: 'green',\\n              message: msgText,\\n            });\\n          } else {\\n            frappe.msgprint({\\n              title: __((prescription.drug_code || '').toUpperCase()),\\n              message: 'Stock Data Unavailable.',\\n              indicator: 'green',\\n            });\\n          }\\n          //frappe.msgprint(JSON.stringify(message))\\n\\n          // frappe.msgprint({\\n          //     title: __((prescription.drug_code || \\\"\\\").toUpperCase()),\\n          //     indicator: message.length ? \\\"green\\\" : \\\"red\\\",\\n          //     message: `${\\n          //     message.length\\n          //         ? frappe.render_template(\\\"item_dashboard_list\\\", context)\\n          //         : `<div class='text-muted small'>  ${__(\\n          //             \\\"Currently no stock available in any warehouse\\\"\\n          //         )} </span>`\\n          //     }`\\n          // });\\n        },\\n      });\\n    },\\n    get_host: function (port = 3000) {\\n      var host = window.location.origin;\\n      if (window.dev_server || true) {\\n        var parts = host.split(':');\\n        port = frappe.boot.socketio_port || port.toString() || '3000';\\n        if (parts.length > 2) {\\n          host = parts[0] + ':' + parts[1];\\n        }\\n        host = host + ':' + port;\\n      }\\n      return host;\\n    },\\n  },\\n  created() {\\n    this.$store.registerModule('prescriptionStockModule', prescriptionStockModule);\\n  },\\n  mounted() {\\n    const host = this.get_host(3000);\\n    const socket = io.connect();\\n    this.socket = socket;\\n    let parent = this;\\n    socket.on('connect', () => {\\n      console.log('User Prescription connected');\\n    });\\n   this.getStagedItems();\\n   getDrugGroups().then((data) => {\\n       this.itemGroups = data\\n      })\\n  },\\n  filters: {\\n    // Filter definitions\\n    Upper(value) {\\n      return value.toUpperCase();\\n    },\\n    title(str) {\\n      return str.replace(/\\\\w([^-\\\\s]*)/g, function (txt) {\\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\\n      });\\n    },\\n    numberWithCommas(x) {\\n      if (x) {\\n        return x.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, ',');\\n      }\\n      return 0;\\n    },\\n  },\\n};\\n</script>\\n\\n<style scoped>\\n.patient-name {\\n  text-transform: capitalize;\\n}\\n\\n.totals {\\n  font-size: 14px;\\n  font-weight: 700;\\n}\\n\\n.total-row {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\ninput[type='number'] {\\n  padding: 1px;\\n  border: 1;\\n  box-shadow: 0 0 15px 4px rgba(0, 0, 0, 0.06);\\n}\\n\\n.table-responsive {\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-32cd97d1\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n  <div class=\\\"\\\" style=\\\"margin-left: -1%;\\\">\\n    <b-modal\\n      id=\\\"modal-prevent-closing\\\"\\n      ref=\\\"changeServiceUnitModal\\\"\\n      title=\\\"Select Pharmacy Warehouse\\\"\\n      @hidden=\\\"resetServiceUnits\\\"\\n      @ok=\\\"updateWarehouse\\\"\\n    >\\n      <b-form-select v-model=\\\"warehouse\\\" :options=\\\"warehouses\\\" placeholder=\\\"Select warehouse\\\"></b-form-select>\\n      <div class=\\\"mt-3\\\">\\n        Selected: <strong>{{ warehouse }}</strong>\\n      </div>\\n    </b-modal>\\n    <!-- <div v-if=\\\"loading\\\" style=\\\"padding-top:25%; text-align:center; height:100vh;\\\">\\n                                                                                <b-spinner style=\\\"width: 300px; height: 300px;margin:auto;\\\"></b-spinner>\\n                                                                            </div> -->\\n\\n    <div style=\\\"padding-top: 0.2%; margin-top: 8px\\\">\\n      <b-row>\\n        <b-col>\\n          <div style=\\\"display: flex; justify-content: flex-end\\\">\\n            <b-button-group style=\\\"margin-right: 16px; margin-top: 4px\\\">\\n              <!-- <b-button style=\\\"margin-right: 2px\\\" variant=\\\"primary\\\" @click=\\\"postInvoice\\\">Create Sales Order</b-button> -->\\n              <!-- <b-button\\n                v-if=\\\"prescription && prescription.length\\\"\\n                style=\\\"margin-right: 2px\\\"\\n                variant=\\\"primary\\\"\\n                @click=\\\"printPrescription(prescription[0])\\\"\\n                >Print</b-button\\n              > -->\\n              <!-- <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"checkInvoice\\\">Payment </b-button> -->\\n              <b-button style=\\\"margin-right: 2px\\\" variant=\\\"primary\\\" @click=\\\"dispense\\\" v-if=\\\"paidPres.length > 0\\\"\\n                >Dispense</b-button\\n              >\\n              <!-- <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"transferPrescription\\\">Transfer</b-button> -->\\n            </b-button-group>\\n          </div>\\n        </b-col>\\n      </b-row>\\n      <b-form-checkbox v-model=\\\"showPrevious\\\" switch>Click to {{showPrevious ? 'Show Today only':`Show Previous Prescriptions`}}</b-form-checkbox>\\n      <div>\\n        <h4>\\n          {{showPrevious ? 'All Prescriptions':`Today's Prescriptions`}}\\n        </h4>\\n      </div>\\n      <div class=\\\"table-responsive\\\">\\n\\n        <b-table :fields=\\\"fields\\\" class=\\\"table\\\" stacked=\\\"md\\\" small hover :items=\\\"showPrevious ? prescription : filterdPrescription\\\">\\n          <template #cell(action)=\\\"row\\\">\\n            <div style=\\\"display: flex;\\\">\\n            <b-button @click=\\\"openModal(row.item)\\\" class=\\\"sm\\\" variant=\\\"primary\\\"> View</b-button>\\n            <b-button style=\\\"margin-left: 8px\\\" @click=\\\"openEditModal(row.item)\\\" variant=\\\"primary\\\">Edit Prescription</b-button>\\n            </div>\\n          </template>\\n        </b-table>\\n        <h4  v-if=\\\"staged.length\\\" style=\\\"margin-top: 16px\\\">Drugs Staged to Bill</h4>\\n            <b-table v-if=\\\"staged.length\\\" :items=\\\"staged\\\" :fields=\\\"toDispenseFields\\\">\\n              <template #cell(quantity)=\\\"i\\\">\\n                <b-input type=\\\"number\\\" name=\\\"quantity\\\" v-model=\\\"i.item.quantity\\\" :max=\\\"i.item.quantity\\\" @blur=\\\"calculateUnpaid(e, i)\\\" :value=\\\"i.item.quantity\\\" />\\n              </template>\\n              <template #cell(action)=\\\"row\\\">\\n                <b-button @click=\\\"unStage(row)\\\" variant=\\\"danger\\\">Unstage</b-button>\\n              </template>\\n            </b-table>\\n          <div v-if=\\\"staged.length\\\" style=\\\"display: flex; justify-content: space-between; padding: 16px; background: lightgray; align-items: center\\\">\\n            <h4>Total Amount to Bill</h4>\\n            <strong>\\n            <h4>KES {{totalUnpaid.toFixed(e).toLocaleString()}}</h4>\\n            </strong>\\n        </div>\\n        <div style=\\\"display: flex; justify-content: space-between; padding: 16px; align-items: center\\\">\\n          <h4>Insurance Limit</h4>\\n          <div style=\\\"display: flex; align-items: center;\\\">\\n          <h4 style=\\\"margin-right: 32px; margin-bottom: 0\\\">KES</h4><b-input v-model=\\\"insurance\\\" type=\\\"number\\\" style=\\\"width: 200px\\\" />\\n          </div>\\n        </div>\\n        <div style=\\\"display: flex; justify-content: space-between; padding: 16px; align-items: center\\\">\\n          <h4>Individual Amount</h4>\\n          <div style=\\\"display: flex; align-items: center;\\\">\\n            KES <span>{{Number(Math.ceil(totalUnpaid - insurance, 0)).toFixed(2).toLocaleString() }}</span>\\n          </div>\\n        </div>\\n        <div v-if=\\\"staged.length\\\" style=\\\"display: flex; justify-content: flex-end; padding: 16px; align-items: center\\\">\\n            <b-button @click=\\\"createSalesOrders()\\\" variant=\\\"primary\\\">Create Sales Order For Staged Items</b-button>\\n        </div>\\n        <b-modal\\n          size=\\\"lg\\\"\\n          :ok-title=\\\"activeRow.patient_appointment ? 'submit' : 'Create Medication Order'\\\"\\n          id=\\\"modal-1\\\"\\n          ref=\\\"viewPrescription\\\"\\n          title=\\\"Doctor's Drug Prescription\\\"\\n          @ok=\\\"stageForOrder()\\\"\\n          @hidden=\\\"clearSelected()\\\"\\n        >\\n        \\n        <div style=\\\"margin-top: 16px\\\">\\n            <strong>Patient Status:</strong>\\n            <span style=\\\"margin-bottom: 0\\\">{{ activeRow.inpatient_record ? 'Inpatient': 'Outpatient' }}</span>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Drug:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.drug_name }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Dose:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.dose }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Route of Administration:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.route_of_administration }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Start Date:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.start_date }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Instructions:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.instructions }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <h4>Matched Stock Items</h4>\\n            <b-table\\n              bordered\\n              :items=\\\"items\\\"\\n              :fields=\\\"[\\n                { label: 'Select', key: 'select' },\\n                {label: 'Item Name', key: 'item_name',},\\n                { label: 'Quantity', key: 'quantity' },\\n                'in_stock',\\n                { label: 'Rate', key: 'rate' },\\n                {key: 'total', label: 'Total'},\\n              ]\\\"\\n            >\\n            <template #cell(rate)=\\\"i\\\">\\n              <div style=\\\"text-align: right;\\\">\\n                {{ i.item.rate.toFixed(2) }}\\n              </div>\\n            </template>\\n            <template #cell(total)=\\\"item\\\">\\n              <div style=\\\"text-align: right;\\\">\\n              <span>{{'KES ' + Number(item.item.quantity * parseFloat(item.item.rate)).toFixed(2).toLocaleString()}}</span>\\n              </div>\\n            </template>\\n            <template #cell(item_name)=\\\"it\\\">\\n                <span v-if=\\\"it.item.rate == 0\\\" style=\\\"color: red\\\">{{ it.item.item_name }}</span>\\n                <span v-if=\\\"it.item.rate != 0\\\">{{ it.item.item_name }}</span>\\n              </template>\\n              <template #cell(select)=\\\"row\\\">\\n                <input :disabled=\\\"row.item.rate == 0\\\" v-model=\\\"selected\\\" @change=\\\"onSelect(row.item.item.split(/\\\\s+/).join('-'))\\\" type=\\\"radio\\\" variant=\\\"primary\\\" name=\\\"some-radio\\\" :value=\\\"row\\\" />\\n              </template>\\n              <template #cell(quantity)=\\\"i\\\">\\n                <b-input :disabled=\\\"i.item.rate == 0\\\" v-if=\\\"selected.item && selected.item.item === i.item.item\\\" type=\\\"number\\\" name=\\\"qty\\\" v-model=\\\"i.item.quantity\\\" :id=\\\"i.item.item.split(/\\\\s+/).join('-')\\\" :value=\\\"i.item.quantity\\\" />\\n                 <span v-if=\\\"!(selected.item && selected.item.item === i.item.item)\\\">{{i.item.quantity}}</span>\\n              </template>\\n              <!-- <template #cell(action)=\\\"row\\\">\\n                <b-button @click=\\\"removeMatchedItem(row.item)\\\" variant=\\\"danger\\\">Remove</b-button>\\n              </template> -->\\n            </b-table>\\n            <span style=\\\"color: red\\\">* Items in red cannot be selected. (Not in any warehouse)</span>\\n          </div>\\n        </b-modal>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<script>\\nimport { get_item_dashboard_data } from '../../../utils';\\nimport Paginator from '../../util/Paginator.vue';\\n// import { Vue } from 'vue';\\n// import PatientInfo from './PatientInfo.vue';\\nimport {\\n  // getPrescriptions,\\n  // getPatientPrescriptionsV2,\\n  updatePrescriptionItem,\\n  createPrescriptionInvoice,\\n  getPrescriptionInvoice,\\n  setPrescriptionInvoiceNumber,\\n  getDrugItemAlternates,\\n  updatePrescriptionItemDrug,\\n  getPrecriptionDrugUnitPrice,\\n  getWarehouses,\\n  updatePrescriptionWarehouse,\\n  dispensePrescription,\\n  // prescriptionItemMaterialRequest,\\n  dispenseStockEntry,\\n  prescriptionChangeComment,\\n  stageItemForOrder,\\n  createDrugSalesOrder,\\n  getMatchedItems,\\n  matchStockItemApi,\\n  calculatePrescriptionQuantity,\\n  getDrugsAwaitingDispense,\\n  getDrugGroups,\\n  updateDrugPrescription,\\n  removeMatchedItem as removeMatchedItemApi,unStageApi,\\n} from '../../../../services/pharmacy/prescriptions.js';\\nimport { updateQueueStatus, removeFromQueue } from '../../../../services/pharmacy/queue.js';\\nimport prescriptionStockModule from '../../../../state/pharmacy-stock/index.js';\\nimport moment from 'moment';\\n\\nexport default {\\n  props: {\\n    queueState: {\\n      type: Object,\\n      default: {},\\n      required: true,\\n    },\\n    prescription: {\\n      type: Object,\\n      required: true,\\n    },\\n     patientData: {\\n      type: Object,\\n    },\\n    patientName: {\\n      type: String,\\n      required: true,\\n      default: ''\\n    },\\n    selectedPharmacy: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    }\\n  },\\n  components: {\\n    Paginator,\\n    // PatientInfo\\n  },\\n  data() {\\n    return {\\n      // prescription: {},\\n      toDispenseFields: ['drug_name', {key: 'item_name', label: 'Selected Item' },  {key: 'creation', label: 'Creation', formatter: (value, key, item) => moment(item.creation).fromNow()}, 'rate', { label: 'Quantity', key: 'quantity' }, {key: 'total_price', label: 'Total Price', formatter: (value, key, item) => item.quantity * parseFloat(item.rate)}, {key: 'action', label: ' '}],\\n      staged: [],\\n      itemGroups: [],\\n      totalUnpaid: 0,\\n      selected: {},\\n      filterdPrescription: [],\\n      tt: false,\\n      prescriptionItems: [],\\n      prescriptionItemsPage: [],\\n      loading: true,\\n      alternativeDrugs: [],\\n      alternativeDrug: null,\\n      prescriptionItem: null,\\n      warehouses: [],\\n      warehouse: null,\\n      customerInfo: null,\\n      totalAmount: 0,\\n      selectedPrescriptions: [],\\n      selectedTotals: 0,\\n      paidPres: [],\\n      showPrevious: 0,\\n      fields: [\\n        'drug_name',\\n        { label: 'Dose', key: 'doctor_dose' },\\n        'frequency',\\n        'duration',\\n        {key: 'creation', label: 'Creation', formatter: (value, key, item) => moment(item.creation).fromNow()},\\n        'route_of_administration',\\n         { label: 'Ordered By', key: 'practitioner' },\\n        { label: 'Actions', key: 'action' },\\n      ],\\n      activeRow: {},\\n      items: [],\\n      addItem: false,\\n      insurance: 100000\\n    };\\n  },\\n  watch: {\\n    patientData(){\\n      if(this.patientData.customer_group === 'All Customer Groups') {\\n        this.insurance = 0\\n      } else {\\n        this.insurance = 100000\\n      }\\n    },\\n    prescription() {\\n      (this.selectedPrescriptions = []), (this.selectedTotals = 0);\\n      // this.totalAmount = Math.ceil(this.prescription.reduce((accum, item) => accum + (item.rate * item.qty || 1), 0)).toFixed(2);\\n      this.paidPres = this.prescription.filter(function (e) {\\n        return e.sales_order_status === 'Fully Billed';\\n      });\\n      this.filterdPrescription = this.prescription.filter(this.filter)\\n    },\\n    activeRow(){\\n        const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, warehouse: this.selectedPharmacy.warehouse, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({ quantity: quantity || 1, in_stock: item.stock_balance, rate: 0, ...item}));\\n        })\\n      \\n    },\\n    patientName(){\\n      getDrugsAwaitingDispense({ patient: this.patientName, status: 'Staged'})\\n    .then((data) => {\\n      this.staged = data.map((e) => ({...e, initialQuantity: e.quantity, original_qty: e.quantity }));\\n      this.totalUnpaid = data.reduce((a, b) => a + parseFloat(b.total_price),0)\\n    })\\n    }\\n  },\\n  methods: {\\n    filter (item){ return !moment(item.creation).diff(moment(), 'days')},\\n    onSelect(name){\\n      // const name = ev.item.split(/\\\\s+/).join('-')\\n      const el = document.getElementById(name);\\n      console.log(name, el)\\n      if(el){\\n        el.focus()\\n      }\\n    },\\n    unStage(row){\\n      unStageApi(row.item)\\n      .then(() => {\\n        this.$emit('onUpdateList')\\n        getDrugsAwaitingDispense({ patient: this.patientName, status: 'Staged'})\\n    .then((data) => {\\n      this.staged = data.map((e) => ({...e, initialQuantity: e.quantity, original_qty: e.quantity }));\\n      this.totalUnpaid = data.reduce((a, b) => a + parseFloat(b.total_price),0)\\n    })\\n      })\\n    },\\n    clearSelected(){\\n      this.selected = {}\\n    },\\n    openEditModal(item){\\n      const parent = this;\\n      const previousName = item.drug_name;\\n      let d = new frappe.ui.Dialog({\\n        title: `Edit Drug Prescription`,\\n        fields: [{\\n                    label: 'Drug',\\n                    fieldname: 'drug',\\n                    fieldtype: 'Link',\\n                    options: 'Item',\\n                    reqd: true,\\n                    filters: { item_group: ['in', parent.itemGroups ], has_variants: 1},\\n                    default : item.drug,\\n                    onchange: () => {\\n                       frappe.db.get_value('Item', d.fields_dict.drug.value, 'item_name').then(({ message }) => {\\n                         d.set_value('drug_name', message.item_name);\\n                         d.set_value('instructions', `Take ${message.item_name} ${item.doctor_dose || item.dose || ''} for ${item.duration} ${item.period || ''}`)\\n                         d.refresh();\\n                });\\n                    }\\n                },{\\n                    label: 'Drug Name',\\n                    fieldname: 'drug_name',\\n                    fetch_from: 'drug.item_name',\\n                    fieldtype: 'Data',\\n                    reqd: true,\\n                     default : item.drug_name,\\n                    read_only: 1\\n                },{\\n                    label: 'Instructions',\\n                    fieldname: 'instructions',\\n                    fieldtype: 'Small Text',\\n                    default: item.instructions\\n                }],\\n        primary_action: (values) => {\\n          updateDrugPrescription({...values, name: item.name })\\n          .then((res) => {\\n            item.drug_name = res.drug_name\\n            item.instructions = res.instructions\\n            item.drug = res.drug\\n            this.$emit('onUpdateList')\\n          })\\n          d.hide();\\n        }    \\n      });\\n      d.show()\\n    },\\n    removeMatchedItem(item){\\n      removeMatchedItemApi(item)\\n      .then(() => {\\n        const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({ quantity: 1, in_stock: item.stock_balance, rate: 0, ...item}));\\n        })\\n      })\\n    },\\n    calculateUnpaid(e, i) {\\n      const data = this.staged;\\n      const maximum = Math.min(parseInt(i.item.initialQuantity), i.item.quantity);\\n      i.item.quantity = maximum;\\n      this.totalUnpaid = data.reduce((a, b) => a + (parseFloat(b.rate) * parseFloat(b.quantity)),0)\\n    },\\n    openModal(row) {\\n      this.activeRow = row;\\n      console.log(row);\\n      this.$refs.viewPrescription.show();\\n    },\\n    addAMatch(item){\\n      let d = new frappe.ui.Dialog({\\n        title: `Add Matching Stock Item`,\\n        fields: [{\\n            label: 'Item',\\n            fieldname: 'item',\\n            fieldtype: 'Link',\\n            options: 'Item',\\n            filters: { has_variants: 0, item_group: ['in', this.itemGroups]}\\n          },\\n          {\\n            label: 'Strength',\\n            fieldname: 'strength',\\n            fieldtype: 'Data',\\n          },{\\n            label: 'Route of Administration',\\n            fieldname: 'dosage_form',\\n            fieldtype: 'Link',\\n            options: 'Dosage Form'\\n          },],\\n        primary_action: (values) => {\\n          matchStockItemApi({dosage_form: item.dosage_form, ...values, drug: item.drug}).then(() => {\\n            frappe.show_alert(`${item.drug} matched successfully with ${values.item}`, 5);\\n            this.getStagedItems();\\n            const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({ quantity: 1, in_stock: item.stock_balance, rate: 0, ...item}));\\n        })\\n            d.hide();\\n          })\\n        }\\n      });\\n      d.show()\\n    },\\n    stageForOrder(){\\n      if(!this.selected.item) {\\n          return frappe.throw('Please select an item or add a matched Item before creating a medication order')\\n        }\\n\\n        console.log(this.selected)\\n      const args = {\\n        patient: this.activeRow.patient_number,\\n        encounter: this.activeRow.patient_encounter, \\n        inpatient_record: this.activeRow.inpatient_record, \\n        item: this.selected.item.item, \\n        quantity: this.selected.item.quantity,\\n        service_unit: this.activeRow.service_unit,\\n        appointment_name: this.activeRow.patient_appointment,\\n        doctors_prescription: this.activeRow.name,\\n        route_of_administration: this.activeRow.route_of_administration || '',\\n        rate: this.selected.item.rate,\\n        \\n      }\\n\\n      stageItemForOrder(args).then(() => {\\n        this.$emit('onUpdateList');\\n        this.getStagedItems();\\n        })\\n    \\n    },\\n    createSalesOrders(){\\n      const args = {\\n        items: this.staged,\\n        limit: this.insurance,\\n        total: this.totalUnpaid,\\n        warehouse: this.selectedPharmacy.warehouse,\\n      }\\n      console.log()\\n      createDrugSalesOrder(args).then(() => {\\n        updateQueueStatus({ state_name: this.queueState.name, status: 'Invoiced' }).then((m) => {})\\n        this.getStagedItems();\\n        this.$emit('onUpdateList')\\n      })\\n    },\\n    getAmountAndPayerSum(payer, rate, qty, remaining_quantity = 0, co_paid_quantity = 0, type) {\\n      switch (payer) {\\n        case 'Patient':\\n          return type === 'Amount' ? Math.ceil(rate * qty).toFixed(2) || 1 | numberWithCommas : 'Patient incurs';\\n        case 'Copay':\\n          return type === 'Amount'\\n            ? Math.ceil(rate * (remaining_quantity * qty)).toFixed(2) || 1 | numberWithCommas\\n            : 'Copaid amount: ' +\\n                '(' +\\n                (Math.ceil(rate * (co_paid_quantity * qty)).toFixed(2) || 1 | numberWithCommas) +\\n                ')';\\n        case 'Insurance':\\n          return type === 'Amount'\\n            ? 0\\n            : 'Insurance covers: ' + '(' + (Math.ceil(rate * qty).toFixed(2) || 1 | numberWithCommas) + ')';\\n        case 'Pre-auth Insurance':\\n          return type === 'Amount'\\n            ? 0\\n            : 'Insurance Pre-auth: ' + '(' + (Math.ceil(rate * qty).toFixed(2) || 1 | numberWithCommas) + ')';\\n        case 'Pre-auth Copay':\\n          return type === 'Amount'\\n            ? Math.ceil(rate * (remaining_quantity * qty)).toFixed(2) || 1 | numberWithCommas\\n            : 'Pre-auth Copay:: ' +\\n                '(' +\\n                (Math.ceil(rate * (co_paid_quantity * qty)).toFixed(2) || 1 | numberWithCommas) +\\n                ')';\\n      }\\n    },\\n    selectAll() {\\n      this.prescription.forEach((item) => {\\n        if (!item.sales_order) {\\n          this.selectRow(item);\\n        }\\n      });\\n    },\\n    printPrescription(prescriptionItem) {\\n      var w = window.open(\\n        frappe.urllib.get_full_url(\\n          '/printview?' +\\n            'doctype=' +\\n            encodeURIComponent('Patient Encounter') +\\n            '&name=' +\\n            encodeURIComponent(prescriptionItem.encounter) +\\n            '&format=Encounter Prescription Print Format&_lang=en&trigger_print=1',\\n        ),\\n      );\\n      if (!w) {\\n        msgprint(__('Please enable pop-ups'));\\n        return;\\n      }\\n    },\\n    dispense() {\\n      let paidPrescription = this.prescription.filter(function (e) {\\n        return e.sales_order_status === 'Fully Billed';\\n      });\\n      if (paidPrescription.length) {\\n        dispenseStockEntry({\\n          warehouse: paidPrescription[0].warehouse,\\n          encounter_name: paidPrescription[0].encounter,\\n          // prescription_names: this.prescription.map(drug=>drug.prescription_id) ,\\n          sales_order: paidPrescription[0].sales_order,\\n          patient_name: paidPrescription[0].patient_number,\\n        }).then((result) => {\\n          frappe.show_alert(\\n            {\\n              message: `Stocks Updated`,\\n              indicator: 'green',\\n            },\\n            15,\\n          );\\n          dispensePrescription({\\n            prescription_names: paidPrescription.map((drug) => drug.prescription_id),\\n            patient_name: paidPrescription[0].patient_number,\\n            warehouse_name: paidPrescription[0].warehouse,\\n          }).then((data) => {\\n            frappe.show_alert(\\n              {\\n                message: `Prescription Dispensed`,\\n                indicator: 'green',\\n              },\\n              15,\\n            );\\n          });\\n          removeFromQueue({ queue_state_name: parent.queueState.name }).then((r) => {\\n            console.log('REMOVED FROM QUEUE');\\n          });\\n          prescriptionChangeComment({\\n            reference_doctype: 'Patient Encounter',\\n            reference_name: paidPrescription[0].encounter,\\n            content: `Prescriptions : ${paidPrescription.map((x) => x.drug_code).toString()} Dispensed`,\\n            comment_email: frappe.session.user,\\n            comment_by: frappe.session.user_fullname,\\n          }).then((result) => {});\\n        });\\n      } else {\\n        frappe.show_alert(\\n          {\\n            message: `No invoiced Prescription`,\\n            indicator: 'red',\\n          },\\n          5,\\n        );\\n      }\\n    },\\n    selectRow(item) {\\n      console.log('Start ', this.selectedPrescriptions.length);\\n      if (typeof item === 'object') {\\n        let replaced = false;\\n        this.selectedPrescriptions.map((pres, x) => {\\n          if (pres.prescription_id === item.prescription_id) {\\n            this.selectedPrescriptions.splice(this.selectedPrescriptions.indexOf(item), 1);\\n            replaced = true;\\n          }\\n        });\\n        if (!replaced) {\\n          this.selectedPrescriptions.push(item);\\n        }\\n        this.selectedTotals = Math.ceil(\\n          this.selectedPrescriptions.reduce((accum, item) => accum + item.rate * item.qty, 0),\\n        ).toFixed(2);\\n      } else {\\n        //\\n      }\\n    },\\n    printPrescriptionLabel(prescriptionItem) {\\n      // console.log(JSON.stringify(prescriptionItem))\\n      // https://docs.erpnext.com/docs/user/manual/en/setting-up/print/raw-printing\\n      var w = window.open(\\n        frappe.urllib.get_full_url(\\n          '/printview?' +\\n            'doctype=' +\\n            encodeURIComponent('Drug Prescription') +\\n            '&name=' +\\n            encodeURIComponent(prescriptionItem.prescription_id) +\\n            '&format=Drug Prescription Label&_lang=en&no_letterhead=1&letterhead=No Letterhead&trigger_print=1',\\n        ),\\n      );\\n      if (!w) {\\n        msgprint(__('Please enable pop-ups'));\\n        return;\\n      }\\n    },\\n    createMaterialRequest(prescriptionItem) {\\n      let parent = this;\\n      let d = new frappe.ui.Dialog({\\n        title: `Material Request for ${prescriptionItem.drug_name}`,\\n        fields: [\\n          {\\n            label: 'Warehouse',\\n            fieldname: 'warehouse',\\n            fieldtype: 'Select',\\n            options: this.warehouses,\\n          },\\n          {\\n            label: 'Quantity',\\n            fieldname: 'quantity',\\n            fieldtype: 'Int',\\n          },\\n        ],\\n        primary_action_label: 'Submit',\\n        primary_action(values) {\\n          d.hide();\\n          parent.$store.dispatch('prescriptionStockModule/createMaterialRequest', {\\n            drug: prescriptionItem.drug_name,\\n            quantity: values.quantity,\\n            warehouse: prescriptionItem.warehouse,\\n            from_warehouse: values.warehouse,\\n          });\\n        },\\n        secondary_action_label: 'Cancel',\\n        secondary_action() {\\n          d.hide();\\n        },\\n      });\\n      d.show();\\n      this.loading = false;\\n    },\\n    resetMaterialRequestModal() {\\n      this.prescriptionItem = null;\\n    },\\n    materialRequest(prescriptionItem) {\\n      this.prescriptionItem = prescriptionItem;\\n      getWarehouses({}).then((result) => {\\n        if (result && result.length) {\\n          this.warehouses = result.map((unit) => unit.name);\\n          this.createMaterialRequest(prescriptionItem);\\n        } else {\\n          frappe.show_alert(\\n            {\\n              message: `No Warehouses Available`,\\n              indicator: 'orange',\\n            },\\n            5,\\n          );\\n        }\\n      });\\n    },\\n    updateWarehouse() {\\n      if (this.prescription && this.prescription.name) {\\n        updatePrescriptionWarehouse({\\n          prescription_name: this.prescription.name,\\n          warehouse_name: this.warehouse,\\n        }).then((result) => {\\n          if (result) {\\n            frappe.show_alert(\\n              {\\n                message: `Prescription  Moved to ${result.warehouse}.`,\\n                indicator: 'green',\\n              },\\n              5,\\n            );\\n            this.prescription = result;\\n            this.loading = false;\\n          } else {\\n            frappe.show_alert(\\n              {\\n                message: `Transfer Failed. Please try again`,\\n                indicator: 'red',\\n              },\\n              5,\\n            );\\n          }\\n        });\\n      } else {\\n        frappe.show_alert(\\n          {\\n            message: `No Prescription Selected`,\\n            indicator: 'orange',\\n          },\\n          5,\\n        );\\n      }\\n      this.loading = false;\\n    },\\n    resetServiceUnits() {\\n      this.warehouse = null;\\n    },\\n    transferPrescription() {\\n      // frappe.set_route(\\\"prescription\\\", this.prescription.name);\\n      if (this.prescription && this.prescription.name) {\\n        getWarehouses({}).then((result) => {\\n          if (result && result.length) {\\n            this.warehouses = result.map((unit) => unit.name);\\n            this.$refs.changeServiceUnitModal.show();\\n          } else {\\n            frappe.show_alert(\\n              {\\n                message: `No Healthcare Service Units`,\\n                indicator: 'orange',\\n              },\\n              5,\\n            );\\n          }\\n        });\\n      } else {\\n        frappe.show_alert(\\n          {\\n            message: `No Prescription Selected`,\\n            indicator: 'orange',\\n          },\\n          5,\\n        );\\n      }\\n    },\\n    fetchAlternates(prescriptionItem) {\\n      this.prescriptionItem = prescriptionItem;\\n      getDrugItemAlternates({\\n        drug_name: prescriptionItem.drug_code,\\n      }).then((result) => {\\n        if (result && result.length) {\\n          this.alternativeDrugs = result.map((drugs) => drugs.alternative_item_code);\\n          this.changeDrug(prescriptionItem, this.alternativeDrugs);\\n        } else {\\n          frappe.show_alert(\\n            {\\n              message: `${prescriptionItem.drug_code} has no alternative setup in the system`,\\n              indicator: 'orange',\\n            },\\n            5,\\n          );\\n        }\\n      });\\n    },\\n    resetAlternateDrugModal() {\\n      this.alternativeDrugs = [];\\n      this.alternativeDrug = null;\\n      this.prescriptionItems = null;\\n    },\\n    changeDrug(prescriptionItem, alternativeDrugs) {\\n      let parent = this;\\n      // https://frappeframework.com/docs/user/en/guides/app-development/dialogs-types\\n      let d = new frappe.ui.Dialog({\\n        title: `Select Alternate Drug for ${prescriptionItem.drug_name}`,\\n        fields: [\\n          {\\n            label: 'Drug',\\n            fieldname: 'alternativeDrug',\\n            fieldtype: 'Select',\\n            options: alternativeDrugs,\\n          },\\n        ],\\n        primary_action_label: 'Submit',\\n        primary_action(values) {\\n          updatePrescriptionItemDrug({\\n            patient_name: prescriptionItem.patient_number,\\n            prescription_item_name: prescriptionItem.prescription_id,\\n            drug_name: values.alternativeDrug,\\n          }).then((result) => {\\n            parent.loading = false;\\n            parent.updateTableRow(result);\\n          });\\n          d.hide();\\n          prescriptionChangeComment({\\n            reference_doctype: 'Patient Encounter',\\n            reference_name: prescriptionItem.encounter,\\n            content: `Prescription Drug Change from ${prescriptionItem.drug_code} to ${values.alternativeDrug}`,\\n            comment_email: frappe.session.user,\\n            comment_by: frappe.session.user_fullname,\\n          }).then((result) => {});\\n        },\\n        secondary_action_label: 'Cancel',\\n        secondary_action() {\\n          d.hide();\\n          parent.resetAlternateDrugModal();\\n        },\\n      });\\n      d.show();\\n      this.loading = false;\\n    },\\n    updateTableRow(result) {\\n      this.prescription.map((item, x) => {\\n        if (item.prescription_id === result.name) {\\n          Vue.set(this.prescription, x, result);\\n        }\\n      });\\n      this.itemUnitsChanged();\\n      this.resetAlternateDrugModal();\\n    },\\n    numberOfUnitsChange(prescriptionItem) {\\n      this.loading = true;\\n      updatePrescriptionItem({\\n        name: prescriptionItem.prescription_id,\\n        qty: prescriptionItem.qty,\\n      })\\n        .then((result) => {\\n          this.loading = false;\\n          this.prescription.prescription_item.map((item, x) => {\\n            if (item.name === result.name) {\\n              Vue.set(this.prescription.prescription_item, x, result);\\n            }\\n          });\\n          frappe.show_alert(\\n            {\\n              message: `Drug  #${prescriptionItem.drug_code} unit changed.`,\\n              indicator: 'green',\\n            },\\n            5,\\n          );\\n          this.itemUnitsChanged();\\n        })\\n        .catch((err) => {\\n          this.loading = false;\\n        });\\n      this.loading = false;\\n    },\\n    itemUnitsChanged(type) {\\n      let totalAmount = 0;\\n      if (this.prescription && this.prescription.length) {\\n        let itemList = [];\\n        if (type === 'Gross') {\\n          itemList = this.prescription;\\n        } else {\\n          itemList = this.selectedPrescriptions;\\n        }\\n        itemList.forEach((item, index) => {\\n          switch (item.payer) {\\n            case 'Patient':\\n              totalAmount = totalAmount + item.rate * item.qty;\\n              break;\\n            case 'Copay':\\n              totalAmount = totalAmount + Math.ceil(item.rate * (item.qty * item.remaining_quantity));\\n              break;\\n            case 'Insurance':\\n              totalAmount = totalAmount + 0;\\n              break;\\n            case 'Pre-auth Insurance':\\n              totalAmount = totalAmount + 0;\\n              break;\\n            case 'Pre-auth Copay':\\n              totalAmount = totalAmount + Math.ceil(item.rate * (item.qty * item.remaining_quantity));\\n              break;\\n          }\\n        });\\n        this.totalAmount = totalAmount;\\n      }\\n\\n      return totalAmount;\\n    },\\n    postInvoice() {\\n      if (this.selectedPrescriptions && this.selectedPrescriptions.length) {\\n        // console.log(JSON.stringify(this.selectedPrescriptions))\\n        createPrescriptionSalesOrder({ prescription_docs: this.selectedPrescriptions, warehouse_name: '' }).then(\\n          (r) => {\\n            frappe.show_alert(\\n              {\\n                message: `Prescription Sales order created`,\\n                indicator: 'green',\\n              },\\n              5,\\n            );\\n            updateQueueStatus({ state_name: this.queueState.name, status: 'Invoiced' }).then((m) => {});\\n            this.selectedPrescriptions = [];\\n          },\\n        );\\n      } else {\\n        frappe.show_alert(\\n          {\\n            message: 'Please Select prescription',\\n            indicator: 'orange',\\n          },\\n          5,\\n        );\\n      }\\n    },\\n    getStagedItems(){\\n       getDrugsAwaitingDispense({ patient: this.patientName, status: 'Staged'})\\n    .then((data) => {\\n      this.staged = data.map((e) => ({...e, initialQuantity: e.quantity, original_qty: e.quantity}));\\n      console.log(data)\\n      this.totalUnpaid = data.reduce((a, b) => a + parseFloat(b.total_price),0)\\n    })\\n    },\\n    checkInvoice() {\\n      if (this.prescription && this.prescription.length && this.prescription[0].sales_order) {\\n        getPrescriptionInvoice({\\n          name: this.prescription[0].sales_order,\\n        }).then((result) => {\\n          this.loading = false;\\n          frappe.show_alert(\\n            {\\n              message: `Prescription Invoice #${result.name} status is ${result.status}`,\\n              indicator: 'green',\\n            },\\n            5,\\n          );\\n        });\\n      } else {\\n        frappe.show_alert(\\n          {\\n            message: `Sales Invoice not found.`,\\n            indicator: 'orange',\\n          },\\n          5,\\n        );\\n      }\\n      this.loading = false;\\n    },\\n    setPrescriptionInvoice(invoiceName) {\\n      setPrescriptionInvoiceNumber({\\n        prescription_name: this.prescription.name,\\n        invoice_name: invoiceName,\\n      }).then((result) => {\\n        if (result) {\\n          frappe.show_alert(\\n            {\\n              message: `Invoice #${invoiceName} posted. Awaiting Payment`,\\n              indicator: 'green',\\n            },\\n            5,\\n          );\\n          this.prescription = result;\\n          this.loading = false;\\n        } else {\\n          frappe.show_alert(\\n            {\\n              message: `Invoice not Created`,\\n              indicator: 'red',\\n            },\\n            5,\\n          );\\n        }\\n      });\\n      this.loading = false;\\n    },\\n    changePage(pageOfItems) {\\n      this.prescriptionItemsPage = pageOfItems;\\n    },\\n    stockCheck(prescription) {\\n      frappe.call({\\n        method: 'erpnext.stock.dashboard.item_dashboard.get_data',\\n        args: {\\n          item_code: prescription.drug_code,\\n        },\\n        callback: ({ message = [] }) => {\\n          const context = get_item_dashboard_data(message, 10, true);\\n          if (message.length) {\\n            let msgText = `<ol>`;\\n            message.forEach((msg) => {\\n              msgText += `<li> ${msg.warehouse}  <b> ${msg.projected_qty}/${msg.actual_qty}</b></li>`;\\n            });\\n            msgText += `</ol>`;\\n            frappe.msgprint({\\n              title: __((prescription.drug_code || '').toUpperCase()),\\n              indicator: 'green',\\n              message: msgText,\\n            });\\n          } else {\\n            frappe.msgprint({\\n              title: __((prescription.drug_code || '').toUpperCase()),\\n              message: 'Stock Data Unavailable.',\\n              indicator: 'green',\\n            });\\n          }\\n          //frappe.msgprint(JSON.stringify(message))\\n\\n          // frappe.msgprint({\\n          //     title: __((prescription.drug_code || \\\"\\\").toUpperCase()),\\n          //     indicator: message.length ? \\\"green\\\" : \\\"red\\\",\\n          //     message: `${\\n          //     message.length\\n          //         ? frappe.render_template(\\\"item_dashboard_list\\\", context)\\n          //         : `<div class='text-muted small'>  ${__(\\n          //             \\\"Currently no stock available in any warehouse\\\"\\n          //         )} </span>`\\n          //     }`\\n          // });\\n        },\\n      });\\n    },\\n    get_host: function (port = 3000) {\\n      var host = window.location.origin;\\n      if (window.dev_server || true) {\\n        var parts = host.split(':');\\n        port = frappe.boot.socketio_port || port.toString() || '3000';\\n        if (parts.length > 2) {\\n          host = parts[0] + ':' + parts[1];\\n        }\\n        host = host + ':' + port;\\n      }\\n      return host;\\n    },\\n  },\\n  created() {\\n    this.$store.registerModule('prescriptionStockModule', prescriptionStockModule);\\n  },\\n  mounted() {\\n    const host = this.get_host(3000);\\n    const socket = io.connect();\\n    this.socket = socket;\\n    let parent = this;\\n    socket.on('connect', () => {\\n      console.log('User Prescription connected');\\n    });\\n   this.getStagedItems();\\n   getDrugGroups().then((data) => {\\n       this.itemGroups = data\\n      })\\n  },\\n  filters: {\\n    // Filter definitions\\n    Upper(value) {\\n      return value.toUpperCase();\\n    },\\n    title(str) {\\n      return str.replace(/\\\\w([^-\\\\s]*)/g, function (txt) {\\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\\n      });\\n    },\\n    numberWithCommas(x) {\\n      if (x) {\\n        return x.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, ',');\\n      }\\n      return 0;\\n    },\\n  },\\n};\\n</script>\\n\\n<style scoped>\\n.patient-name {\\n  text-transform: capitalize;\\n}\\n\\n.totals {\\n  font-size: 14px;\\n  font-weight: 700;\\n}\\n\\n.total-row {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\ninput[type='number'] {\\n  padding: 1px;\\n  border: 1;\\n  box-shadow: 0 0 15px 4px rgba(0, 0, 0, 0.06);\\n}\\n\\n.table-responsive {\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "export const api = ({ method, args = {}, freeze=true }) =>\n    new Promise((resolve, reject) =>\n        frappe.call({ method, args, freeze, callback: resolve })\n    );\n\nexport const getPatientInvoices = ({\n        patient_number = \"\",\n        appointment_number = \"\",\n        inpatient_record = \"\"\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_patient_invoice\",\n        args: {\n            patient_number,\n            appointment_number,\n            inpatient_record\n        },\n    }).then(({ message }) => message);\n\nexport const getPatientInvoiceTotal = ({\n        patient_number = \"\",\n        appointment_number = \"\",\n        inpatient_record = \"\"\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_patient_invoice_total\",\n        args: {\n            patient_number,\n            appointment_number,\n            inpatient_record\n        },\n    }).then(({ message }) => message);\n\nexport const getPatientPayments = ({\n        patient_number = \"\",\n        appointment_number = \"\",\n        inpatient_record = \"\"\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_patient_payments\",\n        args: {\n            patient_number,\n            appointment_number,\n            inpatient_record\n        },\n    }).then(({ message }) => message);\n\nexport const getPatientPaymentsTotal = ({\n        patient_number = \"\",\n        appointment_number = \"\",\n        inpatient_record = \"\"\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_patient_payments_total\",\n        args: {\n            patient_number,\n            appointment_number,\n            inpatient_record\n        },\n    }).then(({ message }) => message);\n\nexport const getSalesOrders = ({\n        patient_number = \"\",\n        appointment_number = \"\",\n        inpatient_record = \"\"\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_patient_sales_orders\",\n        args: {\n            patient_number,\n            appointment_number,\n            inpatient_record\n        },\n    }).then(({ message }) => message);\n\nexport const getPaymentEntry = ({\n        patient_number = \"\",\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_patient_payment_entries\",\n        args: {\n            patient_number,\n        },\n    }).then(({ message }) => message);\n\nexport const getAccountsDashboard = ({\n        patient_number = \"\",\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.customer_account_dashboard_info\",\n        args: {\n            patient_number,\n        },\n    }).then(({ message }) => message);\n\nexport const createSalesInvoiceFromSalesOrder = ({\n        sales_order_name,\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.create_sales_invoice_from_order\",\n        args: {\n            sales_order_name,\n        },\n    }).then(({ message }) => message);\n\nexport const finalizeInvoice = (sales_invoice) =>\n    api({\n        method: \"billing.billing.utils.invoice_utils.make_final_invoice\",\n        args: {\n            sales_invoice,\n            sales_invoice_name: \"\"\n        },\n    }).then(({ message }) => message);\n\nexport const getInvoiceFinalizations = ({\n        appointment_number = \"\",\n        inpatient_record = \"\"\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_patient_invoice_finalizations\",\n        args: {\n            appointment_number,\n            inpatient_record\n        },\n    }).then(({ message }) => message);\n\nexport const emailInvoiceFinalizations = ({\n        party_type,\n        party_name,\n        message,\n        ref_type,\n        ref_name\n    }) =>\n    api({\n        method: \"mtrh_dev.mtrh_dev.tqe_evaluation.stage_party_email\",\n        args: {\n            party_type,\n            party_name,\n            message,\n            ref_type,\n            ref_name\n        },\n    }).then(({ message }) => message);\n//\nexport const getPatientInsuranceSchemes = ({\n        patient_number\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_patient_insurance_scheme\",\n        args: {\n            patient_number\n        },\n    }).then(({ message }) => message);\n\nexport const allocateAmountToInvoice = ({\n        sales_invoice_item,\n        new_amount,\n        payer_name = \"\"\n    }) =>\n    api({\n        method: \"billing.billing.utils.invoice_utils.allocate_to_sales_invoice\",\n        args: {\n            sales_invoice_item,\n            new_amount,\n            payer_name\n        },\n    }).then(({ message }) => message);\nexport const prepareAllocationFieldList = ({\n        docname\n    }) =>\n    api({\n        method: \"mtrh_dev.mtrh_dev.doctype.invoice_finalization.invoice_finalization.prepare_allocation_field_list\",\n        args: {\n            docname\n        },\n    }).then(({ message }) => message);\n\nexport const getSalesInvoiceItems = ({\n        name\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_sales_invoice_items\",\n        args: {\n            name\n        },\n    }).then(({ message }) => message);\n\nexport const splitInvoice = ({\n        primary_invoice,\n        split_args,\n        row\n    }) =>\n    api({\n        method: \"mtrh_dev.mtrh_dev.doctype.invoice_finalization.invoice_finalization.split_invoice\",\n        args: {\n            primary_invoice,\n            split_args,\n            row\n        },\n        freeze: true,\n        freeze_message: 'Allocating Invoices to payers',\n    }).then(({ message }) => message);\nexport const getFinalizedInvoiceItems = ({\n        name\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_finalized_invoice_items\",\n        args: {\n            name\n        },\n    }).then(({ message }) => message);\n\nexport const getUnbilledSalesOrderTotals = ({\n        patient_number\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_unbilled_sales_order_totals\",\n        args: {\n            patient_number\n        },\n    }).then(({ message }) => message);\nexport const createGatePass = ({\n        invoice_finalization_name,\n        remarks\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.create_gate_pass\",\n        args: {\n            invoice_finalization_name,\n            remarks\n        },\n    }).then(({ message }) => message);\nexport const getFinalizedInvoiceAllocations = ({\n        final_invoice_name\n    }) =>\n    api({\n        method: \"clinical.api.patient_accounts.get_finalized_invoice_allocations\",\n        args: {\n            final_invoice_name\n        },\n    }).then(({ message }) => message);\n\nexport const updatePatientInsuranceSchemeLimits = ({\n        docname,\n        scheme_name,\n        op_limit = 0,\n        ip_limit = 0,\n        op_balance = 0,\n        ip_balance = 0,\n    }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.update_patient_scheme\",\n        args: {\n            docname,\n            scheme_name,\n            op_limit,\n            ip_limit,\n            op_balance,\n            ip_balance\n        },\n    }).then(({ message }) => message);", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getSalesOrders, createSalesInvoiceFromSalesOrder } from \"../../../../services/patient_chart/accounts.js\";\nconst __vue_script__ = {\n    name: 'SalesOrder',\n    props: {\n        patient_number: {\n            type: String,\n            default: \" \",\n            required: true,\n        }\n    },\n    data() {\n        return {\n            salesOrderItems: undefined,\n            selectedOrders: []\n        };\n    },\n    methods: {\n        changeQuantity(salesOrderItem) {\n            // console.log(JSON.stringify(salesOrderItem))\n            // var d = new frappe.ui.Dialog({\n            //     'fields': [\n            //         { 'fieldname': 'Qunatity', 'fieldtype': 'Int' },\n            //     ],\n            //     primary_action: function() {\n            //         d.hide();\n            //         show_alert(d.get_values());\n            //     }\n            // });\n            // d.show();\n        },\n        createSalesInvoice() {\n            if (this.selectedOrders && this.selectedOrders.length > 0) {\n                createSalesInvoiceFromSalesOrder({\n                    sales_order_name: this.selectedOrders.map(item => item.parent),\n                }).then((data) => {\n                    if (data) {\n                        this.fetchSalesOrders();\n                        this.selectedOrders = [];\n                        this.$emit('salesInvoiceCreated');\n                        frappe.show_alert({\n                            message: `Sales Invoice Created`,\n                            indicator: 'green'\n                        }, 5);\n                    }\n                });\n            } else {\n                frappe.show_alert({\n                    message: `No Sales Orders Selected`,\n                    indicator: 'orange'\n                }, 5);\n            }\n        },\n        fetchSalesOrders() {\n            this.selectedOrders = [];\n            getSalesOrders({\n                patient_number: this.patient_number,\n            }).then((data) => {\n                this.salesOrderItems = data;\n            });\n            ``\n        },\n        selectRow(item) {\n            if (typeof item === 'object') {\n                this.selectedOrders.push(item);\n            } else {\n                let _x;\n                this.selectedOrders.map((salesOrderItem, x) => {\n                    if (salesOrderItem.name === item) _x = x;\n                });\n\n                this.selectedOrders.splice(_x, 1);\n            }\n            //console.log(JSON.stringify(this.selectedOrders.map(item=>item.parent)));\n        },\n    },\n    watch: {\n        patient_number() {\n            this.fetchSalesOrders();\n        }\n    },\n    created() {\n        this.fetchSalesOrders();\n    },\n    filters: {\n        // Filter definitions\n        dateFormat(date) {\n            let current_datetime = new Date(date);\n            return current_datetime.getFullYear() + \"-\" + (current_datetime.getMonth() + 1) + \"-\" + current_datetime.getDate() + \" \" +\n                current_datetime.getHours() + \":\" + current_datetime.getMinutes() //+ \":\" + current_datetime.getSeconds()\n        },\n        Upper(value) {\n            return value.toUpperCase();\n        },\n        numberWithCommas(x) {\n            if (x) {\n                return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n            }\n            return 0;\n        }\n    }\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"b-row\",\n        [\n          _c(\"b-col\", [\n            _c(\n              \"div\",\n              {\n                staticStyle: { display: \"flex\", \"justify-content\": \"flex-end\" }\n              },\n              [\n                _c(\n                  \"b-button-group\",\n                  {\n                    staticStyle: { \"margin-right\": \"16px\", \"margin-top\": \"4px\" }\n                  },\n                  [\n                    _c(\n                      \"b-button\",\n                      {\n                        staticStyle: { \"margin-right\": \"2px\" },\n                        attrs: { variant: \"primary\" },\n                        on: { click: _vm.fetchSalesOrders }\n                      },\n                      [_vm._v(\"Refresh \")]\n                    )\n                  ],\n                  1\n                )\n              ],\n              1\n            )\n          ])\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-row\",\n        [\n          _c(\"b-col\", [\n            _c(\n              \"table\",\n              { staticClass: \"table table table-striped table-bordered\" },\n              [\n                _c(\"thead\", [\n                  _c(\"tr\", [\n                    _c(\"th\", [_vm._v(\"Date\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Sales Order\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Customer\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Status\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Item\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Quantity\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Rate\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Amount\")])\n                  ])\n                ]),\n                _vm._v(\" \"),\n                _vm._l(_vm.salesOrderItems, function(salesOrderItem) {\n                  return _c(\"tr\", { key: salesOrderItem.parent }, [\n                    _c(\"td\", [\n                      _c(\"span\", [\n                        _vm._v(\n                          _vm._s(_vm._f(\"dateFormat\")(salesOrderItem.creation))\n                        )\n                      ])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"span\", [_vm._v(_vm._s(salesOrderItem.parent))])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"span\", [_vm._v(_vm._s(salesOrderItem.customer))])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"span\", [_vm._v(_vm._s(salesOrderItem.parent_status))])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"span\", [_vm._v(_vm._s(salesOrderItem.item_code))])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"span\", [_vm._v(_vm._s(salesOrderItem.qty))])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", { staticStyle: { \"text-align\": \"right\" } }, [\n                      _c(\"span\", [\n                        _vm._v(\n                          _vm._s(\n                            _vm._f(\"numberWithCommas\")(\n                              salesOrderItem.rate.toFixed(2)\n                            )\n                          )\n                        )\n                      ])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", { staticStyle: { \"text-align\": \"right\" } }, [\n                      _c(\"span\", [\n                        _vm._v(\n                          _vm._s(\n                            _vm._f(\"numberWithCommas\")(\n                              salesOrderItem.amount.toFixed(2)\n                            )\n                          )\n                        )\n                      ])\n                    ])\n                  ])\n                })\n              ],\n              2\n            )\n          ])\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = undefined\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n    <div>\\n        <b-row>\\n            <b-col>\\n                <div style=\\\"display: flex; justify-content: flex-end\\\">\\n                    <b-button-group style=\\\"margin-right:16px;margin-top:4px;\\\">\\n                        <!-- <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"createSalesInvoice\\\">Waive</b-button> -->\\n                        <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"fetchSalesOrders\\\">Refresh </b-button>\\n                    </b-button-group>\\n                </div>\\n            </b-col>\\n        </b-row>\\n        <b-row>\\n            <b-col>\\n                <table class=\\\"table table table-striped table-bordered\\\">\\n                    <thead>\\n                        <tr>\\n                            <th>Date</th>\\n                            <th>Sales Order</th>\\n                            <th>Customer</th>\\n                            <th>Status</th>\\n                            <th>Item</th>\\n                            <th>Quantity</th>\\n                            <th>Rate</th>\\n                            <th>Amount</th>    \\n                        </tr>\\n                    </thead>\\n                    <tr v-for=\\\"salesOrderItem in salesOrderItems\\\" :key=\\\"salesOrderItem.parent\\\">\\n                        <td><span>{{ salesOrderItem.creation | dateFormat }}</span> </td>\\n                        <td><span>{{ salesOrderItem.parent }}</span> </td>\\n                        <td><span>{{ salesOrderItem.customer }}</span> </td>\\n                         <td><span>{{ salesOrderItem.parent_status }}</span> </td>\\n                        <td><span>{{ salesOrderItem.item_code }}</span> </td>\\n                        <td><span>{{ salesOrderItem.qty }}</span> </td>\\n                        <td style=\\\"text-align: right;\\\"><span>{{ salesOrderItem.rate.toFixed(2) | numberWithCommas }}</span> </td>\\n                        <td style=\\\"text-align: right;\\\"><span>{{ salesOrderItem.amount.toFixed(2) | numberWithCommas }}</span> </td>\\n                        <!-- <td>\\n                            <b-btn variant=\\\"primary\\\" @click=\\\"changeQuantity(salesOrderItem)\\\">Change Quantity</b-btn>\\n                        </td> -->\\n                    </tr>\\n                </table>\\n            </b-col>\\n        </b-row>\\n    </div>\\n</template>\\n\\n<script>\\nimport { getSalesOrders, createSalesInvoiceFromSalesOrder } from \\\"../../../../services/patient_chart/accounts.js\\\";\\nexport default {\\n    name: 'SalesOrder',\\n    props: {\\n        patient_number: {\\n            type: String,\\n            default: \\\" \\\",\\n            required: true,\\n        }\\n    },\\n    data() {\\n        return {\\n            salesOrderItems: undefined,\\n            selectedOrders: []\\n        };\\n    },\\n    methods: {\\n        changeQuantity(salesOrderItem) {\\n            // console.log(JSON.stringify(salesOrderItem))\\n            // var d = new frappe.ui.Dialog({\\n            //     'fields': [\\n            //         { 'fieldname': 'Qunatity', 'fieldtype': 'Int' },\\n            //     ],\\n            //     primary_action: function() {\\n            //         d.hide();\\n            //         show_alert(d.get_values());\\n            //     }\\n            // });\\n            // d.show();\\n        },\\n        createSalesInvoice() {\\n            if (this.selectedOrders && this.selectedOrders.length > 0) {\\n                createSalesInvoiceFromSalesOrder({\\n                    sales_order_name: this.selectedOrders.map(item => item.parent),\\n                }).then((data) => {\\n                    if (data) {\\n                        this.fetchSalesOrders();\\n                        this.selectedOrders = [];\\n                        this.$emit('salesInvoiceCreated');\\n                        frappe.show_alert({\\n                            message: `Sales Invoice Created`,\\n                            indicator: 'green'\\n                        }, 5);\\n                    }\\n                });\\n            } else {\\n                frappe.show_alert({\\n                    message: `No Sales Orders Selected`,\\n                    indicator: 'orange'\\n                }, 5);\\n            }\\n        },\\n        fetchSalesOrders() {\\n            this.selectedOrders = [];\\n            getSalesOrders({\\n                patient_number: this.patient_number,\\n            }).then((data) => {\\n                this.salesOrderItems = data;\\n            });\\n            ``\\n        },\\n        selectRow(item) {\\n            if (typeof item === 'object') {\\n                this.selectedOrders.push(item);\\n            } else {\\n                let _x;\\n                this.selectedOrders.map((salesOrderItem, x) => {\\n                    if (salesOrderItem.name === item) _x = x;\\n                });\\n\\n                this.selectedOrders.splice(_x, 1);\\n            }\\n            //console.log(JSON.stringify(this.selectedOrders.map(item=>item.parent)));\\n        },\\n    },\\n    watch: {\\n        patient_number() {\\n            this.fetchSalesOrders();\\n        }\\n    },\\n    created() {\\n        this.fetchSalesOrders();\\n    },\\n    filters: {\\n        // Filter definitions\\n        dateFormat(date) {\\n            let current_datetime = new Date(date);\\n            return current_datetime.getFullYear() + \\\"-\\\" + (current_datetime.getMonth() + 1) + \\\"-\\\" + current_datetime.getDate() + \\\" \\\" +\\n                current_datetime.getHours() + \\\":\\\" + current_datetime.getMinutes() //+ \\\":\\\" + current_datetime.getSeconds()\\n        },\\n        Upper(value) {\\n            return value.toUpperCase();\\n        },\\n        numberWithCommas(x) {\\n            if (x) {\\n                return x.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \\\",\\\");\\n            }\\n            return 0;\\n        }\\n    }\\n}\\n</script>\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (false) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import { getPatientInvoices,finalizeInvoice } from \"../../../../../services/patient_chart/accounts.js\";\nimport { getPatientInvoices } from \"../../../../services/patient_chart/accounts.js\";\n\nconst __vue_script__ = {\n    name: 'Invoices',\n    props: {\n        patient_number: {\n            type: String,\n            default: \" \",\n            required: true,\n        },\n        appointment_number: {\n            type: String,\n            default: \" \",\n            required: true,\n        },\n    },\n    data() {\n        return {\n            invoices: [],\n        };\n    },\n    methods: {\n        finalizeInvoices() {\n            if (this.invoices.length) {\n                let salesInvoice = {\n                    name: this.invoices[0].parent\n                };\n                finalizeInvoice(salesInvoice).then((data) => {\n                    frappe.show_alert({\n                        message: `Invoice finalized`,\n                        indicator: 'green'\n                    }, 5);\n                    this.fetchInvoices();\n                });\n            } else {\n                frappe.show_alert({\n                    message: `No invoice(s) to finalize`,\n                    indicator: 'orange'\n                }, 5);\n            }\n        },\n        fetchInvoices() {\n            // ,appointment_number:this.appointment_number\n            getPatientInvoices({ patient_number: this.patient_number })\n                .then((data) => {\n                    //    console.log(JSON.stringify(data));\n                    this.invoices = data;\n                });\n        }\n    },\n    watch: {\n        patient_number() {\n            this.fetchInvoices();\n        }\n    },\n    created() {\n        this.fetchInvoices();\n    },\n    filters: {\n        // Filter definitions\n        dateFormat(date) {\n            let current_datetime = new Date(date);\n            return current_datetime.getFullYear() + \"-\" + (current_datetime.getMonth() + 1) + \"-\" + current_datetime.getDate() + \" \" +\n                current_datetime.getHours() + \":\" + current_datetime.getMinutes() + \":\" + current_datetime.getSeconds()\n        },\n        Upper(value) {\n            return value.toUpperCase();\n        },\n        numberWithCommas(x) {\n            if (x) {\n                return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n            }\n            return 0;\n        }\n    }\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"b-row\",\n        [\n          _c(\"b-col\", [\n            _c(\n              \"div\",\n              {\n                staticStyle: { display: \"flex\", \"justify-content\": \"flex-end\" }\n              },\n              [\n                _c(\n                  \"b-button-group\",\n                  {\n                    staticStyle: { \"margin-right\": \"16px\", \"margin-top\": \"4px\" }\n                  },\n                  [\n                    _c(\n                      \"b-button\",\n                      {\n                        staticStyle: { \"margin-right\": \"2px\" },\n                        attrs: { variant: \"primary\" },\n                        on: { click: _vm.fetchInvoices }\n                      },\n                      [_vm._v(\"Refresh \")]\n                    )\n                  ],\n                  1\n                )\n              ],\n              1\n            )\n          ])\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-row\",\n        [\n          _c(\"b-col\", [\n            _c(\n              \"table\",\n              { staticClass: \"table table-striped table-bordered\" },\n              [\n                _c(\"thead\", [\n                  _c(\"tr\", [\n                    _c(\"th\", [_vm._v(\"Item\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Invoice\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Customer\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Status\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Date\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Quantity\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Rate\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Amount\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Sales Order\")])\n                  ])\n                ]),\n                _vm._v(\" \"),\n                _vm._l(_vm.invoices, function(invoiceItem) {\n                  return _c(\"tr\", { key: invoiceItem.name }, [\n                    _c(\"td\", [_vm._v(_vm._s(invoiceItem.item_code))]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"span\", [_vm._v(_vm._s(invoiceItem.parent))])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"span\", [_vm._v(_vm._s(invoiceItem.customer))])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"span\", [_vm._v(_vm._s(invoiceItem.parent_status))])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"span\", [\n                        _vm._v(\n                          _vm._s(_vm._f(\"dateFormat\")(invoiceItem.creation))\n                        )\n                      ])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _vm._v(\n                        _vm._s(_vm._f(\"numberWithCommas\")(invoiceItem.qty || 1))\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _vm._v(\n                        _vm._s(\n                          _vm._f(\"numberWithCommas\")(\n                            invoiceItem.rate.toFixed(2)\n                          )\n                        )\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", { staticStyle: { \"text-align\": \"right\" } }, [\n                      _c(\"span\", [\n                        _vm._v(\n                          _vm._s(\n                            _vm._f(\"numberWithCommas\")(\n                              invoiceItem.amount.toFixed(2)\n                            )\n                          )\n                        )\n                      ])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"span\", [_vm._v(_vm._s(invoiceItem.sales_order))])\n                    ])\n                  ])\n                })\n              ],\n              2\n            )\n          ])\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = undefined\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n    <div>\\n        <!-- {{ invoices }} -->\\n        <b-row>\\n            <b-col>\\n                <div style=\\\"display: flex; justify-content: flex-end\\\">\\n                    <b-button-group style=\\\"margin-right:16px;margin-top:4px;\\\">\\n                        <!-- <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"finalizeInvoices\\\">Finalize Invoices</b-button> -->\\n                        <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"fetchInvoices\\\">Refresh </b-button>\\n                    </b-button-group>\\n                </div>\\n            </b-col>\\n        </b-row>\\n        <b-row>\\n            <b-col>\\n                <table class=\\\"table table-striped table-bordered\\\">\\n                    <thead>\\n                        <tr>\\n                            <th>Item</th>\\n                            <th>Invoice</th>\\n                            <th>Customer</th>\\n                             <th>Status</th>\\n                            <th>Date</th>\\n                            <th>Quantity</th>\\n                            <th>Rate</th>\\n                            <th>Amount</th>\\n                            <th>Sales Order</th>\\n                            <!-- <th>Account</th> -->\\n                            <!-- <th>Action</th> -->\\n                        </tr>\\n                    </thead>\\n                    <tr v-for=\\\"invoiceItem in invoices\\\" :key=\\\"invoiceItem.name\\\">\\n                        <td>{{ invoiceItem.item_code }}</td>\\n                        <td><span>{{ invoiceItem.parent }}</span> </td>\\n                        <td><span>{{ invoiceItem.customer }}</span> </td>\\n                        <td><span>{{ invoiceItem.parent_status }}</span> </td>\\n                        <td><span>{{ invoiceItem.creation | dateFormat}}</span> </td>\\n                        <td>{{ invoiceItem.qty || 1 | numberWithCommas }}</td>\\n                        <td>{{ invoiceItem.rate.toFixed(2) | numberWithCommas }}</td>\\n                        <td style=\\\"text-align: right;\\\"><span>{{ invoiceItem.amount.toFixed(2) | numberWithCommas }}</span> </td>\\n                        <td><span>{{ invoiceItem.sales_order}}</span> </td>\\n                    </tr>\\n                </table>\\n            </b-col>\\n        </b-row>\\n    </div>\\n</template>\\n\\n<script>\\n// import { getPatientInvoices,finalizeInvoice } from \\\"../../../../../services/patient_chart/accounts.js\\\";\\nimport { getPatientInvoices } from \\\"../../../../services/patient_chart/accounts.js\\\";\\n\\nexport default {\\n    name: 'Invoices',\\n    props: {\\n        patient_number: {\\n            type: String,\\n            default: \\\" \\\",\\n            required: true,\\n        },\\n        appointment_number: {\\n            type: String,\\n            default: \\\" \\\",\\n            required: true,\\n        },\\n    },\\n    data() {\\n        return {\\n            invoices: [],\\n        };\\n    },\\n    methods: {\\n        finalizeInvoices() {\\n            if (this.invoices.length) {\\n                let salesInvoice = {\\n                    name: this.invoices[0].parent\\n                };\\n                finalizeInvoice(salesInvoice).then((data) => {\\n                    frappe.show_alert({\\n                        message: `Invoice finalized`,\\n                        indicator: 'green'\\n                    }, 5);\\n                    this.fetchInvoices();\\n                });\\n            } else {\\n                frappe.show_alert({\\n                    message: `No invoice(s) to finalize`,\\n                    indicator: 'orange'\\n                }, 5);\\n            }\\n        },\\n        fetchInvoices() {\\n            // ,appointment_number:this.appointment_number\\n            getPatientInvoices({ patient_number: this.patient_number })\\n                .then((data) => {\\n                    //    console.log(JSON.stringify(data));\\n                    this.invoices = data;\\n                });\\n        }\\n    },\\n    watch: {\\n        patient_number() {\\n            this.fetchInvoices();\\n        }\\n    },\\n    created() {\\n        this.fetchInvoices();\\n    },\\n    filters: {\\n        // Filter definitions\\n        dateFormat(date) {\\n            let current_datetime = new Date(date);\\n            return current_datetime.getFullYear() + \\\"-\\\" + (current_datetime.getMonth() + 1) + \\\"-\\\" + current_datetime.getDate() + \\\" \\\" +\\n                current_datetime.getHours() + \\\":\\\" + current_datetime.getMinutes() + \\\":\\\" + current_datetime.getSeconds()\\n        },\\n        Upper(value) {\\n            return value.toUpperCase();\\n        },\\n        numberWithCommas(x) {\\n            if (x) {\\n                return x.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \\\",\\\");\\n            }\\n            return 0;\\n        }\\n    }\\n}\\n</script>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (false) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n    getPrescriptionRefills,\n    updatePrescriptionRefillRate,\n    updatePrescriptionRefillQuantity,\n    createRefillSalesOrder,\n    dispensePrescriptionRefill\n} from '../../../../services/pharmacy/prescriptions.js'\nconst __vue_script__ = {\n    name: 'Refills',\n    props: {\n        patient_number: {\n            type: String,\n            default: \" \",\n            required: true,\n        }\n    },\n    data() {\n        return {\n            refills: [],\n        };\n    },\n    methods: {\n        dispense(refillrefills) {\n            dispensePrescriptionRefill({ refill_name: refillrefills.name }).then(r => {\n                frappe.show_alert({\n                    message: `Refill Dispensed`,\n                    indicator: 'green'\n                }, 5);\n                this.getRefills();\n            })\n        },\n        numberOfUnitsChange(refillrefills) {\n            updatePrescriptionRefillQuantity({\n                refill_name: refillrefills.name,\n                qty: refillrefills.dispensed_quantity,\n            }).then(result => {\n                this.loading = false;\n                this.refills.map((item, x) => {\n                    if (item.name === result.name) {\n                        Vue.set(this.refills, x, result);\n                    }\n                });\n                frappe.show_alert({\n                    message: `Drug  #${refillrefills.drug_code} unit changed.`,\n                    indicator: 'green'\n                }, 5);\n                // this.itemUnitsChanged();\n            })\n        },\n        createSalesOrder(refillrefills) {\n            createRefillSalesOrder({ refill_doc_name: refillrefills.name }).then(r => {\n                frappe.show_alert({\n                    message: `Sales Order created`,\n                    indicator: 'green'\n                }, 5);\n                this.getRefills();\n            })\n        },\n        updateRefillQty(refillItem, qty) {\n            updatePrescriptionRefillQuantity({\n                refill_name: refillItem.name,\n                qty\n            }).then(r => {\n                frappe.show_alert({\n                    message: `Quantity for ${r.name} updated`,\n                    indicator: 'green'\n                }, 5);\n                this.getRefills();\n            })\n        },\n        refreshRefillRate(refillrefills) {\n            // refill_name\n            updatePrescriptionRefillRate({ refill_name: refillrefills.name }).then(response => {\n                frappe.show_alert({\n                    message: `Price rate for ${response.name} updated`,\n                    indicator: 'green'\n                }, 5);\n                this.getRefills();\n            })\n        },\n        getRefills() {\n            getPrescriptionRefills({ patient_name: this.patient_number })\n                .then((data) => {\n                    //    console.log(JSON.stringify(data));\n                    this.refills = data;\n                });\n        }\n    },\n    watch: {\n        patient_number() {\n            this.getRefills();\n        }\n    },\n    created() {\n        this.getRefills();\n    },\n    filters: {\n        // Filter definitions\n        dateFormat(date) {\n            let current_datetime = new Date(date);\n            return current_datetime.getFullYear() + \"-\" + (current_datetime.getMonth() + 1) + \"-\" + current_datetime.getDate() + \" \" +\n                current_datetime.getHours() + \":\" + current_datetime.getMinutes() + \":\" + current_datetime.getSeconds()\n        },\n        Upper(value) {\n            return value.toUpperCase();\n        },\n        numberWithCommas(x) {\n            if (x) {\n                return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n            }\n            return 0;\n        }\n    }\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"b-row\",\n        [\n          _c(\n            \"b-col\",\n            [\n              _c(\"b-alert\", { attrs: { variant: \"primary\", show: \"\" } }, [\n                _vm._v(\n                  \"Rates may be different due to new stock, click refresh rate in actions to update\"\n                )\n              ])\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-row\",\n        [\n          _c(\"b-col\", [\n            _c(\n              \"table\",\n              { staticClass: \"table table-striped table-bordered\" },\n              [\n                _c(\"thead\", [\n                  _c(\"tr\", [\n                    _c(\"th\", [_vm._v(\"Date\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Drug\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Refill Qty\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Quantity\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Sales Order\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Rate\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Amount\")]),\n                    _vm._v(\" \"),\n                    _c(\"th\", [_vm._v(\"Action\")])\n                  ])\n                ]),\n                _vm._v(\" \"),\n                _vm._l(_vm.refills, function(refillrefills) {\n                  return _c(\"tr\", { key: refillrefills.name }, [\n                    _c(\"td\", [\n                      _c(\"span\", [\n                        _vm._v(\n                          _vm._s(_vm._f(\"dateFormat\")(refillrefills.creation))\n                        )\n                      ])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [_vm._v(_vm._s(refillrefills.drug_code))]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _vm._v(\n                        _vm._s(\n                          _vm._f(\"numberWithCommas\")(\n                            refillrefills.refill_quantity\n                          )\n                        )\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      !refillrefills.sales_order\n                        ? _c(\"span\", { staticStyle: { \"max-width\": \"70px\" } }, [\n                            _c(\"input\", {\n                              directives: [\n                                {\n                                  name: \"model\",\n                                  rawName: \"v-model.trim\",\n                                  value: refillrefills.dispensed_quantity,\n                                  expression:\n                                    \"refillrefills.dispensed_quantity\",\n                                  modifiers: { trim: true }\n                                }\n                              ],\n                              ref: refillrefills.drug_prescription,\n                              refInFor: true,\n                              staticStyle: { width: \"60px\" },\n                              attrs: {\n                                type: \"number\",\n                                min: \"1\",\n                                id: \"numberOfUnits\"\n                              },\n                              domProps: {\n                                value: refillrefills.dispensed_quantity\n                              },\n                              on: {\n                                change: function($event) {\n                                  return _vm.numberOfUnitsChange(refillrefills)\n                                },\n                                input: function($event) {\n                                  if ($event.target.composing) {\n                                    return\n                                  }\n                                  _vm.$set(\n                                    refillrefills,\n                                    \"dispensed_quantity\",\n                                    $event.target.value.trim()\n                                  )\n                                },\n                                blur: function($event) {\n                                  return _vm.$forceUpdate()\n                                }\n                              }\n                            })\n                          ])\n                        : _c(\"span\", { staticClass: \"form-group\" }, [\n                            _vm._v(\n                              \"\\n                                    \" +\n                                _vm._s(refillrefills.dispensed_quantity) +\n                                \"\\n                                \"\n                            )\n                          ])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _vm._v(\n                        _vm._s(refillrefills.sales_order || \"Not Invoiced\")\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _vm._v(\n                        _vm._s(\n                          _vm._f(\"numberWithCommas\")(\n                            refillrefills.rate.toFixed(2)\n                          )\n                        )\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", { staticStyle: { \"text-align\": \"right\" } }, [\n                      _c(\"span\", [\n                        _vm._v(\n                          \"\\n                            \" +\n                            _vm._s(\n                              _vm._f(\"numberWithCommas\")(\n                                Math.ceil(\n                                  refillrefills.rate *\n                                    refillrefills.dispensed_quantity\n                                ).toFixed(2) || 1\n                              )\n                            ) +\n                            \"\\n                        \"\n                        )\n                      ])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"td\",\n                      [\n                        _c(\n                          \"b-dropdown\",\n                          {\n                            staticClass: \"m-md-2\",\n                            attrs: {\n                              id: \"dropdown-1\",\n                              variant: \"outline-primary\",\n                              text: \"Actions\"\n                            }\n                          },\n                          [\n                            refillrefills.sales_order\n                              ? _c(\n                                  \"b-dropdown-item\",\n                                  {\n                                    attrs: { variant: \"primary\" },\n                                    on: {\n                                      click: function($event) {\n                                        return _vm.dispense(refillrefills)\n                                      }\n                                    }\n                                  },\n                                  [_vm._v(\"Dispense\")]\n                                )\n                              : _vm._e(),\n                            _vm._v(\" \"),\n                            !refillrefills.sales_order\n                              ? _c(\n                                  \"b-dropdown-item\",\n                                  {\n                                    attrs: { variant: \"primary\" },\n                                    on: {\n                                      click: function($event) {\n                                        return _vm.createSalesOrder(\n                                          refillrefills\n                                        )\n                                      }\n                                    }\n                                  },\n                                  [_vm._v(\"Sales Order\")]\n                                )\n                              : _vm._e(),\n                            _vm._v(\" \"),\n                            !refillrefills.sales_order\n                              ? _c(\n                                  \"b-dropdown-item\",\n                                  {\n                                    attrs: { variant: \"primary\" },\n                                    on: {\n                                      click: function($event) {\n                                        return _vm.refreshRefillRate(\n                                          refillrefills\n                                        )\n                                      }\n                                    }\n                                  },\n                                  [_vm._v(\"Refresh Rates\")]\n                                )\n                              : _vm._e()\n                          ],\n                          1\n                        )\n                      ],\n                      1\n                    )\n                  ])\n                })\n              ],\n              2\n            )\n          ])\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = undefined\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n    <div>\\n        <!-- {{ refills }} -->\\n        <b-row>\\n            <b-col>\\n                <b-alert variant=\\\"primary\\\" show>Rates may be different due to new stock, click refresh rate in actions to update</b-alert>\\n            </b-col>\\n        </b-row>\\n        <b-row>\\n            <b-col>\\n                <table class=\\\"table table-striped table-bordered\\\">\\n                    <thead>\\n                        <tr>\\n                            <!-- <th>Name</th> -->\\n                            <th>Date</th>\\n                            <th>Drug</th>\\n                            <th>Refill Qty</th>\\n                            <th>Quantity</th>\\n                            <th>Sales Order</th>\\n    \\n                            <th>Rate</th>\\n                            <th>Amount</th>\\n                            <!-- <th>Account</th> -->\\n                            <th>Action</th>\\n                        </tr>\\n                    </thead>\\n                    <tr v-for=\\\"refillrefills in refills\\\" :key=\\\"refillrefills.name\\\">\\n                        <!-- <td>{{ refillrefills.name }}</td> -->\\n                        <td><span>{{ refillrefills.creation | dateFormat}}</span> </td>\\n                        <td>{{ refillrefills.drug_code }}</td>\\n                        <td>{{ refillrefills.refill_quantity | numberWithCommas }}</td>\\n                        <!-- <td><span>{{ refillrefills.dispensed_quantity | numberWithCommas }}</span> </td>\\n                                            @change=\\\"itemUnitsChanged\\\"\\n                                            @input=\\\"itemUnitsChanged\\\"\\n                            \\n                             -->\\n                        <td>\\n                            <span v-if=\\\"!refillrefills.sales_order\\\" style=\\\"max-width: 70px;\\\">\\n                                        <input\\n                                            :ref=\\\"refillrefills.drug_prescription\\\"\\n                                            type=\\\"number\\\"\\n                                            min=\\\"1\\\"\\n                                            style=\\\"width: 60px;\\\"\\n                                            id=\\\"numberOfUnits\\\"\\n                                            v-model.trim=\\\"refillrefills.dispensed_quantity\\\"\\n                                            v-on:change=\\\"numberOfUnitsChange(refillrefills)\\\"\\n                                        />\\n                                        </span>\\n                            <span v-else class=\\\"form-group\\\">\\n                                        {{ refillrefills.dispensed_quantity }}\\n                                    </span>\\n                        </td>\\n                        <td>{{ refillrefills.sales_order || 'Not Invoiced' }}</td>\\n                        <td>{{ refillrefills.rate.toFixed(2) | numberWithCommas }}</td>\\n                        <td style=\\\"text-align: right;\\\"><span>\\n                                {{\\n                                Math.ceil(refillrefills.rate * refillrefills.dispensed_quantity).toFixed(2) ||\\n                                1 | numberWithCommas\\n                                }}\\n                            </span> </td>\\n                        <td>\\n                            <b-dropdown id=\\\"dropdown-1\\\" variant=\\\"outline-primary\\\" text=\\\"Actions\\\" class=\\\"m-md-2\\\">\\n                                <b-dropdown-item v-if=\\\"refillrefills.sales_order\\\" variant=\\\"primary\\\" @click=\\\"dispense(refillrefills)\\\">Dispense</b-dropdown-item>\\n                                <b-dropdown-item v-if=\\\"!refillrefills.sales_order\\\" variant=\\\"primary\\\" @click=\\\"createSalesOrder(refillrefills)\\\">Sales Order</b-dropdown-item>\\n                                <b-dropdown-item v-if=\\\"!refillrefills.sales_order\\\" variant=\\\"primary\\\" @click=\\\"refreshRefillRate(refillrefills)\\\">Refresh Rates</b-dropdown-item>\\n                            </b-dropdown>\\n                        </td>\\n                    </tr>\\n                </table>\\n            </b-col>\\n        </b-row>\\n    </div>\\n</template>\\n\\n<script>\\nimport {\\n    getPrescriptionRefills,\\n    updatePrescriptionRefillRate,\\n    updatePrescriptionRefillQuantity,\\n    createRefillSalesOrder,\\n    dispensePrescriptionRefill\\n} from '../../../../services/pharmacy/prescriptions.js'\\nexport default {\\n    name: 'Refills',\\n    props: {\\n        patient_number: {\\n            type: String,\\n            default: \\\" \\\",\\n            required: true,\\n        }\\n    },\\n    data() {\\n        return {\\n            refills: [],\\n        };\\n    },\\n    methods: {\\n        dispense(refillrefills) {\\n            dispensePrescriptionRefill({ refill_name: refillrefills.name }).then(r => {\\n                frappe.show_alert({\\n                    message: `Refill Dispensed`,\\n                    indicator: 'green'\\n                }, 5);\\n                this.getRefills();\\n            })\\n        },\\n        numberOfUnitsChange(refillrefills) {\\n            updatePrescriptionRefillQuantity({\\n                refill_name: refillrefills.name,\\n                qty: refillrefills.dispensed_quantity,\\n            }).then(result => {\\n                this.loading = false;\\n                this.refills.map((item, x) => {\\n                    if (item.name === result.name) {\\n                        Vue.set(this.refills, x, result);\\n                    }\\n                });\\n                frappe.show_alert({\\n                    message: `Drug  #${refillrefills.drug_code} unit changed.`,\\n                    indicator: 'green'\\n                }, 5);\\n                // this.itemUnitsChanged();\\n            })\\n        },\\n        createSalesOrder(refillrefills) {\\n            createRefillSalesOrder({ refill_doc_name: refillrefills.name }).then(r => {\\n                frappe.show_alert({\\n                    message: `Sales Order created`,\\n                    indicator: 'green'\\n                }, 5);\\n                this.getRefills();\\n            })\\n        },\\n        updateRefillQty(refillItem, qty) {\\n            updatePrescriptionRefillQuantity({\\n                refill_name: refillItem.name,\\n                qty\\n            }).then(r => {\\n                frappe.show_alert({\\n                    message: `Quantity for ${r.name} updated`,\\n                    indicator: 'green'\\n                }, 5);\\n                this.getRefills();\\n            })\\n        },\\n        refreshRefillRate(refillrefills) {\\n            // refill_name\\n            updatePrescriptionRefillRate({ refill_name: refillrefills.name }).then(response => {\\n                frappe.show_alert({\\n                    message: `Price rate for ${response.name} updated`,\\n                    indicator: 'green'\\n                }, 5);\\n                this.getRefills();\\n            })\\n        },\\n        getRefills() {\\n            getPrescriptionRefills({ patient_name: this.patient_number })\\n                .then((data) => {\\n                    //    console.log(JSON.stringify(data));\\n                    this.refills = data;\\n                });\\n        }\\n    },\\n    watch: {\\n        patient_number() {\\n            this.getRefills();\\n        }\\n    },\\n    created() {\\n        this.getRefills();\\n    },\\n    filters: {\\n        // Filter definitions\\n        dateFormat(date) {\\n            let current_datetime = new Date(date);\\n            return current_datetime.getFullYear() + \\\"-\\\" + (current_datetime.getMonth() + 1) + \\\"-\\\" + current_datetime.getDate() + \\\" \\\" +\\n                current_datetime.getHours() + \\\":\\\" + current_datetime.getMinutes() + \\\":\\\" + current_datetime.getSeconds()\\n        },\\n        Upper(value) {\\n            return value.toUpperCase();\\n        },\\n        numberWithCommas(x) {\\n            if (x) {\\n                return x.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \\\",\\\");\\n            }\\n            return 0;\\n        }\\n    }\\n}\\n</script>\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (false) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "export const api = ({ method, args = {}, freeze = true }) =>\n    new Promise((resolve, reject) =>\n        frappe.call({\n            method,\n            args,\n            freeze,\n            callback: ({ message }) => resolve(message),\n            error: reject,\n        })\n    );\n\n/**\n * @returns {Promise}\n * @param service_unit string\n */\nexport const getPatientsPerServiceUnit = ({\n        serviceUnit: service_unit,\n        servicePoint: service_point,\n        search = \"\",\n        traverse = \"\"\n    }) =>\n    api({\n        method: \"clinical.api.patients.get_patients_per_service_unit\",\n        args: {\n            service_unit,\n            service_point,\n            search,\n            traverse\n        },\n        freeze:false\n    });\n\n/**\n * @returns {Promise<any[]>}\n */\nexport const getMyServiceUnits = () =>\n    api({\n        method: \"clinical.clinical.doctype.user_service_unit.user_service_unit.get_user_service_unit\",\n    });\n\nexport const getMyServicePoints = (service_unit) =>\n    api({\n        method: \"clinical.clinical.doctype.service_point.service_point.get_unit_service_points\",\n        args: {\n            service_unit,\n        },\n    });\n\nexport const getMyLocation = () =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.get_my_location\",\n        args: {},\n    });\n\nexport const updatePractitionerOccupancy = (service_unit, service_point) =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.update_practitioner_occupancy\",\n        args: {\n            service_unit,\n            service_point,\n        },\n    });\n\nexport const vacateServicePoint = (service_unit) =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.vacate_service_point\",\n        args: {\n            service_unit,\n        },\n    });\n\nexport const viewPatientsInQueue = (service_unit) =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.view_patients_in_queue\",\n        args: {\n            service_unit,\n        },\n    });\n\nexport const queuePatientToNextServiceStage = (\n        queue_state,\n        appointment,\n        service_point,\n        passed_status\n    ) =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.queue_patient_to_next_service_stage\",\n        args: {\n            queue_state,\n            appointment,\n            service_point,\n            passed_status\n        },\n    });\n\nexport const getAllQueueStatus = () =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.get_all_queue_status\",\n        args: {},\n    });\n\nexport const callPatientIn = (queue_state) =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.call_patient_in\",\n        args: {\n            queue_state,\n        },\n    });\n\nexport const stopPatientAnnouncement = (queue_state) =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.stop_patient_announcement\",\n        args: {\n            queue_state,\n        },\n    });\n\nexport const getPatientsCurrentlySeeingDoctors = (service_unit) =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.get_patients_currently_seeing_doctors\",\n        args: {\n            service_unit,\n        },\n    });\n\nexport const getAnnouncedPatients = (service_unit) =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.get_announced_patients\",\n        args: {\n            service_unit,\n        },\n    });\n\nexport const getPatientsAwaiting = (service_unit, status) =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.get_number_of_patients_awaiting\",\n        args: {\n            service_unit,\n            status,\n        },\n    });\n\nexport const reinforceQueueTransfer = (service_unit) =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.reinforce_queue_transfers\",\n        args: {\n            service_unit,\n        },\n    });\n\n/**\n * @returns {Promise<any[]>}\n */\nexport const getPatientInfo = (patient) =>\n    api({\n        method: \"erpnext.healthcare.doctype.patient.patient.get_patient_detail\",\n        args: {\n            patient,\n        },\n    });\n\n/**\n * @returns {Promise<any[]>}\n */\nexport const getMyPatientTabPermissions = () =>\n    api({\n        method: \"clinical.clinical.doctype.patient_tab_permissions.patient_tab_permissions.get_patient_tabs_user_can_view\",\n    });\n\nexport const getMyPatientTabPermissionsForFilters = () =>\n    api({\n        method: \"clinical.clinical.doctype.patient_tab_permissions.patient_tab_permissions.get_patient_tabs_for_filter\",\n    });\n\nexport const getMedicationOrderReadOnlyStatus = () =>\n    api({\n        method: \"clinical.clinical.doctype.patient_tab_permissions.patient_tab_permissions.get_medication_order_read_only_status\",\n    });\nexport const getProcedureReadOnlyStatus = () =>\n    api({\n        freeze: false,\n        method: \"clinical.clinical.doctype.patient_tab_permissions.patient_tab_permissions.get_procedure_read_only_status\",\n    });\nexport const getPatientMedicationOrders = (patient) =>\n    api({\n        method: \"clinical.api.inpatient_drug_administration.inpatient_drug_administration.fetch_medication_orders\",\n        args: {\n            entry: { patient },\n        },\n    });\n\nexport const getPatientUnboundedMedicationOrder = (payload) =>\n    api({\n        method: \"clinical.api.inpatient_drug_administration.inpatient_drug_administration.fetch_medication_order\",\n        args: {\n            entry: payload,\n        },\n    });\n   \nexport const createMedicationEntry = ({ order, ward }) =>\n    api({\n        method: \"clinical.api.inpatient_drug_administration.medication_entry.create_medication_entry\",\n        args: {\n            order,\n            ward,\n        },\n    });\n\nexport const validatePFNumber = (number) =>\n    api({\n        method: \"clinical.api.inpatient_drug_administration.medication_entry.validate_employee\",\n        freeze: false,\n        args: {\n            number: number.trim(),\n        },\n    });\n\nexport const getPractitionerMedicationOrders = (patient) =>\n    api({\n        method: \"clinical.api.inpatient_medication_orders.inpatient_medication_orders.get_doctor_medication_orders\",\n        args: {\n            patient,\n            patient_encounter_status: \"1\",\n        },\n    });\n\nexport const getUnsubmittedMedicationOrders = (\n        patient,\n        patient_encounter = \"\"\n    ) =>\n    api({\n        method: \"clinical.api.inpatient_medication_orders.inpatient_medication_orders.get_doctor_medication_orders\",\n        args: {\n            patient,\n            patient_encounter_status: \"0\",\n            patient_encounter,\n        },\n    });\n\nexport const cancelMedicationOrder = (name) =>\n    api({\n        method: \"clinical.api.inpatient_medication_orders.inpatient_medication_orders.cancel_inpatient_medication_order\",\n        args: {\n            name,\n        },\n    });\n\nexport const createMedicationOrder = (order) =>\n    api({\n        method: \"clinical.api.inpatient_medication_orders.inpatient_medication_orders.create_inpatient_medication_order\",\n        args: {\n            order,\n        },\n    });\n\nexport const createPrescription = (order, order_list, type) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.create_prescription\",\n        args: {\n            order,\n            order_list,\n            type,\n        },\n    });\n\nexport const createDoctorsPrescription = (order, order_list, type) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.make_doctors_prescription\",\n        args: {\n            order,\n            order_list,\n            type,\n        },\n    });\nexport const getPrescriptions = (patient) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_prescriptions\",\n        args: {\n            patient,\n        },\n    });\n\nexport const getDoctorsPrescriptions = (patient) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_doctors_prescriptions\",\n        args: {\n            patient,\n        },\n    });\n\nexport const addAProcedure = (procedure, ward, is_walk_in) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.add_clinical_procedure\",\n        args: {\n            procedure,\n            ward,\n            is_walk_in,\n        },\n    });\n\nexport const getProcedures = (patient) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_procedures\",\n        args: {\n            patient,\n        },\n    });\n\nexport const getUnsubmittedProcedures = (patient, practitioner) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_unsubmitted_procedures\",\n        args: {\n            patient,\n            practitioner,\n        },\n    });\n\nexport const getInpatientMedications = (patient, inpatient_record) =>\n    api({\n        method: \"clinical.api.patients.get_inpatient_medications\",\n        args: {\n            patient,\n            inpatient_record,\n        },\n    });\n\n\nexport const getInpatientClinicalProcedures = (patient, inpatient_record) =>\n    api({\n        method: \"clinical.api.patients.get_inpatient_clinical_procedures\",\n        args: {\n            patient,\n            inpatient_record,\n        },\n    });\n\nexport const getInpatientLabTests = (patient, inpatient_record) =>\n    api({\n        method: \"clinical.api.patients.get_inpatient_lab_tests\",\n        args: {\n            patient,\n            inpatient_record,\n        },\n    });\n\nexport const getInpatientDischargeNotes = (patient, inpatient_record) =>\n    api({\n        method: \"clinical.api.patients.get_inpatient_discharge_notes\",\n        args: {\n            patient,\n            inpatient_record,\n        },\n    });\n\nexport const getInpatientDoctorsNotes = (patient, inpatient_record) =>\n    api({\n        method: \"clinical.api.patients.get_inpatient_doctors_notes\",\n        args: {\n            patient,\n            inpatient_record,\n        },\n    });\n\nexport const addALabPrescription = ({\n        encounter_name,\n        lab_test_code,\n        lab_test_comment,\n    }) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.add_lab_prescription\",\n        args: {\n            encounter_name,\n            lab_test_code,\n            lab_test_comment,\n        },\n    });\n\nexport const getTemplatePOCStatus = (lab_test_code) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_template_poc_status\",\n        args: {\n            lab_test_code: lab_test_code,\n        },\n    });\n\nexport const getNormalRange = (lab_test_code) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_normal_range\",\n        args: {\n            lab_test_code: lab_test_code,\n        },\n    });\n\nexport const getRangeNote = (lab_test_code, result_value) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_range_note\",\n        args: {\n            lab_test_code: lab_test_code,\n            result_value: result_value,\n        },\n    });\n\nexport const getLabPrescriptions = (patient) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_lab_prescriptions\",\n        args: {\n            patient,\n        },\n    });\n\nexport const getCancelledLabPrescriptions = (patient) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_cancelled_lab_prescriptions\",\n        args: {\n            patient,\n        },\n    });\n\nexport const submitLabPrescriptions = ({\n        service_unit,\n        admission_status,\n        encounter_name,\n    }) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.submit_and_bill_lab_prescriptions\",\n        args: {\n            service_unit,\n            admission_status,\n            encounter_name,\n        },\n    });\n\nexport const cancelLabPrescription = (encounter_name, prescription_name) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.cancel_lab_prescription\",\n        args: {\n            encounter_name,\n            prescription_name,\n        },\n    });\n\nexport const deleteLabPrescription = (encounter_name, prescription_name) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.delete_lab_prescription\",\n        args: {\n            encounter_name,\n            prescription_name,\n        },\n    });\n\nexport const postPOCLabTestResults = (poc_lab_test_results) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.post_poc_lab_test_results\",\n        args: {\n            poc_lab_test_results,\n        },\n    });\n\nexport const getTherapies = (patient) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.get_therapies\",\n        args: {\n            patient,\n        },\n    });\n\nexport const addARehabilitationTherapy = (therapy) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.add_rehab_therapy\",\n        args: {\n            therapy,\n        },\n    });\n\nexport const createPatientEncounter = (patient, is_walk_in) =>\n    api({\n        method: \"clinical.api.patient_encounter.patient_encounter.create_patient_encounter\",\n        args: {\n            patient,\n            is_walk_in,\n        },\n    });\n\nexport const checkOpenAppointment = (patient) =>\n    api({\n        method: \"clinical.api.patient_encounter.patient_encounter.check_open_appointment\",\n        args: {\n            patient,\n        },\n    });\n\nexport const makeStockEntry = ({ warehouse, item_code, quantity }) =>\n    api({\n        method: \"clinical.api.prescription.stock.make_stock_entry_for_stockable_items\",\n        args: {\n            warehouse,\n            item_code,\n            quantity\n        },\n    });\n\n\nexport const getDraftPatientEncounters = (patient,source='',service_unit={}) =>\n    api({\n        method: \"clinical.api.patient_encounter.patient_encounter.get_draft_patient_encounter\",\n        args: {\n            patient,\n            source,\n            service_unit\n        },\n    });\n\nexport const submitEncounter = (name, service_unit = {}, to_bill = true, origin, isWalkIn) => {\n    return api({\n        method: \"clinical.api.patient_encounter.patient_encounter.submit\",\n        args: {\n            name,\n            doctype: \"Patient Encounter\",\n            service_unit,\n            to_bill: to_bill ? 1 : 0,\n            origin,\n            is_walk_in: isWalkIn\n        },\n    });\n}\n\nexport const submitMedicationOrder = (name) =>\n    api({\n        method: \"clinical.api.patient_encounter.patient_encounter.submit\",\n        args: {\n            name,\n            doctype: \"Inpatient Medication Order\",\n        },\n    });\nexport const removePrescription = (encounter_name, prescription_name) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.remove_prescription\",\n        args: {\n            encounter_name,\n            prescription_name,\n        },\n    });\n\nexport const getDraftMedicationOrder = (patient) =>\n    api({\n        method: \"clinical.api.inpatient_medication_orders.inpatient_medication_orders.get_draft_medication_orders\",\n        args: {\n            patient,\n        },\n    });\n\nexport const getClinicalProcedures = (patient) => {\n    return api({\n        method: \"clinical.api.orders.prescriptions.get_clinical_procedures\",\n        args: {\n            patient,\n        },\n    });\n};\n\nexport const addNotesToProcedure = (procedure, notes = \"\") =>\n    api({\n        method: \"clinical.api.orders.prescriptions.add_notes_to_procedure\",\n        args: {\n            procedure,\n            notes,\n        },\n    });\n\nexport const startOrFinishprocedure = (procedure, status = \"Start\") =>\n    api({\n        method: \"clinical.api.orders.prescriptions.start_finish_procedure\",\n        args: {\n            procedure,\n            status,\n        },\n    });\n\nexport const createProcedureChargesDraft = (procedure, procedure_template) =>\n    api({\n        method: \"clinical.api.clinical_procedure.clinical_procedure.create_procedure_charges_draft\",\n        args: {\n            procedure,\n            procedure_template,\n        },\n    });\n\nexport const submitAndBillProcedure = (document, name, is_emergency, origin) =>\n    api({\n        method: \"clinical.api.patient_encounter.patient_encounter.submit_clinical_procedure\",\n        args: {\n            document,\n            name,\n            is_emergency,\n            origin,\n        },\n    });\n\nexport const getDoc = (doctype, name) =>\n    api({\n        method: \"frappe.client.get\",\n        args: {\n            doctype,\n            name,\n        },\n    });\n\nexport const createSalesOrder = (data) =>\n    api({\n        method: \"billing.billing.api.sales_orders.sales_order_endpoint.create_sales_order_endpoint\",\n        args: {\n            data,\n        },\n    });\n\nexport const closeAppointment = (appointment_number) =>\n    api({\n        method: \"clinical.api.patient_encounter.patient_encounter.close_appointment\",\n        args: {\n            appointment_number,\n        },\n    });\n\nexport const scheduleAdmission = (args) =>\n    api({\n        method: \"clinical.api.patient_encounter.patient_encounter.schedule_admission\",\n        args,\n    });\n\nexport const admitPatient = (args) =>\n    api({\n        method: \"clinical.api.patient_encounter.patient_encounter.admit_patient\",\n        args,\n    });\n\nexport const checkAdmissionEligibility = ({\n        inpatient_record = \"\",\n        service_unit = \"\",\n    }) =>\n    api({\n        method: \"clinical.api.patient_encounter.patient_encounter.check_admission_eligibility\",\n        args: {\n            inpatient_record,\n            service_unit,\n        },\n    });\n\nexport const createInpatientTransfer = ({\n        patient,\n        inpatient_record,\n        target_medical_department,\n        initiating_service_unit,\n        initiating_bed,\n        target_service_unit,\n        target_bed,\n    }) =>\n    api({\n        method: \"clinical.api.patients.create_inpatient_transfer\",\n        args: {\n            patient,\n            inpatient_record,\n            target_medical_department,\n            initiating_service_unit,\n            initiating_bed,\n            target_service_unit,\n            target_bed,\n        },\n    });\n\n\nexport const transferOutpatient = ({\n        queue_state,\n        service_unit,\n    }) =>\n    api({\n        method: \"clinical.api.queue_management.queue_logistics.transfer_outpatient_in_queue\",\n        args: {\n            queue_state,\n            service_unit,\n        },\n    });\n\nexport const getPatientAgeAndGender = (patient) =>\n    api({\n        method: \"clinical.api.patients.get_patient_age_and_gender\",\n        args: {\n            patient,\n        },\n    });\n\n\n/**\n * @returns {Promise<any[]>}\n */\nexport const transferPatient = (args) =>\n    api({\n        method: \"clinical.api.patients.transfer_inpatient\",\n        args,\n    });\n\nexport const rejectPatientTransfer = ({ inpatient_transfer, status }) =>\n    api({\n        method: \"clinical.api.patients.update_inpatient_transfer\",\n        args: {\n            inpatient_transfer,\n            status,\n        },\n    });\n\nexport const changePatientMedicalRecord = ({ patient,document }) =>\n    api({\n        method: \"clinical.api.appointment.appointment.change_patient_medical_record\",\n        args: {\n            patient,\n            document\n        },\n    });\n\nexport const generateGatePass = ({ patient }) =>\n    api({\n        method: \"clinical.api.patients.generate_gate_pass_from_user_action\",\n        args: {\n            patient,\n        },\n    });\n\n/**\n * @returns {Promise<any[]>}\n */\nexport const checkStockAvailability = (args) =>\n    api({\n        method: \"erpnext.stock.dashboard.item_dashboard.get_data\",\n        args,\n    });\n\n/**\n * @returns {Promise<any[]>}\n */\nexport const getAlternativeDrugs = (drug_name) =>\n    api({\n        method: \"clinical.api.prescription.prescription.get_drug_item_alternates\",\n        args: {\n            drug_name,\n        },\n    });\n\nexport const addComment = (args) =>\n    api({\n        method: \"clinical.api.orders.prescriptions.add_comment\",\n        args,\n    });\n\nexport const cancelUnsubmittedProcedure = (encounter, procedure_name) => {\n    return api({\n        method: \"clinical.api.clinical_procedure.clinical_procedure.cancel_unsubmitted_procedure\",\n        args: { encounter, procedure_name },\n    });\n};\n\n// cancel_clinical_procedure\nexport const cancelClinicalProcedure = (procedure_name) => {\n    return api({\n        method: \"clinical.api.clinical_procedure.clinical_procedure.cancel_clinical_procedure\",\n        args: { procedure_name },\n    });\n};\n\nexport const bulkRescheduleAppointments = (args) => {\n    return api({\n        method: \"clinical.api.appointment.appointment.reschedule_appointments\",\n        args,\n    });\n};\n\nexport const getDrugMappings = (args) => {\n    return api({\n        method: \"clinical.api.orders.prescriptions.get_drug_options\",\n        args,\n    });\n};\n\nexport const getDrugGroups = (args = {}) => {\n    return api({\n        method: \"clinical.api.orders.prescriptions.get_drug_item_groups\",\n        args,\n    }).then((data) => {\n        console.warn(data)\n        return data\n    })\n}", "/* script */\n//\n//\n//\n//\n//\n//\n\nimport { createPrescription, getPrescriptions, createPatientEncounter, checkOpenAppointment, removePrescription, api } from \"../../../../services/patient_chart/api\"\n\nconst __vue_script__ = {\n    name: \"AddPrescription\",\n    data () {\n        return {\n            medicationItemGroups: [],\n\n        };\n    },\n\n    methods: {\n         fetchItemGroups() {\n            api({\n                method:'clinical.api.prescription.prescription.get_is_prescription_item',\n                args: {\n                    \n                },\n\n            }).then(res => {\n                this.medicationItemGroups = res; \n                this.addPrescription();\n            })\n        },\n        addPrescription() {\n            let parent = this;\n            const fields = [{\n                    label: 'Start Date',\n                    fieldname: 'start_date',\n                    fieldtype: 'Date',\n                    reqd: true,\n                    default: frappe.datetime.now_datetime(),\n                    in_list_view: 1,\n                    columns: 1\n                },\n                {\n                    label: 'Drug',\n                    fieldname: 'drug_code',\n                    fieldtype: 'Link',\n                    options: 'Item',\n                    reqd: true,\n                    in_list_view: 1,\n                    // filters: { is_stock_item: 1, disabled: 0, has_variants: 'No' },\n                    filters: { is_stock_item: 1, disabled: 0, has_variants: 'No', item_group: ['IN', parent.medicationItemGroups] },\n                    columns: 2\n                },\n                {\n                    label: 'Dosage',\n                    fieldname: 'dosage',\n                    fieldtype: 'Link',\n                    options: 'Prescription Dosage',\n                    reqd: true,\n                    in_list_view: 1,\n                    columns: 1\n                },\n                {\n                    label: 'Period',\n                    fieldname: 'period',\n                    fieldtype: 'Link',\n                    options: 'Prescription Duration',\n                    reqd: true,\n                    in_list_view: 1,\n                    columns: 1\n                },\n                {\n                    label: 'Dosage Form',\n                    fieldname: 'dosage_form',\n                    fieldtype: 'Link',\n                    options: 'Dosage Form',\n                    reqd: true,\n                    in_list_view: 1,\n                    columns: 1\n                },\n                {\n                    label: 'Comments/Instructions',\n                    fieldname: 'comment',\n                    fieldtype: 'Small Text',\n                    in_list_view: 1,\n                    columns: 2\n                },\n            ];\n\n            const me = this;\n            const dialog = new frappe.ui.Dialog({\n                title: 'Add a Prescription',\n                fields: [{\n                        label: 'Patient',\n                        fieldname: 'patient',\n                        fieldtype: 'Link',\n                        options: 'Patient',\n                        reqd: true,\n                        in_list_view: 1,\n                    },\n                    {\n                        fieldname: \"drug_list\",\n                        fieldtype: \"Table\",\n                        label: \"Drugs\",\n                        cannot_add_rows: false,\n                        in_place_edit: true,\n                        reqd: 1,\n                        data: [],\n                        fields\n                    }\n                ],\n                primary_action_label: 'Submit',\n                primary_action: (values) => {\n                    me.loading = true;\n                    //dialog.get_primary_btn().attr(\"disabled\", true);\n                    checkOpenAppointment(values.patient).then(\n                        res => {\n                            if (res === true) {\n                                createPatientEncounter(values.patient, this.walkin).then((val) => {\n                                    const current = me\n\n                                    createPrescription({ ...values, patient_name: values.patient, encounter: val.name }, values.drug_list, \"Multiple\").then((encounter) => {\n                                        // current.updateEncounter(encounter)\n                                        dialog.hide();\n\n                                        frappe.show_alert({\n                                            message: `Prescription Saved`,\n                                            indicator: 'green'\n                                        }, 5);\n                                    });\n                                });\n                            } else {\n                                frappe.show_alert({\n                                    message: `Ensure the patient has an open appointment`,\n                                    indicator: 'red'\n                                }, 5);\n                            }\n\n                        }\n                    );\n\n\n                },\n            });\n\n            dialog.show();\n            dialog.$wrapper.find('.modal-content').css(\"width\", \"1000px\");\n            dialog.$wrapper.find('.modal-content').css(\"margin-left\", \"-200px\");\n\n\n        },\n    },\n\n    watch: {\n\n    },\n    created() {\n\n    },\n    computed: {},\n    components: {\n\n    },\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"b-button\",\n        {\n          staticStyle: { \"margin-right\": \"2px\" },\n          attrs: { variant: \"primary\" },\n          on: { click: _vm.fetchItemGroups }\n        },\n        [_vm._v(\"Add Prescription\")]\n      )\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-767b329c_0\", { source: \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\", map: {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"AddPrescription.vue\"}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n    <div>\\n        <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"fetchItemGroups\\\">Add Prescription</b-button>\\n    </div>\\n</template>\\n\\n<script>\\nimport { createPrescription, getPrescriptions, createPatientEncounter, checkOpenAppointment, removePrescription, api } from \\\"../../../../services/patient_chart/api\\\"\\n\\nexport default {\\n    name: \\\"AddPrescription\\\",\\n    data () {\\n        return {\\n            medicationItemGroups: [],\\n\\n        };\\n    },\\n\\n    methods: {\\n         fetchItemGroups() {\\n            api({\\n                method:'clinical.api.prescription.prescription.get_is_prescription_item',\\n                args: {\\n                    \\n                },\\n\\n            }).then(res => {\\n                this.medicationItemGroups = res; \\n                this.addPrescription();\\n            })\\n        },\\n        addPrescription() {\\n            let parent = this;\\n            const fields = [{\\n                    label: 'Start Date',\\n                    fieldname: 'start_date',\\n                    fieldtype: 'Date',\\n                    reqd: true,\\n                    default: frappe.datetime.now_datetime(),\\n                    in_list_view: 1,\\n                    columns: 1\\n                },\\n                {\\n                    label: 'Drug',\\n                    fieldname: 'drug_code',\\n                    fieldtype: 'Link',\\n                    options: 'Item',\\n                    reqd: true,\\n                    in_list_view: 1,\\n                    // filters: { is_stock_item: 1, disabled: 0, has_variants: 'No' },\\n                    filters: { is_stock_item: 1, disabled: 0, has_variants: 'No', item_group: ['IN', parent.medicationItemGroups] },\\n                    columns: 2\\n                },\\n                {\\n                    label: 'Dosage',\\n                    fieldname: 'dosage',\\n                    fieldtype: 'Link',\\n                    options: 'Prescription Dosage',\\n                    reqd: true,\\n                    in_list_view: 1,\\n                    columns: 1\\n                },\\n                {\\n                    label: 'Period',\\n                    fieldname: 'period',\\n                    fieldtype: 'Link',\\n                    options: 'Prescription Duration',\\n                    reqd: true,\\n                    in_list_view: 1,\\n                    columns: 1\\n                },\\n                {\\n                    label: 'Dosage Form',\\n                    fieldname: 'dosage_form',\\n                    fieldtype: 'Link',\\n                    options: 'Dosage Form',\\n                    reqd: true,\\n                    in_list_view: 1,\\n                    columns: 1\\n                },\\n                {\\n                    label: 'Comments/Instructions',\\n                    fieldname: 'comment',\\n                    fieldtype: 'Small Text',\\n                    in_list_view: 1,\\n                    columns: 2\\n                },\\n            ];\\n\\n            const me = this;\\n            const dialog = new frappe.ui.Dialog({\\n                title: 'Add a Prescription',\\n                fields: [{\\n                        label: 'Patient',\\n                        fieldname: 'patient',\\n                        fieldtype: 'Link',\\n                        options: 'Patient',\\n                        reqd: true,\\n                        in_list_view: 1,\\n                    },\\n                    {\\n                        fieldname: \\\"drug_list\\\",\\n                        fieldtype: \\\"Table\\\",\\n                        label: \\\"Drugs\\\",\\n                        cannot_add_rows: false,\\n                        in_place_edit: true,\\n                        reqd: 1,\\n                        data: [],\\n                        fields\\n                    }\\n                ],\\n                primary_action_label: 'Submit',\\n                primary_action: (values) => {\\n                    me.loading = true;\\n                    //dialog.get_primary_btn().attr(\\\"disabled\\\", true);\\n                    checkOpenAppointment(values.patient).then(\\n                        res => {\\n                            if (res === true) {\\n                                createPatientEncounter(values.patient, this.walkin).then((val) => {\\n                                    const current = me\\n\\n                                    createPrescription({ ...values, patient_name: values.patient, encounter: val.name }, values.drug_list, \\\"Multiple\\\").then((encounter) => {\\n                                        // current.updateEncounter(encounter)\\n                                        dialog.hide();\\n\\n                                        frappe.show_alert({\\n                                            message: `Prescription Saved`,\\n                                            indicator: 'green'\\n                                        }, 5);\\n                                    });\\n                                });\\n                            } else {\\n                                frappe.show_alert({\\n                                    message: `Ensure the patient has an open appointment`,\\n                                    indicator: 'red'\\n                                }, 5);\\n                            }\\n\\n                        }\\n                    );\\n\\n\\n                },\\n            });\\n\\n            dialog.show();\\n            dialog.$wrapper.find('.modal-content').css(\\\"width\\\", \\\"1000px\\\");\\n            dialog.$wrapper.find('.modal-content').css(\\\"margin-left\\\", \\\"-200px\\\");\\n\\n\\n        },\\n    },\\n\\n    watch: {\\n\\n    },\\n    created() {\\n\\n    },\\n    computed: {},\\n    components: {\\n\\n    },\\n};\\n</script>\\n\\n<style>\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n  getDrugsAwaitingDispense,\n  dispenseStockEntry,\n  cancelOrderedPrescription,\n  cancelOrderReadyForDispense\n} from \"../../../../services/pharmacy/prescriptions.js\";\nconst __vue_script__ = {\n  name: \"AwaitingDispense\",\n  props: {\n      selectedPharmacy: {\n      type: String,\n      default: \"\",\n      required: true,\n    },\n    patientNumber: {\n      type: String,\n      default: \"\",\n      required: true,\n    },\n    queueState: {\n      type: Object,\n      default: {},\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      unpaidFields: [\n        \"drug_name\",\n        \"item_name\",\n        {key: 'creation', label: 'Creation', formatter: (value, key, item) => moment(item.creation).fromNow()},\n        \"sales_order\",\n        { key: \"to_dispense\", label: \"Quantity\" },\n        {\n          key: \"total_amount\",\n          label: \"Total Amount\",\n          formatter: (value, key, item) => Number(value).toLocaleString(),\n        },\n        \"payment_status\",\n        { key: \"actions\", label: \" \" },\n      ],\n      unpaidItems: [],\n      fields: [\n        \"drug_name\",\n        \"item_name\",\n        {key: 'creation', label: 'Creation', formatter: (value, key, item) => moment(item.creation).fromNow()},\n        \"payment_status\",\n        { key: \"to_dispense\", label: \"Quantity\" },\n        \"dosage\",\n        \"dosage_form\",\n        \"instructions\",\n        { key: \"actions\", label: \"\" },\n      ],\n      totalUnpaid: 0,\n      drugs: [],\n      dispensed: [],\n      dispensedFields: [\n        \"drug_name\",\n        \"item_name\",\n        { key: \"to_dispense\", label: \"Quantity\" },\n        \"dosage_form\",\n        \"instructions\",\n      ],\n    };\n  },\n  mounted() {\n    this.mountMethod();\n  },\n  methods: {\n    onDispense(item) {\n      console.log(item);\n      dispenseStockEntry({\n        warehouse: item.item.warehouse,\n        patient_name: this.patientNumber,\n        prescription_item: item.item.name,\n        sales_order: item.item.sales_order,\n        doctors_prescription: item.item.prescription_name,\n      }).then(() => {\n        frappe.show_alert(\n          {\n            message: `Stocks Updated`,\n            indicator: \"green\",\n          },\n          15\n        );\n        this.mountMethod();\n        removeFromQueue({ queue_state_name: parent.queueState.name }).then(\n          (r) => {\n            console.log(\"REMOVED FROM QUEUE\");\n          }\n        );\n      });\n    },\n    cancelToDispense(item) {\n      frappe.confirm(\n        \"Are you sure you want to cancel this order?\",\n        () => {\n         cancelOrderReadyForDispense(item).then(() => {\n        this.mountMethod();\n      })\n        },\n        () => {\n          // action to perform if No is selected\n        }\n      );\n    },\n    onCancel(item) {\n      cancelOrderedPrescription(item).then(() => {\n        this.mountMethod();\n      });\n    },\n    mountMethod() {\n      getDrugsAwaitingDispense({ patient: this.patientNumber }).then(\n        (drugs) => {\n          this.drugs = drugs.filter((e) => e.payment_status === \"Completed\" || e.payment_status === \"Pending Supplies Approval\");\n          this.unpaidItems = drugs.filter(\n            (e) => e.payment_status !== \"Completed\" && e.payment_status !== \"Pending Supplies Approval\"\n          );\n          this.totalUnpaid = Math.ceil(\n            this.unpaidItems.reduce((a, b) => a + parseFloat(b.total_amount), 0)\n          );\n        }\n      );\n      getDrugsAwaitingDispense({\n        patient: this.patientNumber,\n        status: \"Dispensed\",\n      }).then((drugs) => {\n        this.dispensed = drugs;\n      });\n    },\n  },\n  watch: {\n    patientNumber() {\n      this.mountMethod();\n    },\n  },\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _vm.unpaidItems.length\n        ? _c(\"h4\", [_vm._v(\"Unpaid for Prescriptions\")])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.unpaidItems.length\n        ? _c(\"b-table\", {\n            attrs: { fields: _vm.unpaidFields, items: _vm.unpaidItems },\n            scopedSlots: _vm._u(\n              [\n                {\n                  key: \"cell(actions)\",\n                  fn: function(row) {\n                    return [\n                      _c(\n                        \"b-button\",\n                        {\n                          attrs: { variant: \"danger\" },\n                          on: {\n                            click: function($event) {\n                              return _vm.onCancel(row.item)\n                            }\n                          }\n                        },\n                        [_vm._v(\"Cancel\")]\n                      )\n                    ]\n                  }\n                }\n              ],\n              null,\n              false,\n              1303916300\n            )\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          staticStyle: {\n            display: \"flex\",\n            \"justify-content\": \"space-between\",\n            padding: \"16px\",\n            background: \"lightgray\",\n            \"align-items\": \"center\"\n          }\n        },\n        [\n          _c(\"h4\", [_vm._v(\"Total Unpaid Amount\")]),\n          _vm._v(\" \"),\n          _c(\"strong\", [_c(\"h4\", [_vm._v(\"KES \" + _vm._s(_vm.totalUnpaid))])])\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"h4\", [_vm._v(\"Awaiting Dispense\")]),\n      _vm._v(\" \"),\n      _c(\"b-table\", {\n        attrs: { fields: _vm.fields, items: _vm.drugs },\n        scopedSlots: _vm._u([\n          {\n            key: \"cell(actions)\",\n            fn: function(row) {\n              return [\n                _c(\n                  \"b-button\",\n                  {\n                    attrs: { variant: \"primary\" },\n                    on: {\n                      click: function($event) {\n                        return _vm.onDispense(row)\n                      }\n                    }\n                  },\n                  [_vm._v(\"Dispense\")]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"b-button\",\n                  {\n                    staticStyle: { \"margin-left\": \"8px\" },\n                    attrs: { variant: \"danger\" },\n                    on: {\n                      click: function($event) {\n                        return _vm.cancelToDispense(row.item)\n                      }\n                    }\n                  },\n                  [_vm._v(\"Cancel\")]\n                )\n              ]\n            }\n          }\n        ])\n      }),\n      _vm._v(\" \"),\n      _c(\"h4\", [_vm._v(\"Dispensed\")]),\n      _vm._v(\" \"),\n      _c(\"b-table\", {\n        attrs: { fields: _vm.dispensedFields, items: _vm.dispensed }\n      })\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = undefined\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n  <div>\\n    <h4 v-if=\\\"unpaidItems.length\\\">Unpaid for Prescriptions</h4>\\n    <b-table\\n      v-if=\\\"unpaidItems.length\\\"\\n      :fields=\\\"unpaidFields\\\"\\n      :items=\\\"unpaidItems\\\"\\n    >\\n      <template #cell(actions)=\\\"row\\\">\\n        <b-button @click=\\\"onCancel(row.item)\\\" variant=\\\"danger\\\">Cancel</b-button>\\n      </template>\\n    </b-table>\\n    <div\\n      style=\\\"\\n        display: flex;\\n        justify-content: space-between;\\n        padding: 16px;\\n        background: lightgray;\\n        align-items: center;\\n      \\\"\\n    >\\n      <h4>Total Unpaid Amount</h4>\\n      <strong>\\n        <h4>KES {{ totalUnpaid }}</h4>\\n      </strong>\\n    </div>\\n    <h4>Awaiting Dispense</h4>\\n    <b-table :fields=\\\"fields\\\" :items=\\\"drugs\\\">\\n      <template #cell(actions)=\\\"row\\\">\\n        <b-button @click=\\\"onDispense(row)\\\" variant=\\\"primary\\\">Dispense</b-button>\\n        <b-button\\n          style=\\\"margin-left: 8px\\\"\\n          @click=\\\"cancelToDispense(row.item)\\\"\\n          variant=\\\"danger\\\"\\n          >Cancel</b-button\\n        >\\n      </template>\\n    </b-table>\\n    <h4>Dispensed</h4>\\n    <b-table :fields=\\\"dispensedFields\\\" :items=\\\"dispensed\\\"> </b-table>\\n  </div>\\n</template>\\n<script>\\nimport {\\n  getDrugsAwaitingDispense,\\n  dispenseStockEntry,\\n  cancelOrderedPrescription,\\n  cancelOrderReadyForDispense\\n} from \\\"../../../../services/pharmacy/prescriptions.js\\\";\\nexport default {\\n  name: \\\"AwaitingDispense\\\",\\n  props: {\\n      selectedPharmacy: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    },\\n    patientNumber: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    },\\n    queueState: {\\n      type: Object,\\n      default: {},\\n      required: true,\\n    },\\n  },\\n\\n  data() {\\n    return {\\n      unpaidFields: [\\n        \\\"drug_name\\\",\\n        \\\"item_name\\\",\\n        {key: 'creation', label: 'Creation', formatter: (value, key, item) => moment(item.creation).fromNow()},\\n        \\\"sales_order\\\",\\n        { key: \\\"to_dispense\\\", label: \\\"Quantity\\\" },\\n        {\\n          key: \\\"total_amount\\\",\\n          label: \\\"Total Amount\\\",\\n          formatter: (value, key, item) => Number(value).toLocaleString(),\\n        },\\n        \\\"payment_status\\\",\\n        { key: \\\"actions\\\", label: \\\" \\\" },\\n      ],\\n      unpaidItems: [],\\n      fields: [\\n        \\\"drug_name\\\",\\n        \\\"item_name\\\",\\n        {key: 'creation', label: 'Creation', formatter: (value, key, item) => moment(item.creation).fromNow()},\\n        \\\"payment_status\\\",\\n        { key: \\\"to_dispense\\\", label: \\\"Quantity\\\" },\\n        \\\"dosage\\\",\\n        \\\"dosage_form\\\",\\n        \\\"instructions\\\",\\n        { key: \\\"actions\\\", label: \\\"\\\" },\\n      ],\\n      totalUnpaid: 0,\\n      drugs: [],\\n      dispensed: [],\\n      dispensedFields: [\\n        \\\"drug_name\\\",\\n        \\\"item_name\\\",\\n        { key: \\\"to_dispense\\\", label: \\\"Quantity\\\" },\\n        \\\"dosage_form\\\",\\n        \\\"instructions\\\",\\n      ],\\n    };\\n  },\\n  mounted() {\\n    this.mountMethod();\\n  },\\n  methods: {\\n    onDispense(item) {\\n      console.log(item);\\n      dispenseStockEntry({\\n        warehouse: item.item.warehouse,\\n        patient_name: this.patientNumber,\\n        prescription_item: item.item.name,\\n        sales_order: item.item.sales_order,\\n        doctors_prescription: item.item.prescription_name,\\n      }).then(() => {\\n        frappe.show_alert(\\n          {\\n            message: `Stocks Updated`,\\n            indicator: \\\"green\\\",\\n          },\\n          15\\n        );\\n        this.mountMethod();\\n        removeFromQueue({ queue_state_name: parent.queueState.name }).then(\\n          (r) => {\\n            console.log(\\\"REMOVED FROM QUEUE\\\");\\n          }\\n        );\\n      });\\n    },\\n    cancelToDispense(item) {\\n      frappe.confirm(\\n        \\\"Are you sure you want to cancel this order?\\\",\\n        () => {\\n         cancelOrderReadyForDispense(item).then(() => {\\n        this.mountMethod();\\n      })\\n        },\\n        () => {\\n          // action to perform if No is selected\\n        }\\n      );\\n    },\\n    onCancel(item) {\\n      cancelOrderedPrescription(item).then(() => {\\n        this.mountMethod();\\n      });\\n    },\\n    mountMethod() {\\n      getDrugsAwaitingDispense({ patient: this.patientNumber }).then(\\n        (drugs) => {\\n          this.drugs = drugs.filter((e) => e.payment_status === \\\"Completed\\\" || e.payment_status === \\\"Pending Supplies Approval\\\");\\n          this.unpaidItems = drugs.filter(\\n            (e) => e.payment_status !== \\\"Completed\\\" && e.payment_status !== \\\"Pending Supplies Approval\\\"\\n          );\\n          this.totalUnpaid = Math.ceil(\\n            this.unpaidItems.reduce((a, b) => a + parseFloat(b.total_amount), 0)\\n          );\\n        }\\n      );\\n      getDrugsAwaitingDispense({\\n        patient: this.patientNumber,\\n        status: \\\"Dispensed\\\",\\n      }).then((drugs) => {\\n        this.dispensed = drugs;\\n      });\\n    },\\n  },\\n  watch: {\\n    patientNumber() {\\n      this.mountMethod();\\n    },\\n  },\\n};\\n</script>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (false) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "export default {\n    customerInfo: {}\n};", "export default {\n    SET_CUSTOMER_INFO(state, customerInfo) {\n        state.customerInfo = customerInfo;\n    },\n};", "import {\n    /*getPrescriptions,\n    getPatientPrescriptionsV2,\n    updatePrescriptionItem,\n    createPrescriptionInvoice,\n    getPrescriptionInvoice,\n    setPrescriptionInvoiceNumber,\n    getDrugItemAlternates,\n    updatePrescriptionItemDrug,\n    getPrecriptionDrugUnitPrice,\n    getWarehouses,\n    updatePrescriptionWarehouse,\n    dispensePrescription,\n    prescriptionItemMaterialRequest,\n    dispenseStockEntry,\n    prescriptionChangeComment,\n    createPrescriptionSalesOrder\n    */\n    customerInfomation,\n} from '../../services/pharmacy/prescriptions.js'\nexport default {\n    fetchCustomerInfomation({ commit }, patient) {\n        customerInfomation({\n            patient_name: patient,\n        }).then(result => {\n            if (result) {\n                commit('SET_CUSTOMER_INFO', result);\n            }\n        });\n    }\n};", "export default {\n    customerInfo: state => state.customerInfo\n};", "import state from \"./state\";\nimport mutations from \"./mutations\";\nimport actions from \"./actions\";\nimport getters from \"./getters\";\n\nexport default {\n    // isRegistered: false,\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n    getters\n};", "export default {\n    prescription: []\n};", "export default {\n    SET_PRESCRIPTIONS(state, prescription) {\n        state.prescription = prescription;\n    },\n};", "import {\n    /*getPrescriptions,\n    ,\n    updatePrescriptionItem,\n    createPrescriptionInvoice,\n    getPrescriptionInvoice,\n    setPrescriptionInvoiceNumber,\n    getDrugItemAlternates,\n    updatePrescriptionItemDrug,\n    getPrecriptionDrugUnitPrice,\n    getWarehouses,\n    updatePrescriptionWarehouse,\n    dispensePrescription,\n    prescriptionItemMaterialRequest,\n    dispenseStockEntry,\n    prescriptionChangeComment,\n    createPrescriptionSalesOrder\n    */\n    // customerInfomation,\n    getPatientPrescriptionsV2\n}\nfrom '../../services/pharmacy/prescriptions.js'\nexport default {\n    fetchPrescription({ commit }, payload) {\n        getPatientPrescriptionsV2({\n            patient_name: payload.patient,\n            encounter_name: payload.encounter,\n            ...payload\n        }).then(result => {\n            if (result) {\n                // alert('SET_PRESCRIPTION')\n                // console.log(JSON.stringify(result))\n                // SET_PRESCRIPTION\n                commit('SET_PRESCRIPTIONS', result);\n            }\n        });\n    }\n\n};", "export default {\n    // prescription: state => state.prescription,\n    prescription: state => {\n        console.log(JSON.stringify(state.prescription))\n        return state.prescription;\n    }\n};", "import state from \"./state\";\nimport mutations from \"./mutations\";\nimport actions from \"./actions\";\nimport getters from \"./getters\";\n\nexport default {\n    // isRegistered: false,\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n    getters\n};", "export const api = ({ method, args = {}, freeze = true }) =>\n    new Promise((resolve, reject) =>\n        frappe.call({\n            method,\n            args,\n            freeze,\n            callback: ({ message }) => resolve(message),\n            error: reject,\n        })\n    );\n\nexport const getPatient = ({ patient_name }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.get_patient\",\n        args: {\n            patient_name,\n        },\n    });\n\n// export const getInvoiceFinalizations2 = (customer_number) =>\n//     api({\n//         method: \"billing.billing.api.accounts.patients.get_invoice_finalizations\",\n//         args: {\n//             customer_number\n//         },\n//     }).then(({ message }) => message);\n\nexport const getInvoiceFinalizations = (customer_number) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.get_invoice_finalizations\",\n        args: {\n            customer_number,\n        },\n    });\n//.then(({ message }) => message);\n\nexport const getPatientInvoices = ({ patient_number = \"\" }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.get_customer_invoice\",\n        args: {\n            patient_number,\n        },\n    });\n// .then(({ message }) => message);\n\nexport const savePatientScheme = ({\n        patient_name,\n        scheme_name,\n        member_number,\n        principal_member,\n        relationship_to_principal,\n        inpatient_limit,\n        outpatient_limit,\n    }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.create_patient_scheme\",\n        args: {\n            patient_name,\n            scheme_name,\n            member_number,\n            principal_member,\n            relationship_to_principal,\n            inpatient_limit,\n            outpatient_limit,\n        },\n    });\n// .then(({ message }) => message);\nexport const savePaymentEntry = ({\n        docname,\n        doctype,\n        amount,\n        account_for_change,\n        change_amount = 0,\n        amount_tendered,\n        reference_no,\n        mode_of_payment,\n    }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.create_payment_entry\",\n        args: {\n            docname,\n            doctype,\n            amount,\n            account_for_change,\n            change_amount,\n            amount_tendered,\n            reference_no,\n            mode_of_payment,\n        },\n    });\n\nexport const getPatientSalesrders = ({ patient_name = \"\" }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.get_pending_preauth_sales_orders\",\n        args: {\n            patient_name,\n        },\n    });\n// .then(({ message }) => message);\n//\nexport const authorizeSalesrder = ({ sales_order_name }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.set_sales_order_as_authorized\",\n        args: {\n            sales_order_name,\n        },\n    });\n\n\nexport const transitionSalesOrderToInvoice = ({ sales_order_name }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.transition_sales_order_to_invoice\",\n        args: {\n            sales_order_name,\n        },\n    });\n\nexport const submitSalesOrder = ({ sales_order_name }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.submit_sales_order\",\n        args: {\n            sales_order_name,\n        },\n    });\n\nexport const savePrePayment = ({\n        customer_name,\n        amount,\n        account_for_change,\n        change_amount = 0,\n        amount_tendered,\n        reference_no,\n        mode_of_payment,\n    }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.create_prepayment\",\n        args: {\n            customer_name,\n            amount,\n            account_for_change,\n            change_amount,\n            amount_tendered,\n            reference_no,\n            mode_of_payment,\n        },\n    });\n\nexport const getPatientProcedues = ({ patient_number = \"\" }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.get_patient_procedures\",\n        args: {\n            patient_number,\n        },\n    });\n\nexport const getProcedureChargess = ({ procedure_id }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.get_patient_procedures_charges\",\n        args: {\n            procedure_id,\n        },\n    });\n\nexport const appendProcedureCharges = ({ procedure_charge_name, payload }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.append_procedure_charges\",\n        args: {\n            procedure_charge_name,\n            payload,\n        },\n    });\n\nexport const submitProcedureCharges = ({ procedure_charge_name }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.submit_procedure_charges\",\n        args: {\n            procedure_charge_name,\n        },\n    });\n\nexport const getCategorizedSalesOrders = ({ patient_name }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.get_categorized_sales_orders\",\n        args: {\n            patient_name,\n        },\n    });\n\nexport const getCategorizedSalesInvoices = ({ patient_number }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.get_categorized_customer_invoice\",\n        args: {\n            patient_number,\n        },\n    });\n\nexport const getInsuranceSalesOrders = ({ patient_name }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.get_insurance_sales_orders\",\n        args: {\n            patient_name,\n        },\n    });\n\nexport const updateSalesOrderCustomer = ({\n        sales_order_name,\n        customer_group_name,\n    }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.update_sales_order_customer\",\n        args: {\n            sales_order_name,\n            customer_group_name,\n        },\n    });\n\nexport const approvePreAuth = (sales_order_name) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.approve_pre_auth\",\n        args: {\n            sales_order_name,\n        },\n    });\n\nexport const sendSalesOrderToDraft = (sales_order_name) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.send_order_to_draft\",\n        args: {\n            sales_order_name,\n        },\n    });\n\nexport const createSalesReturn = ({ invoice_name, return_amount }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.sales_return\",\n        args: {\n            invoice_name,\n            return_amount,\n        },\n    });\n\nexport const createFinalizedPayment = ({\n        finalization_name,\n        amount,\n        customer_group_name,\n        mode_of_payment,\n        reference_no,\n    }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.create_finalization_payment\",\n        args: {\n            finalization_name,\n            amount,\n            customer_group_name,\n            mode_of_payment,\n            reference_no,\n        },\n    });\n\nexport const submitInvoiceFinalization = ({ finalization_name }) =>\n    api({\n        method: \"billing.billing.api.accounts.patients.submit_finalization\",\n        args: {\n            finalization_name,\n        },\n    });\n\nexport const createCustomSalesOrder = ({\n        items,\n        warehouse,\n        customer_name,\n        patient,\n    }) =>\n    api({\n        method: \"billing.billing.api.accounts.customer.create_sales_order_from_accounts\",\n        args: {\n            items,\n            warehouse,\n            customer_name,\n            patient,\n        },\n    });\n\nexport const getUserWarehouses = () =>\n    api({\n        method: \"billing.billing.api.accounts.customer.get_user_permitted_warehouses\",\n        args: {},\n    });\n\n//from\n\nexport const getItemPriceListRate = ({\n        item_code,\n        customer,\n        warehouse = \"\",\n        qty = 1,\n    }) =>\n    api({\n        method: \"billing.billing.api.sales_orders.sales_order_endpoint.get_price_list_rate\",\n        args: {\n            item_code,\n            customer,\n            warehouse,\n            qty,\n        },\n    });\n\nexport const fetchConditionalItemPrice = ({\n        item_code,\n        customer,\n        patient,\n        warehouse = \"\",\n        qty = 1,\n    }) =>\n    api({\n        method: \"billing.billing.api.sales_orders.sales_order_endpoint.fetch_conditional_item_price\",\n        args: {\n            item_code,\n            customer,\n            patient,\n            warehouse,\n            qty,\n        },\n    });\n\nexport const itemStockBalance = ({ item_code }) =>\n    api({\n        method: \"clinical.api.warehouse.warehouse.get_item_stock_quantities\",\n        args: {\n            item_code,\n        },\n    });\n\nexport const markSalesOrderAsPosted = ({ sales_order_name }) =>\napi({\n    method: \"billing.billing.api.sales_invoice.create_sales_invoice.post_sales_order\",\n    args: {\n        sales_order_name,\n    },\n});\n\nexport const apppendSalesOrderToInvoice = ({ customer_name }) =>\napi({\n    method: \"billing.billing.api.sales_invoice.create_sales_invoice.invoice_sales_orders\",\n    args: {\n        customer_name,\n    },\n});\n//.then(({ message }) => message)\n\nexport const changeSalesOrderCustomer = (args) =>\napi({\n    method: \"billing.billing.api.sales_invoice.create_sales_invoice.change_invoice_customer\",\n    args\n});", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { get_item_dashboard_data } from \"../../../utils\";\nimport Paginator from \"../../util/Paginator.vue\";\nimport PatientInfo from \"./PatientInfo.vue\";\nimport UserPrescription from \"./UserPrescription.vue\";\n// import Accounts from './Accounts.vue'\nimport SalesOrder from \"./SalesOrder.vue\";\nimport Invoice from \"./Invoice.vue\";\nimport Refills from \"./Refills.vue\";\nimport AddPrescription from \"./AddPrescription.vue\";\nimport AwaitingDispense from \"./AwaitingDispense.vue\";\n\nimport {\n  getPrescriptions,\n  getPatientPrescriptionsV2,\n  addADrug,\n  getPrescriptionInvoice,\n  setPrescriptionInvoiceNumber,\n  getWarehouses,\n  updatePrescriptionWarehouse,\n  createPrescriptionSalesOrder,\n  getPatientInfo\n} from \"../../../../services/pharmacy/prescriptions.js\";\nimport customerModule from \"../../../../state/pharmacy-customer\";\nimport prescriptionModule from \"../../../../state/pharmacy-prescription\";\nimport { fetchConditionalItemPrice } from \"../../../../services/accounts/patient.js\";\nimport { updateQueueStatus } from '../../../../services/pharmacy/queue.js';\n\nconst __vue_script__ = {\n  props: {\n    queueState: {\n      type: Object,\n      default: {},\n      required: true,\n    },\n    patientName: {\n      type: String,\n      default: \"\",\n      required: true,\n    },\n    encounterName: {\n      type: String,\n      default: \"\",\n      required: true,\n    },\n    selectedPharmacy: {\n      type: String,\n      default: \"\",\n      required: true,\n    }\n  },\n  components: {\n    Paginator,\n    PatientInfo,\n    UserPrescription,\n    // Accounts\n    SalesOrder,\n    Invoice,\n    Refills,\n    AddPrescription,\n    AwaitingDispense,\n  },\n  data() {\n    return {\n      prescription: {},\n      socket: null,\n      tab: 0,\n      patientData: {},\n      patientSummary: {}\n    };\n  },\n  computed: {\n    customerInfo() {\n      return this.$store.getters[\"customerModule/customerInfo\"];\n    },\n    prescription() {\n      return this.$store.getters[\"prescriptionModule/prescription\"];\n    },\n  },\n  watch: {\n    queueState() {\n      this.socket.on(this.queueState.name, function (data) {\n        console.log(\"queueState event connected\");\n        this.getPrescriptionDrugs(\n          this.queueState.patient,\n          this.queueState.appointment\n        );\n      });\n      // console.log('****', this.queueState.patient)\n    },\n    patientName(){\n      getPatientInfo(this.patientName).then((d) => {\n        this.patientSummary = d.message.summary.vitals || {}\n      })\n      const parent = this;\n\n       frappe.call({\n             method: \"frappe.client.get\",\n             args: {\n                 doctype: \"Patient\",\n                 name: this.patientName,\n             },\n             callback(r) {\n                 parent.patientData = r.message\n             }\n         });\n    },\n    customerInfo() {\n      console.log(this.customerInfo)\n    },\n    prescription() {\n      this.totalAmount = Math.ceil(\n        this.prescription.reduce(\n          (accum, item) => accum + (item.unit_price * item.qty || 1),\n          0\n        )\n      ).toFixed(2);\n    },\n  },\n  methods: {\n    verifyMpesaPayment() {\n      frappe.require(\"/assets/frontend/js/mpesa_dialog.js\", () => {\n        frappe.db\n          .get_value(\"Patient\", this.queueState.patient, \"customer\")\n          .then(({ message }) => {\n            const customer = message.customer;\n            const callback = () => {\n              updateQueueStatus({ state_name: this.queueState.name, status: 'Payment Completed' }).then(m => {});\n            }\n            mpesaDialog(customer, this.queueState.patient, callback);\n          });\n      });\n    },\n    pullFunsoftReceipt(){\n       frappe.require(\"/assets/frontend/js/mpesa_dialog.js\", () => {\n            // chat.js is loaded\n                console.log(b)\n                funsoftBankReceipt(this.queueState.patient)\n            })\n    },\n    addDrugModal() {\n        const fields = [\n            {\n   \"fieldname\": \"item\",\n   \"fieldtype\": \"Link\",\n   \"in_list_view\": 1,\n   \"label\": \"Item\",\n   reqd: 1,\n   \"options\": \"Item\"\n  },\n  {\n   \"fetch_from\": \"item.item_name\",\n   \"fieldname\": \"item_name\",\n   \"fieldtype\": \"Data\",\n   \"label\": \"Item Name\",\n   \"read_only\": 1\n  },\n  {\n   \"fetch_from\": \"item.stock_uom\",\n   \"fieldname\": \"uom\",\n   \"fieldtype\": \"Link\",\n   \"label\": \"UOM\",\n   \"options\": \"UOM\",\n   \"read_only\": 1\n  },\n  {\n   \"fieldname\": \"dosage_form\",\n   \"fieldtype\": \"Link\",\n   \"label\": \"Dosage Form\",\n   reqd: 1,\n    \"in_list_view\": 1,\n   \"options\": \"Dosage Form\"\n  },\n  {\n   \"fieldname\": \"strength\",\n   \"fieldtype\": \"Data\",\n    \"in_list_view\": 1,\n   reqd: 1,\n   \"label\": \"Strength\"\n  },\n ];\n      const dialog = new frappe.ui.Dialog({\n        title: \"Add a Drug\",\n        fields: [\n          {\n            fieldname: \"medicine_name\",\n            fieldtype: \"Data\",\n            in_list_view: 1,\n            label: \"Medicine Name\",\n            unique: 1,\n          },\n          {\n            fieldname: \"drug_stock_detail\",\n            fieldtype: \"Table\",\n            label: \"Drug Stock Detail\",\n            options: \"Drug Stock Detail\",\n            fields,\n          },\n        ],\n        primary_action: (values) => {\n            addADrug(values).then(() => {\n                 dialog.hide();\n                 frappe.show_alert({\n                     message: 'Drug Added Succesfully',\n                     indicator: 'green'\n                 }, 10)\n            })\n        }\n      });\n      dialog.show();\n    //   dialog.$wrapper.find('.modal-dialog').css(\"width\", \"800px\");\n    },\n    onUpdateList() {\n      this.getPrescriptionDrugs(\n        this.queueState.patient,\n        this.queueState.appointment\n      );\n    },\n    getPrescriptionDrugs(patient, encounter) {\n      getPatientPrescriptionsV2({\n        patient_name: patient,\n        encounter_name: encounter,\n        fetch: \"all\",\n        // appointment_name:appointment\n      }).then((result) => {\n        if (result) {\n          // result.map((item) => {\n          //     fetchConditionalItemPrice({\n          //         item_code: item.drug_code,\n          //         patient: patient,\n          //     }).then(res => {\n\n          //         if (res.type === \"Patient\") {\n          //             item['rate'] = 0;\n          //             item['rate'] = res.price;\n          //             item['payer'] = res.type;\n\n          //         } else if (res.type === \"Copay\") {\n          //             item['rate'] = res.price;\n          //             item['remaining_quantity'] = res.remaining_quantity;\n          //             item['co_paid_quantity'] = res.co_paid_quantity;\n          //             item['payer'] = res.type;\n\n          //         } else if (res.type === \"Insurance\") {\n          //             item['rate'] = res.price;\n          //             item['payer'] = res.type;\n\n          //         } else if (res.type === \"Pre-auth Insurance\") {\n          //             item['rate'] = res.price;\n          //             item['payer'] = res.type;\n\n          //         } else if (res.type === \"Pre-auth Copay\") {\n          //             item['rate'] = res.price;\n          //             item['remaining_quantity'] = res.remaining_quantity;\n          //             item['co_paid_quantity'] = res.co_paid_quantity;\n          //             item['payer'] = res.type\n\n          //         }\n          //     })\n\n          // })\n          this.prescription = result;\n          // this.loading = false;\n        } else {\n          frappe.show_alert(\n            {\n              message: `Request Failed. Please try again`,\n              indicator: \"red\",\n            },\n            5\n          );\n        }\n      });\n      // this.$store.dispatch(\"prescriptionModule/fetchPrescription\", { patient, encounter, });\n      this.$store.dispatch(\"customerModule/fetchCustomerInfomation\", patient);\n    },\n    getConditionalItemPrice(item) {},\n    get_host: function (port = 3000) {\n      var host = window.location.origin;\n      if (window.dev_server || true) {\n        var parts = host.split(\":\");\n        port = frappe.boot.socketio_port || port.toString() || \"3000\";\n        if (parts.length > 2) {\n          host = parts[0] + \":\" + parts[1];\n        }\n        host = host + \":\" + port;\n      }\n      return host;\n    },\n  },\n  created() {\n    this.$store.registerModule(\"customerModule\", customerModule);\n    this.$store.registerModule(\"prescriptionModule\", prescriptionModule);\n    // this.getPrescriptionDrugs(this.queueState.patient, this.queueState.appointment);\n    // this.socket.on(this.queueState.name, function(data) {\n    //     console.log('queueState eventprescriptionModule connected')\n    //     this.getPrescriptionDrugs(this.queueState.patient, this.queueState.appointment);\n    // });\n  },\n  mounted() {\n    const host = this.get_host(3000);\n    const socket = io.connect();\n    this.socket = socket;\n    socket.on(\"connect\", () => {\n      console.log(\"parent connected\");\n    });\n    socket.on(this.queueState.name, function (data) {\n      console.log(\"queueState event connected\");\n      this.getPrescriptionDrugs(\n        this.queueState.patient,\n        this.queueState.appointment\n      );\n    });\n  },\n  filters: {\n    // Filter definitions\n    Upper(value) {\n      return value.toUpperCase();\n    },\n    title(str) {\n      return str.replace(/\\w([^-\\s]*)/g, function (txt) {\n        return (txt || '').charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n      });\n    },\n    numberWithCommas(x) {\n      if (x) {\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      }\n      return 0;\n    },\n  },\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticStyle: {\n        \"margin-left\": \"0.1%\",\n        \"background-color\": \"#ffffff\",\n        overflow: \"scroll\",\n        height: \"88vh\"\n      }\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticStyle: {\n            \"padding-top\": \"1%\",\n            \"margin-top\": \"1px\",\n            \"margin-left\": \"16px\",\n            \"margin-right\": \"16px\",\n            \"align-content\": \"center\",\n            \"padding-left\": \"8px\",\n            \"padding-right\": \"8px\"\n          }\n        },\n        [\n          _c(\n            \"div\",\n            {\n              staticStyle: {\n                display: \"flex\",\n                \"justify-content\": \"space-between\"\n              }\n            },\n            [\n              _c(\n                \"b-button\",\n                {\n                  staticStyle: { \"margin-right\": \"2px\" },\n                  attrs: { size: \"md\", variant: \"primary\" },\n                  on: { click: _vm.verifyMpesaPayment }\n                },\n                [_vm._v(\"Verify Mpesa\\n      \")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"b-button\",\n                {\n                  staticStyle: { \"margin-right\": \"2px\" },\n                  attrs: { size: \"md\", variant: \"secondary\" },\n                  on: { click: _vm.pullFunsoftReceipt }\n                },\n                [_vm._v(\"Pull Funsoft Receipt\\n      \")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"b-button\",\n                {\n                  staticStyle: { \"margin-right\": \"2px\" },\n                  attrs: { size: \"md\", variant: \"primary\" },\n                  on: { click: _vm.addDrugModal }\n                },\n                [_vm._v(\"Add a Drug\")]\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"hr\", {\n            staticStyle: {\n              width: \"100%\",\n              \"text-align\": \"left\",\n              \"margin-left\": \"0\",\n              \"margin-top\": \"5px\",\n              \"margin-bottom\": \"2px\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"b-row\",\n            [\n              _c(\"b-col\", [\n                _c(\"div\", [\n                  _c(\n                    \"div\",\n                    { staticStyle: { \"margin-bottom\": \"8px\", padding: \"4px\" } },\n                    [\n                      _c(\"div\", { staticStyle: { display: \"flex\" } }, [\n                        _c(\"div\", { staticStyle: { flex: \"1\" } }, [\n                          _c(\"span\", [\n                            _c(\n                              \"h3\",\n                              { staticClass: \"h3 card-text patient-name\" },\n                              [\n                                _vm._v(\n                                  \"\\n                    \" +\n                                    _vm._s(_vm.patientData.patient_name) +\n                                    \" |\\n                    \" +\n                                    _vm._s(_vm.patientData.patient_number) +\n                                    \" |\\n                  \"\n                                )\n                              ]\n                            ),\n                            _vm._v(\" \"),\n                            _c(\"span\", [\n                              _vm._v(\n                                _vm._s(\n                                  _vm.patientData.customer_group ===\n                                    \"All Customer Groups\"\n                                    ? \"CASH PAYER\"\n                                    : _vm.patientData.customer_group\n                                )\n                              )\n                            ])\n                          ])\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"div\", { staticStyle: { flex: \"1\" } }, [\n                          _c(\"div\", [\n                            _c(\"span\", [_vm._v(\"Height: \")]),\n                            _vm._v(\n                              \" \" +\n                                _vm._s(_vm.patientSummary.height) +\n                                \"\\n                \"\n                            )\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"div\", [\n                            _c(\"span\", [_vm._v(\"Weight: \")]),\n                            _vm._v(\n                              \"  \" +\n                                _vm._s(_vm.patientSummary.weight) +\n                                \"\\n                \"\n                            )\n                          ])\n                        ])\n                      ])\n                    ]\n                  )\n                ])\n              ])\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"hr\", {\n            staticStyle: {\n              width: \"100%\",\n              \"text-align\": \"left\",\n              \"margin-left\": \"0\",\n              \"margin-top\": \"2px\",\n              \"margin-bottom\": \"2px\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"b-row\",\n            [\n              _c(\"b-col\", [\n                _vm.patientName\n                  ? _c(\n                      \"div\",\n                      { staticStyle: { \"margin-top\": \"8px\", padding: \"4px\" } },\n                      [\n                        _c(\n                          \"b-tabs\",\n                          {\n                            staticClass: \"custom-tabs\",\n                            attrs: { \"content-class\": \"note-tabs-content\" },\n                            model: {\n                              value: _vm.tab,\n                              callback: function($$v) {\n                                _vm.tab = $$v\n                              },\n                              expression: \"tab\"\n                            }\n                          },\n                          [\n                            _c(\n                              \"b-tab\",\n                              { attrs: { title: \"Prescriptions\" } },\n                              [\n                                _vm.tab === 0\n                                  ? _c(\"UserPrescription\", {\n                                      attrs: {\n                                        queueState: _vm.queueState,\n                                        patientName: _vm.patientName,\n                                        encounterName: _vm.encounterName,\n                                        prescription: _vm.prescription,\n                                        patientData: _vm.patientData,\n                                        selectedPharmacy: _vm.selectedPharmacy\n                                      },\n                                      on: {\n                                        onUpdateList: function($event) {\n                                          return _vm.onUpdateList()\n                                        }\n                                      }\n                                    })\n                                  : _vm._e()\n                              ],\n                              1\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"b-tab\",\n                              { attrs: { title: \"Awaiting Dispense\" } },\n                              [\n                                _vm.tab === 1\n                                  ? _c(\"AwaitingDispense\", {\n                                      attrs: {\n                                        queueState: _vm.queueState,\n                                        patientNumber: _vm.patientName,\n                                        selectedPharmacy: _vm.selectedPharmacy\n                                      }\n                                    })\n                                  : _vm._e()\n                              ],\n                              1\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"b-tab\",\n                              { attrs: { title: \"Refills\" } },\n                              [\n                                _vm.tab === 2\n                                  ? _c(\"Refills\", {\n                                      attrs: { patient_number: _vm.patientName }\n                                    })\n                                  : _vm._e()\n                              ],\n                              1\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"b-tab\",\n                              { attrs: { title: \"Sales Orders\" } },\n                              [\n                                _vm.tab === 3\n                                  ? _c(\"SalesOrder\", {\n                                      attrs: { patient_number: _vm.patientName }\n                                    })\n                                  : _vm._e()\n                              ],\n                              1\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"b-tab\",\n                              { attrs: { title: \"Sales Invoice\" } },\n                              [\n                                _vm.tab === 4\n                                  ? _c(\"Invoice\", {\n                                      attrs: { patient_number: _vm.patientName }\n                                    })\n                                  : _vm._e()\n                              ],\n                              1\n                            )\n                          ],\n                          1\n                        )\n                      ],\n                      1\n                    )\n                  : _c(\"div\", { staticClass: \"center-image\" }, [\n                      _c(\"img\", {\n                        attrs: {\n                          src:\n                            \"https://cdn.dribbble.com/users/1449854/screenshots/4136663/no_data_found.png\",\n                          alt: \"No data IMG\"\n                        }\n                      })\n                    ])\n              ])\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ]\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-70d59b0a_0\", { source: \"\\n.center-image[data-v-70d59b0a] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-top: 10%;\\n  height: 100%;\\n  width: 100%;\\n  vertical-align: middle;\\n}\\n.center-image img[data-v-70d59b0a] {\\n  width: 300px;\\n  height: 350px;\\n  top: 20%;\\n}\\n.patient-name[data-v-70d59b0a] {\\n  text-transform: capitalize;\\n}\\n.note-tabs-content[data-v-70d59b0a] {\\n  padding: 10px;\\n  border: none;\\n  color: #676a6c;\\n}\\n\\n/* .custom-tabs {\\n  .card-header {\\n    background-color: #fff;\\n    ul {\\n      li {\\n        margin: 2px;\\n        display: flex;\\n        flex-direction: column;\\n        flex: 1 0;\\n      }\\n    }\\n  }\\n  .card-footer {\\n    min-height: 60px;\\n  }\\n} */\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/pharmacy/components/core/container/Container.vue\"],\"names\":[],\"mappings\":\";AAieA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,eAAA;EACA,YAAA;EACA,WAAA;EACA,sBAAA;AACA;AAEA;EACA,YAAA;EACA,aAAA;EACA,QAAA;AACA;AAEA;EACA,0BAAA;AACA;AAEA;EACA,aAAA;EACA,YAAA;EACA,cAAA;AACA;;AAEA;;;;;;;;;;;;;;;GAeA\",\"file\":\"Container.vue\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"\\\" style=\\\"margin-left: 0.1%; background-color: #ffffff; overflow: scroll; height: 88vh;\\\">\\n    <!-- <b-modal id=\\\"modal-prevent-closing\\\" ref=\\\"changeServiceUnitModal\\\" title=\\\"Select Pharmacy Warehouse\\\" @hidden=\\\"resetServiceUnits\\\" @ok=\\\"updateWarehouse\\\">\\n                <b-form-select v-model=\\\"warehouse\\\" :options=\\\"warehouses\\\" placeholder=\\\"Select warehouse\\\"></b-form-select>\\n                <div class=\\\"mt-3\\\">Selected: <strong>{{ warehouse }}</strong></div>\\n            </b-modal> -->\\n    <!-- <div v-if=\\\"loading\\\" style=\\\"padding-top:25%; text-align:center; height:100vh;\\\">\\n                <b-spinner style=\\\"width: 300px; height: 300px;margin:auto;\\\"></b-spinner>\\n            </div> -->\\n    <!-- v-else -->\\n    <div\\n      style=\\\"\\n        padding-top: 1%;\\n        margin-top: 1px;\\n        margin-left: 16px;\\n        margin-right: 16px;\\n        align-content: center;\\n        padding-left: 8px;\\n        padding-right: 8px;\\n      \\\"\\n    >\\n      <div style=\\\"display: flex; justify-content: space-between\\\">\\n        <b-button\\n          style=\\\"margin-right: 2px\\\"\\n          size=\\\"md\\\"\\n          variant=\\\"primary\\\"\\n          @click=\\\"verifyMpesaPayment\\\"\\n          >Verify Mpesa\\n        </b-button>\\n        <b-button\\n          style=\\\"margin-right: 2px\\\"\\n          size=\\\"md\\\"\\n          variant=\\\"secondary\\\"\\n          @click=\\\"pullFunsoftReceipt\\\"\\n          >Pull Funsoft Receipt\\n        </b-button>\\n        <b-button\\n          style=\\\"margin-right: 2px\\\"\\n          size=\\\"md\\\"\\n          variant=\\\"primary\\\"\\n          @click=\\\"addDrugModal\\\"\\n          >Add a Drug</b-button\\n        >\\n      </div>\\n      <hr\\n        style=\\\"\\n          width: 100%;\\n          text-align: left;\\n          margin-left: 0;\\n          margin-top: 5px;\\n          margin-bottom: 2px;\\n        \\\"\\n      />\\n      <b-row>\\n        <b-col>\\n          <div>\\n            <!-- {{ patientData }} -->\\n            <div style=\\\"margin-bottom: 8px; padding: 4px\\\">\\n              <div style=\\\"display:flex;\\\" class=\\\"\\\">\\n                <div style=\\\"flex: 1\\\" class=\\\"\\\">\\n                  <span>\\n                    <h3 class=\\\"h3 card-text patient-name\\\">\\n                      {{ patientData.patient_name }} |\\n                      {{ patientData.patient_number }} |\\n                    </h3>\\n                    <span>{{\\n                      patientData.customer_group === 'All Customer Groups' ? 'CASH PAYER': patientData.customer_group\\n                    }}</span>\\n                  </span>\\n                </div>\\n                <div style=\\\"flex: 1\\\">\\n                  <div>\\n                  <span>Height: </span> {{ patientSummary.height }}\\n                  </div>\\n                  <div>\\n                  <span>Weight: </span>  {{ patientSummary.weight }}\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </b-col>\\n      </b-row>\\n      <hr\\n        style=\\\"\\n          width: 100%;\\n          text-align: left;\\n          margin-left: 0;\\n          margin-top: 2px;\\n          margin-bottom: 2px;\\n        \\\"\\n      />\\n      <b-row>\\n        <b-col>\\n          <div\\n            v-if=\\\"patientName\\\"\\n            class=\\\"\\\"\\n            style=\\\"margin-top: 8px; padding: 4px\\\"\\n          >\\n            <b-tabs\\n              v-model=\\\"tab\\\"\\n              content-class=\\\"note-tabs-content\\\"\\n              class=\\\"custom-tabs\\\"\\n            >\\n              <b-tab title=\\\"Prescriptions\\\">\\n                <UserPrescription\\n                  v-if=\\\"tab === 0\\\"\\n                  :queueState=\\\"queueState\\\"\\n                  @onUpdateList=\\\"onUpdateList()\\\"\\n                  :patientName=\\\"patientName\\\"\\n                  :encounterName=\\\"encounterName\\\"\\n                  :prescription=\\\"prescription\\\"\\n                  :patientData=\\\"patientData\\\"\\n                  :selectedPharmacy=\\\"selectedPharmacy\\\"\\n                />\\n              </b-tab>\\n              <b-tab title=\\\"Awaiting Dispense\\\">\\n                <AwaitingDispense\\n                  v-if=\\\"tab === 1\\\"\\n                  :queueState=\\\"queueState\\\"\\n                  :patientNumber=\\\"patientName\\\"\\n                  :selectedPharmacy=\\\"selectedPharmacy\\\"\\n                />\\n              </b-tab>\\n              <b-tab title=\\\"Refills\\\">\\n                <Refills v-if=\\\"tab === 2\\\" :patient_number=\\\"patientName\\\" />\\n              </b-tab>\\n              <b-tab title=\\\"Sales Orders\\\">\\n                <SalesOrder v-if=\\\"tab === 3\\\" :patient_number=\\\"patientName\\\" />\\n              </b-tab>\\n              <b-tab title=\\\"Sales Invoice\\\">\\n                <Invoice v-if=\\\"tab === 4\\\" :patient_number=\\\"patientName\\\" />\\n              </b-tab>\\n            </b-tabs>\\n          </div>\\n          <div v-else class=\\\"center-image\\\">\\n            <img\\n              src=\\\"https://cdn.dribbble.com/users/1449854/screenshots/4136663/no_data_found.png\\\"\\n              alt=\\\"No data IMG\\\"\\n            />\\n          </div>\\n        </b-col>\\n      </b-row>\\n    </div>\\n  </div>\\n</template>\\n<script>\\nimport { get_item_dashboard_data } from \\\"../../../utils\\\";\\nimport Paginator from \\\"../../util/Paginator.vue\\\";\\nimport PatientInfo from \\\"./PatientInfo.vue\\\";\\nimport UserPrescription from \\\"./UserPrescription.vue\\\";\\n// import Accounts from './Accounts.vue'\\nimport SalesOrder from \\\"./SalesOrder.vue\\\";\\nimport Invoice from \\\"./Invoice.vue\\\";\\nimport Refills from \\\"./Refills.vue\\\";\\nimport AddPrescription from \\\"./AddPrescription.vue\\\";\\nimport AwaitingDispense from \\\"./AwaitingDispense.vue\\\";\\n\\nimport {\\n  getPrescriptions,\\n  getPatientPrescriptionsV2,\\n  addADrug,\\n  getPrescriptionInvoice,\\n  setPrescriptionInvoiceNumber,\\n  getWarehouses,\\n  updatePrescriptionWarehouse,\\n  createPrescriptionSalesOrder,\\n  getPatientInfo\\n} from \\\"../../../../services/pharmacy/prescriptions.js\\\";\\nimport customerModule from \\\"../../../../state/pharmacy-customer\\\";\\nimport prescriptionModule from \\\"../../../../state/pharmacy-prescription\\\";\\nimport { fetchConditionalItemPrice } from \\\"../../../../services/accounts/patient.js\\\";\\nimport { updateQueueStatus } from '../../../../services/pharmacy/queue.js';\\n\\nexport default {\\n  props: {\\n    queueState: {\\n      type: Object,\\n      default: {},\\n      required: true,\\n    },\\n    patientName: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    },\\n    encounterName: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    },\\n    selectedPharmacy: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    }\\n  },\\n  components: {\\n    Paginator,\\n    PatientInfo,\\n    UserPrescription,\\n    // Accounts\\n    SalesOrder,\\n    Invoice,\\n    Refills,\\n    AddPrescription,\\n    AwaitingDispense,\\n  },\\n  data() {\\n    return {\\n      prescription: {},\\n      socket: null,\\n      tab: 0,\\n      patientData: {},\\n      patientSummary: {}\\n    };\\n  },\\n  computed: {\\n    customerInfo() {\\n      return this.$store.getters[\\\"customerModule/customerInfo\\\"];\\n    },\\n    prescription() {\\n      return this.$store.getters[\\\"prescriptionModule/prescription\\\"];\\n    },\\n  },\\n  watch: {\\n    queueState() {\\n      this.socket.on(this.queueState.name, function (data) {\\n        console.log(\\\"queueState event connected\\\");\\n        this.getPrescriptionDrugs(\\n          this.queueState.patient,\\n          this.queueState.appointment\\n        );\\n      });\\n      // console.log('****', this.queueState.patient)\\n    },\\n    patientName(){\\n      getPatientInfo(this.patientName).then((d) => {\\n        this.patientSummary = d.message.summary.vitals || {}\\n      })\\n      const parent = this;\\n\\n       frappe.call({\\n             method: \\\"frappe.client.get\\\",\\n             args: {\\n                 doctype: \\\"Patient\\\",\\n                 name: this.patientName,\\n             },\\n             callback(r) {\\n                 parent.patientData = r.message\\n             }\\n         });\\n    },\\n    customerInfo() {\\n      console.log(this.customerInfo)\\n    },\\n    prescription() {\\n      this.totalAmount = Math.ceil(\\n        this.prescription.reduce(\\n          (accum, item) => accum + (item.unit_price * item.qty || 1),\\n          0\\n        )\\n      ).toFixed(2);\\n    },\\n  },\\n  methods: {\\n    verifyMpesaPayment() {\\n      frappe.require(\\\"/assets/frontend/js/mpesa_dialog.js\\\", () => {\\n        frappe.db\\n          .get_value(\\\"Patient\\\", this.queueState.patient, \\\"customer\\\")\\n          .then(({ message }) => {\\n            const customer = message.customer;\\n            const callback = () => {\\n              updateQueueStatus({ state_name: this.queueState.name, status: 'Payment Completed' }).then(m => {});\\n            }\\n            mpesaDialog(customer, this.queueState.patient, callback);\\n          });\\n      });\\n    },\\n    pullFunsoftReceipt(){\\n       frappe.require(\\\"/assets/frontend/js/mpesa_dialog.js\\\", () => {\\n            // chat.js is loaded\\n                console.log(b)\\n                funsoftBankReceipt(this.queueState.patient)\\n            })\\n    },\\n    addDrugModal() {\\n        const fields = [\\n            {\\n   \\\"fieldname\\\": \\\"item\\\",\\n   \\\"fieldtype\\\": \\\"Link\\\",\\n   \\\"in_list_view\\\": 1,\\n   \\\"label\\\": \\\"Item\\\",\\n   reqd: 1,\\n   \\\"options\\\": \\\"Item\\\"\\n  },\\n  {\\n   \\\"fetch_from\\\": \\\"item.item_name\\\",\\n   \\\"fieldname\\\": \\\"item_name\\\",\\n   \\\"fieldtype\\\": \\\"Data\\\",\\n   \\\"label\\\": \\\"Item Name\\\",\\n   \\\"read_only\\\": 1\\n  },\\n  {\\n   \\\"fetch_from\\\": \\\"item.stock_uom\\\",\\n   \\\"fieldname\\\": \\\"uom\\\",\\n   \\\"fieldtype\\\": \\\"Link\\\",\\n   \\\"label\\\": \\\"UOM\\\",\\n   \\\"options\\\": \\\"UOM\\\",\\n   \\\"read_only\\\": 1\\n  },\\n  {\\n   \\\"fieldname\\\": \\\"dosage_form\\\",\\n   \\\"fieldtype\\\": \\\"Link\\\",\\n   \\\"label\\\": \\\"Dosage Form\\\",\\n   reqd: 1,\\n    \\\"in_list_view\\\": 1,\\n   \\\"options\\\": \\\"Dosage Form\\\"\\n  },\\n  {\\n   \\\"fieldname\\\": \\\"strength\\\",\\n   \\\"fieldtype\\\": \\\"Data\\\",\\n    \\\"in_list_view\\\": 1,\\n   reqd: 1,\\n   \\\"label\\\": \\\"Strength\\\"\\n  },\\n ];\\n      const dialog = new frappe.ui.Dialog({\\n        title: \\\"Add a Drug\\\",\\n        fields: [\\n          {\\n            fieldname: \\\"medicine_name\\\",\\n            fieldtype: \\\"Data\\\",\\n            in_list_view: 1,\\n            label: \\\"Medicine Name\\\",\\n            unique: 1,\\n          },\\n          {\\n            fieldname: \\\"drug_stock_detail\\\",\\n            fieldtype: \\\"Table\\\",\\n            label: \\\"Drug Stock Detail\\\",\\n            options: \\\"Drug Stock Detail\\\",\\n            fields,\\n          },\\n        ],\\n        primary_action: (values) => {\\n            addADrug(values).then(() => {\\n                 dialog.hide();\\n                 frappe.show_alert({\\n                     message: 'Drug Added Succesfully',\\n                     indicator: 'green'\\n                 }, 10)\\n            })\\n        }\\n      });\\n      dialog.show();\\n    //   dialog.$wrapper.find('.modal-dialog').css(\\\"width\\\", \\\"800px\\\");\\n    },\\n    onUpdateList() {\\n      this.getPrescriptionDrugs(\\n        this.queueState.patient,\\n        this.queueState.appointment\\n      );\\n    },\\n    getPrescriptionDrugs(patient, encounter) {\\n      getPatientPrescriptionsV2({\\n        patient_name: patient,\\n        encounter_name: encounter,\\n        fetch: \\\"all\\\",\\n        // appointment_name:appointment\\n      }).then((result) => {\\n        if (result) {\\n          // result.map((item) => {\\n          //     fetchConditionalItemPrice({\\n          //         item_code: item.drug_code,\\n          //         patient: patient,\\n          //     }).then(res => {\\n\\n          //         if (res.type === \\\"Patient\\\") {\\n          //             item['rate'] = 0;\\n          //             item['rate'] = res.price;\\n          //             item['payer'] = res.type;\\n\\n          //         } else if (res.type === \\\"Copay\\\") {\\n          //             item['rate'] = res.price;\\n          //             item['remaining_quantity'] = res.remaining_quantity;\\n          //             item['co_paid_quantity'] = res.co_paid_quantity;\\n          //             item['payer'] = res.type;\\n\\n          //         } else if (res.type === \\\"Insurance\\\") {\\n          //             item['rate'] = res.price;\\n          //             item['payer'] = res.type;\\n\\n          //         } else if (res.type === \\\"Pre-auth Insurance\\\") {\\n          //             item['rate'] = res.price;\\n          //             item['payer'] = res.type;\\n\\n          //         } else if (res.type === \\\"Pre-auth Copay\\\") {\\n          //             item['rate'] = res.price;\\n          //             item['remaining_quantity'] = res.remaining_quantity;\\n          //             item['co_paid_quantity'] = res.co_paid_quantity;\\n          //             item['payer'] = res.type\\n\\n          //         }\\n          //     })\\n\\n          // })\\n          this.prescription = result;\\n          // this.loading = false;\\n        } else {\\n          frappe.show_alert(\\n            {\\n              message: `Request Failed. Please try again`,\\n              indicator: \\\"red\\\",\\n            },\\n            5\\n          );\\n        }\\n      });\\n      // this.$store.dispatch(\\\"prescriptionModule/fetchPrescription\\\", { patient, encounter, });\\n      this.$store.dispatch(\\\"customerModule/fetchCustomerInfomation\\\", patient);\\n    },\\n    getConditionalItemPrice(item) {},\\n    get_host: function (port = 3000) {\\n      var host = window.location.origin;\\n      if (window.dev_server || true) {\\n        var parts = host.split(\\\":\\\");\\n        port = frappe.boot.socketio_port || port.toString() || \\\"3000\\\";\\n        if (parts.length > 2) {\\n          host = parts[0] + \\\":\\\" + parts[1];\\n        }\\n        host = host + \\\":\\\" + port;\\n      }\\n      return host;\\n    },\\n  },\\n  created() {\\n    this.$store.registerModule(\\\"customerModule\\\", customerModule);\\n    this.$store.registerModule(\\\"prescriptionModule\\\", prescriptionModule);\\n    // this.getPrescriptionDrugs(this.queueState.patient, this.queueState.appointment);\\n    // this.socket.on(this.queueState.name, function(data) {\\n    //     console.log('queueState eventprescriptionModule connected')\\n    //     this.getPrescriptionDrugs(this.queueState.patient, this.queueState.appointment);\\n    // });\\n  },\\n  mounted() {\\n    const host = this.get_host(3000);\\n    const socket = io.connect();\\n    this.socket = socket;\\n    socket.on(\\\"connect\\\", () => {\\n      console.log(\\\"parent connected\\\");\\n    });\\n    socket.on(this.queueState.name, function (data) {\\n      console.log(\\\"queueState event connected\\\");\\n      this.getPrescriptionDrugs(\\n        this.queueState.patient,\\n        this.queueState.appointment\\n      );\\n    });\\n  },\\n  filters: {\\n    // Filter definitions\\n    Upper(value) {\\n      return value.toUpperCase();\\n    },\\n    title(str) {\\n      return str.replace(/\\\\w([^-\\\\s]*)/g, function (txt) {\\n        return (txt || '').charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\\n      });\\n    },\\n    numberWithCommas(x) {\\n      if (x) {\\n        return x.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \\\",\\\");\\n      }\\n      return 0;\\n    },\\n  },\\n};\\n</script>\\n\\n<style scoped>\\n.center-image {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-top: 10%;\\n  height: 100%;\\n  width: 100%;\\n  vertical-align: middle;\\n}\\n\\n.center-image img {\\n  width: 300px;\\n  height: 350px;\\n  top: 20%;\\n}\\n\\n.patient-name {\\n  text-transform: capitalize;\\n}\\n\\n.note-tabs-content {\\n  padding: 10px;\\n  border: none;\\n  color: #676a6c;\\n}\\n\\n/* .custom-tabs {\\n  .card-header {\\n    background-color: #fff;\\n    ul {\\n      li {\\n        margin: 2px;\\n        display: flex;\\n        flex-direction: column;\\n        flex: 1 0;\\n      }\\n    }\\n  }\\n  .card-footer {\\n    min-height: 60px;\\n  }\\n} */\\n</style>\\n\\n<style lang=\\\"less\\\" scoped>\\n.custom-tabs {\\n  .card-header {\\n    background-color: #fff;\\n    ul {\\n      li {\\n        margin: 2px;\\n        display: flex;\\n        flex-direction: column;\\n        flex: 1 0;\\n      }\\n    }\\n  }\\n  .card-footer {\\n    min-height: 60px;\\n  }\\n}\\n</style>\"]}, media: undefined })\n,inject(\"data-v-70d59b0a_1\", { source: \".custom-tabs .card-header[data-v-70d59b0a] {\\n  background-color: #fff;\\n}\\n.custom-tabs .card-header ul li[data-v-70d59b0a] {\\n  margin: 2px;\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1 0;\\n}\\n.custom-tabs .card-footer[data-v-70d59b0a] {\\n  min-height: 60px;\\n}\\n\", map: {\"version\":3,\"sources\":[\"Container.vue\"],\"names\":[],\"mappings\":\"AAAA;EACE,sBAAsB;AACxB;AACA;EACE,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,SAAS;AACX;AACA;EACE,gBAAgB;AAClB\",\"file\":\"Container.vue\",\"sourcesContent\":[\".custom-tabs .card-header {\\n  background-color: #fff;\\n}\\n.custom-tabs .card-header ul li {\\n  margin: 2px;\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1 0;\\n}\\n.custom-tabs .card-footer {\\n  min-height: 60px;\\n}\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-70d59b0a\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n  <div class=\\\"\\\" style=\\\"margin-left: 0.1%; background-color: #ffffff; overflow: scroll; height: 88vh;\\\">\\n    <!-- <b-modal id=\\\"modal-prevent-closing\\\" ref=\\\"changeServiceUnitModal\\\" title=\\\"Select Pharmacy Warehouse\\\" @hidden=\\\"resetServiceUnits\\\" @ok=\\\"updateWarehouse\\\">\\n                <b-form-select v-model=\\\"warehouse\\\" :options=\\\"warehouses\\\" placeholder=\\\"Select warehouse\\\"></b-form-select>\\n                <div class=\\\"mt-3\\\">Selected: <strong>{{ warehouse }}</strong></div>\\n            </b-modal> -->\\n    <!-- <div v-if=\\\"loading\\\" style=\\\"padding-top:25%; text-align:center; height:100vh;\\\">\\n                <b-spinner style=\\\"width: 300px; height: 300px;margin:auto;\\\"></b-spinner>\\n            </div> -->\\n    <!-- v-else -->\\n    <div\\n      style=\\\"\\n        padding-top: 1%;\\n        margin-top: 1px;\\n        margin-left: 16px;\\n        margin-right: 16px;\\n        align-content: center;\\n        padding-left: 8px;\\n        padding-right: 8px;\\n      \\\"\\n    >\\n      <div style=\\\"display: flex; justify-content: space-between\\\">\\n        <b-button\\n          style=\\\"margin-right: 2px\\\"\\n          size=\\\"md\\\"\\n          variant=\\\"primary\\\"\\n          @click=\\\"verifyMpesaPayment\\\"\\n          >Verify Mpesa\\n        </b-button>\\n        <b-button\\n          style=\\\"margin-right: 2px\\\"\\n          size=\\\"md\\\"\\n          variant=\\\"secondary\\\"\\n          @click=\\\"pullFunsoftReceipt\\\"\\n          >Pull Funsoft Receipt\\n        </b-button>\\n        <b-button\\n          style=\\\"margin-right: 2px\\\"\\n          size=\\\"md\\\"\\n          variant=\\\"primary\\\"\\n          @click=\\\"addDrugModal\\\"\\n          >Add a Drug</b-button\\n        >\\n      </div>\\n      <hr\\n        style=\\\"\\n          width: 100%;\\n          text-align: left;\\n          margin-left: 0;\\n          margin-top: 5px;\\n          margin-bottom: 2px;\\n        \\\"\\n      />\\n      <b-row>\\n        <b-col>\\n          <div>\\n            <!-- {{ patientData }} -->\\n            <div style=\\\"margin-bottom: 8px; padding: 4px\\\">\\n              <div style=\\\"display:flex;\\\" class=\\\"\\\">\\n                <div style=\\\"flex: 1\\\" class=\\\"\\\">\\n                  <span>\\n                    <h3 class=\\\"h3 card-text patient-name\\\">\\n                      {{ patientData.patient_name }} |\\n                      {{ patientData.patient_number }} |\\n                    </h3>\\n                    <span>{{\\n                      patientData.customer_group === 'All Customer Groups' ? 'CASH PAYER': patientData.customer_group\\n                    }}</span>\\n                  </span>\\n                </div>\\n                <div style=\\\"flex: 1\\\">\\n                  <div>\\n                  <span>Height: </span> {{ patientSummary.height }}\\n                  </div>\\n                  <div>\\n                  <span>Weight: </span>  {{ patientSummary.weight }}\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </b-col>\\n      </b-row>\\n      <hr\\n        style=\\\"\\n          width: 100%;\\n          text-align: left;\\n          margin-left: 0;\\n          margin-top: 2px;\\n          margin-bottom: 2px;\\n        \\\"\\n      />\\n      <b-row>\\n        <b-col>\\n          <div\\n            v-if=\\\"patientName\\\"\\n            class=\\\"\\\"\\n            style=\\\"margin-top: 8px; padding: 4px\\\"\\n          >\\n            <b-tabs\\n              v-model=\\\"tab\\\"\\n              content-class=\\\"note-tabs-content\\\"\\n              class=\\\"custom-tabs\\\"\\n            >\\n              <b-tab title=\\\"Prescriptions\\\">\\n                <UserPrescription\\n                  v-if=\\\"tab === 0\\\"\\n                  :queueState=\\\"queueState\\\"\\n                  @onUpdateList=\\\"onUpdateList()\\\"\\n                  :patientName=\\\"patientName\\\"\\n                  :encounterName=\\\"encounterName\\\"\\n                  :prescription=\\\"prescription\\\"\\n                  :patientData=\\\"patientData\\\"\\n                  :selectedPharmacy=\\\"selectedPharmacy\\\"\\n                />\\n              </b-tab>\\n              <b-tab title=\\\"Awaiting Dispense\\\">\\n                <AwaitingDispense\\n                  v-if=\\\"tab === 1\\\"\\n                  :queueState=\\\"queueState\\\"\\n                  :patientNumber=\\\"patientName\\\"\\n                  :selectedPharmacy=\\\"selectedPharmacy\\\"\\n                />\\n              </b-tab>\\n              <b-tab title=\\\"Refills\\\">\\n                <Refills v-if=\\\"tab === 2\\\" :patient_number=\\\"patientName\\\" />\\n              </b-tab>\\n              <b-tab title=\\\"Sales Orders\\\">\\n                <SalesOrder v-if=\\\"tab === 3\\\" :patient_number=\\\"patientName\\\" />\\n              </b-tab>\\n              <b-tab title=\\\"Sales Invoice\\\">\\n                <Invoice v-if=\\\"tab === 4\\\" :patient_number=\\\"patientName\\\" />\\n              </b-tab>\\n            </b-tabs>\\n          </div>\\n          <div v-else class=\\\"center-image\\\">\\n            <img\\n              src=\\\"https://cdn.dribbble.com/users/1449854/screenshots/4136663/no_data_found.png\\\"\\n              alt=\\\"No data IMG\\\"\\n            />\\n          </div>\\n        </b-col>\\n      </b-row>\\n    </div>\\n  </div>\\n</template>\\n<script>\\nimport { get_item_dashboard_data } from \\\"../../../utils\\\";\\nimport Paginator from \\\"../../util/Paginator.vue\\\";\\nimport PatientInfo from \\\"./PatientInfo.vue\\\";\\nimport UserPrescription from \\\"./UserPrescription.vue\\\";\\n// import Accounts from './Accounts.vue'\\nimport SalesOrder from \\\"./SalesOrder.vue\\\";\\nimport Invoice from \\\"./Invoice.vue\\\";\\nimport Refills from \\\"./Refills.vue\\\";\\nimport AddPrescription from \\\"./AddPrescription.vue\\\";\\nimport AwaitingDispense from \\\"./AwaitingDispense.vue\\\";\\n\\nimport {\\n  getPrescriptions,\\n  getPatientPrescriptionsV2,\\n  addADrug,\\n  getPrescriptionInvoice,\\n  setPrescriptionInvoiceNumber,\\n  getWarehouses,\\n  updatePrescriptionWarehouse,\\n  createPrescriptionSalesOrder,\\n  getPatientInfo\\n} from \\\"../../../../services/pharmacy/prescriptions.js\\\";\\nimport customerModule from \\\"../../../../state/pharmacy-customer\\\";\\nimport prescriptionModule from \\\"../../../../state/pharmacy-prescription\\\";\\nimport { fetchConditionalItemPrice } from \\\"../../../../services/accounts/patient.js\\\";\\nimport { updateQueueStatus } from '../../../../services/pharmacy/queue.js';\\n\\nexport default {\\n  props: {\\n    queueState: {\\n      type: Object,\\n      default: {},\\n      required: true,\\n    },\\n    patientName: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    },\\n    encounterName: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    },\\n    selectedPharmacy: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    }\\n  },\\n  components: {\\n    Paginator,\\n    PatientInfo,\\n    UserPrescription,\\n    // Accounts\\n    SalesOrder,\\n    Invoice,\\n    Refills,\\n    AddPrescription,\\n    AwaitingDispense,\\n  },\\n  data() {\\n    return {\\n      prescription: {},\\n      socket: null,\\n      tab: 0,\\n      patientData: {},\\n      patientSummary: {}\\n    };\\n  },\\n  computed: {\\n    customerInfo() {\\n      return this.$store.getters[\\\"customerModule/customerInfo\\\"];\\n    },\\n    prescription() {\\n      return this.$store.getters[\\\"prescriptionModule/prescription\\\"];\\n    },\\n  },\\n  watch: {\\n    queueState() {\\n      this.socket.on(this.queueState.name, function (data) {\\n        console.log(\\\"queueState event connected\\\");\\n        this.getPrescriptionDrugs(\\n          this.queueState.patient,\\n          this.queueState.appointment\\n        );\\n      });\\n      // console.log('****', this.queueState.patient)\\n    },\\n    patientName(){\\n      getPatientInfo(this.patientName).then((d) => {\\n        this.patientSummary = d.message.summary.vitals || {}\\n      })\\n      const parent = this;\\n\\n       frappe.call({\\n             method: \\\"frappe.client.get\\\",\\n             args: {\\n                 doctype: \\\"Patient\\\",\\n                 name: this.patientName,\\n             },\\n             callback(r) {\\n                 parent.patientData = r.message\\n             }\\n         });\\n    },\\n    customerInfo() {\\n      console.log(this.customerInfo)\\n    },\\n    prescription() {\\n      this.totalAmount = Math.ceil(\\n        this.prescription.reduce(\\n          (accum, item) => accum + (item.unit_price * item.qty || 1),\\n          0\\n        )\\n      ).toFixed(2);\\n    },\\n  },\\n  methods: {\\n    verifyMpesaPayment() {\\n      frappe.require(\\\"/assets/frontend/js/mpesa_dialog.js\\\", () => {\\n        frappe.db\\n          .get_value(\\\"Patient\\\", this.queueState.patient, \\\"customer\\\")\\n          .then(({ message }) => {\\n            const customer = message.customer;\\n            const callback = () => {\\n              updateQueueStatus({ state_name: this.queueState.name, status: 'Payment Completed' }).then(m => {});\\n            }\\n            mpesaDialog(customer, this.queueState.patient, callback);\\n          });\\n      });\\n    },\\n    pullFunsoftReceipt(){\\n       frappe.require(\\\"/assets/frontend/js/mpesa_dialog.js\\\", () => {\\n            // chat.js is loaded\\n                console.log(b)\\n                funsoftBankReceipt(this.queueState.patient)\\n            })\\n    },\\n    addDrugModal() {\\n        const fields = [\\n            {\\n   \\\"fieldname\\\": \\\"item\\\",\\n   \\\"fieldtype\\\": \\\"Link\\\",\\n   \\\"in_list_view\\\": 1,\\n   \\\"label\\\": \\\"Item\\\",\\n   reqd: 1,\\n   \\\"options\\\": \\\"Item\\\"\\n  },\\n  {\\n   \\\"fetch_from\\\": \\\"item.item_name\\\",\\n   \\\"fieldname\\\": \\\"item_name\\\",\\n   \\\"fieldtype\\\": \\\"Data\\\",\\n   \\\"label\\\": \\\"Item Name\\\",\\n   \\\"read_only\\\": 1\\n  },\\n  {\\n   \\\"fetch_from\\\": \\\"item.stock_uom\\\",\\n   \\\"fieldname\\\": \\\"uom\\\",\\n   \\\"fieldtype\\\": \\\"Link\\\",\\n   \\\"label\\\": \\\"UOM\\\",\\n   \\\"options\\\": \\\"UOM\\\",\\n   \\\"read_only\\\": 1\\n  },\\n  {\\n   \\\"fieldname\\\": \\\"dosage_form\\\",\\n   \\\"fieldtype\\\": \\\"Link\\\",\\n   \\\"label\\\": \\\"Dosage Form\\\",\\n   reqd: 1,\\n    \\\"in_list_view\\\": 1,\\n   \\\"options\\\": \\\"Dosage Form\\\"\\n  },\\n  {\\n   \\\"fieldname\\\": \\\"strength\\\",\\n   \\\"fieldtype\\\": \\\"Data\\\",\\n    \\\"in_list_view\\\": 1,\\n   reqd: 1,\\n   \\\"label\\\": \\\"Strength\\\"\\n  },\\n ];\\n      const dialog = new frappe.ui.Dialog({\\n        title: \\\"Add a Drug\\\",\\n        fields: [\\n          {\\n            fieldname: \\\"medicine_name\\\",\\n            fieldtype: \\\"Data\\\",\\n            in_list_view: 1,\\n            label: \\\"Medicine Name\\\",\\n            unique: 1,\\n          },\\n          {\\n            fieldname: \\\"drug_stock_detail\\\",\\n            fieldtype: \\\"Table\\\",\\n            label: \\\"Drug Stock Detail\\\",\\n            options: \\\"Drug Stock Detail\\\",\\n            fields,\\n          },\\n        ],\\n        primary_action: (values) => {\\n            addADrug(values).then(() => {\\n                 dialog.hide();\\n                 frappe.show_alert({\\n                     message: 'Drug Added Succesfully',\\n                     indicator: 'green'\\n                 }, 10)\\n            })\\n        }\\n      });\\n      dialog.show();\\n    //   dialog.$wrapper.find('.modal-dialog').css(\\\"width\\\", \\\"800px\\\");\\n    },\\n    onUpdateList() {\\n      this.getPrescriptionDrugs(\\n        this.queueState.patient,\\n        this.queueState.appointment\\n      );\\n    },\\n    getPrescriptionDrugs(patient, encounter) {\\n      getPatientPrescriptionsV2({\\n        patient_name: patient,\\n        encounter_name: encounter,\\n        fetch: \\\"all\\\",\\n        // appointment_name:appointment\\n      }).then((result) => {\\n        if (result) {\\n          // result.map((item) => {\\n          //     fetchConditionalItemPrice({\\n          //         item_code: item.drug_code,\\n          //         patient: patient,\\n          //     }).then(res => {\\n\\n          //         if (res.type === \\\"Patient\\\") {\\n          //             item['rate'] = 0;\\n          //             item['rate'] = res.price;\\n          //             item['payer'] = res.type;\\n\\n          //         } else if (res.type === \\\"Copay\\\") {\\n          //             item['rate'] = res.price;\\n          //             item['remaining_quantity'] = res.remaining_quantity;\\n          //             item['co_paid_quantity'] = res.co_paid_quantity;\\n          //             item['payer'] = res.type;\\n\\n          //         } else if (res.type === \\\"Insurance\\\") {\\n          //             item['rate'] = res.price;\\n          //             item['payer'] = res.type;\\n\\n          //         } else if (res.type === \\\"Pre-auth Insurance\\\") {\\n          //             item['rate'] = res.price;\\n          //             item['payer'] = res.type;\\n\\n          //         } else if (res.type === \\\"Pre-auth Copay\\\") {\\n          //             item['rate'] = res.price;\\n          //             item['remaining_quantity'] = res.remaining_quantity;\\n          //             item['co_paid_quantity'] = res.co_paid_quantity;\\n          //             item['payer'] = res.type\\n\\n          //         }\\n          //     })\\n\\n          // })\\n          this.prescription = result;\\n          // this.loading = false;\\n        } else {\\n          frappe.show_alert(\\n            {\\n              message: `Request Failed. Please try again`,\\n              indicator: \\\"red\\\",\\n            },\\n            5\\n          );\\n        }\\n      });\\n      // this.$store.dispatch(\\\"prescriptionModule/fetchPrescription\\\", { patient, encounter, });\\n      this.$store.dispatch(\\\"customerModule/fetchCustomerInfomation\\\", patient);\\n    },\\n    getConditionalItemPrice(item) {},\\n    get_host: function (port = 3000) {\\n      var host = window.location.origin;\\n      if (window.dev_server || true) {\\n        var parts = host.split(\\\":\\\");\\n        port = frappe.boot.socketio_port || port.toString() || \\\"3000\\\";\\n        if (parts.length > 2) {\\n          host = parts[0] + \\\":\\\" + parts[1];\\n        }\\n        host = host + \\\":\\\" + port;\\n      }\\n      return host;\\n    },\\n  },\\n  created() {\\n    this.$store.registerModule(\\\"customerModule\\\", customerModule);\\n    this.$store.registerModule(\\\"prescriptionModule\\\", prescriptionModule);\\n    // this.getPrescriptionDrugs(this.queueState.patient, this.queueState.appointment);\\n    // this.socket.on(this.queueState.name, function(data) {\\n    //     console.log('queueState eventprescriptionModule connected')\\n    //     this.getPrescriptionDrugs(this.queueState.patient, this.queueState.appointment);\\n    // });\\n  },\\n  mounted() {\\n    const host = this.get_host(3000);\\n    const socket = io.connect();\\n    this.socket = socket;\\n    socket.on(\\\"connect\\\", () => {\\n      console.log(\\\"parent connected\\\");\\n    });\\n    socket.on(this.queueState.name, function (data) {\\n      console.log(\\\"queueState event connected\\\");\\n      this.getPrescriptionDrugs(\\n        this.queueState.patient,\\n        this.queueState.appointment\\n      );\\n    });\\n  },\\n  filters: {\\n    // Filter definitions\\n    Upper(value) {\\n      return value.toUpperCase();\\n    },\\n    title(str) {\\n      return str.replace(/\\\\w([^-\\\\s]*)/g, function (txt) {\\n        return (txt || '').charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\\n      });\\n    },\\n    numberWithCommas(x) {\\n      if (x) {\\n        return x.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \\\",\\\");\\n      }\\n      return 0;\\n    },\\n  },\\n};\\n</script>\\n\\n<style scoped>\\n.center-image {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-top: 10%;\\n  height: 100%;\\n  width: 100%;\\n  vertical-align: middle;\\n}\\n\\n.center-image img {\\n  width: 300px;\\n  height: 350px;\\n  top: 20%;\\n}\\n\\n.patient-name {\\n  text-transform: capitalize;\\n}\\n\\n.note-tabs-content {\\n  padding: 10px;\\n  border: none;\\n  color: #676a6c;\\n}\\n\\n/* .custom-tabs {\\n  .card-header {\\n    background-color: #fff;\\n    ul {\\n      li {\\n        margin: 2px;\\n        display: flex;\\n        flex-direction: column;\\n        flex: 1 0;\\n      }\\n    }\\n  }\\n  .card-footer {\\n    min-height: 60px;\\n  }\\n} */\\n</style>\\n\\n<style lang=\\\"less\\\" scoped>\\n.custom-tabs {\\n  .card-header {\\n    background-color: #fff;\\n    ul {\\n      li {\\n        margin: 2px;\\n        display: flex;\\n        flex-direction: column;\\n        flex: 1 0;\\n      }\\n    }\\n  }\\n  .card-footer {\\n    min-height: 60px;\\n  }\\n}\\n</style>\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n  getPatientPrescriptionsV2,\n  calculatePrescriptionQuantity,\n  createMedicationOrder as createMedicationOrderApi,\n  getMatchedItems,\n  matchStockItemApi,\n  getCurrentMedicationOrders,\n  getDrugGroups,\n  removeMatchedItem as removeMatchedItemApi,\n   updateDrugPrescription,\n   createDrugSalesOrder,\n   cancelInpatientPrescriptions,\n} from \"../../../../services/pharmacy/prescriptions.js\";\nconst __vue_script__ = {\n  name: \"InpatientPrescriptions\",\n    props: {\n      selectedPharmacy: {\n      type: String,\n      default: \"\",\n      required: true,\n    }\n  },\n  data() {\n    return {\n      filters: {},\n      dispense: false,\n      selected: {},\n      tt: false,\n      itemGroups: [],\n      prescriptionItems: [],\n      prescriptionItemsPage: [],\n      loading: true,\n      alternativeDrugs: [],\n      alternativeDrug: null,\n      prescriptionItem: null,\n      warehouses: [],\n      warehouse: null,\n      customerInfo: null,\n      totalAmount: 0,\n      selectedPrescriptions: [],\n      selectedTotals: 0,\n      prescription: [],\n      paidPres: [],\n      currentPage: 1,\n      fields: [\n        'patient_name',\n        'patient',\n        'drug_name',\n        // { label: 'Strength', key: 'dose' },\n        { label: 'Dose', key: 'doctor_dose' },\n        'bed',\n        'frequency',\n        'route_of_administration',\n        'start_date',\n        { label: 'Actions', key: 'action' },\n      ],\n      imoFields: [\n        \"drug\",\n        { key: \"drug_code\", label: \"Stock Item\" },\n        \"duration\",\n        \"frequency\",\n        {\n          label: \"Scheduled Time\",\n          key: \"date\",\n          formatter: (value, key, item) => {\n            return moment(item.date + \" \" + item.time).fromNow();\n          },\n        },\n        \"route_of_administration\",\n      ],\n      imoItems: [],\n      activeRow: {},\n      items: [],\n      addItem: false,\n    };\n  },\n  mounted() {\n    if(this.filters.service_unit) {\n      getPatientPrescriptionsV2({ fetch: \"inpatients\", ...this.filters }).then((data) => {\n      this.prescription = data;\n    });\n    }\n  \n    getDrugGroups().then((data) => {\n      this.itemGroups = data;\n    });\n    this.makeFields();\n  },\n  watch: {\n    activeRow() {\n      const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, warehouse: this.selectedPharmacy.warehouse, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\n        Promise.all(promises).then(([quantity, message]) => {\n          this.items = message.map((item) => ({ quantity: quantity || 1, original_quantity: quantity || 1,  in_stock: item.stock_balance, rate: 0, ...item}));\n        })\n      getCurrentMedicationOrders({ patient: this.activeRow.patient }).then(\n        (items) => {\n          this.imoItems = items;\n        }\n      );\n    },\n  },\n  methods: {\n    cancel(item){\n      frappe.confirm('Are you sure you want to cancel this prescription?',\n    () => {\n     cancelInpatientPrescriptions(item.name)\n     .then((i) => {\n       this.prescription = this.prescription.filter((item) => {\n            return item.name !==i.name\n          });\n     })\n    }, () => {\n        // action to perform if No is selected\n    })\n    },\n    makeFields(){\n      const parent = this;\n      const customer_field = frappe.ui.form.make_control({\n        df: {\n            label: \"Service Unit\",\n            fieldtype: \"Link\",\n            fieldname: \"service_unit\",\n            options: \"Healthcare Service Unit\",\n            placeholder: __(`Search Per Service Unit`),\n            filters: {\n               is_group: 1\n            },\n            onchange: function() {\n              parent.filters.service_unit = this.value\n                getPatientPrescriptionsV2({ fetch: \"inpatients\", ...parent.filters, service_unit: this.value }).then((data) => {\n          parent.prescription = data;\n        });\n            },\n            },\n            parent: this.$refs[\"appointment-search\"],\n            render_input: true,\n      })\n       const patient_field = frappe.ui.form.make_control({\n        df: {\n            label: \"Patient\",\n            fieldtype: \"Link\",\n            fieldname: \"patient\",\n            options: \"Patient\",\n            placeholder: __(`Patient`),\n        \n            onchange: function() {\n                    parent.filters.patient = this.value\n                getPatientPrescriptionsV2({ fetch: \"inpatients\", ...parent.filters, patient_name: this.value }).then((data) => {\n          parent.prescription = data;\n        });\n                \n            },\n            },\n            parent: this.$refs[\"appointment-search\"],\n            render_input: true,\n      })\n    },\n    onSelect(name){\n      // const name = ev.item.split(/\\s+/).join('-')\n      const el = document.getElementById(name);\n      console.log(name, el)\n      if(el){\n        el.focus()\n      }\n    },\n     openEditModal(item){\n      const parent = this;\n      const previousName = item.drug_name;\n      let d = new frappe.ui.Dialog({\n        title: `Edit Drug Prescription`,\n        fields: [{\n                    label: 'Drug',\n                    fieldname: 'drug',\n                    fieldtype: 'Link',\n                    options: 'Item',\n                    reqd: true,\n                    filters: { item_group: ['in', parent.itemGroups ], has_variants: 1},\n                    default : item.drug,\n                    onchange: () => {\n                       frappe.db.get_value('Item', d.fields_dict.drug.value, 'item_name').then(({ message }) => {\n                         d.set_value('drug_name', message.item_name);\n                         d.set_value('instructions', `Take ${message.item_name} ${item.doctor_dose || item.dose || ''} for ${item.duration} ${item.period || ''}`)\n                         d.refresh();\n                });\n                    }\n                },{\n                    label: 'Drug Name',\n                    fieldname: 'drug_name',\n                    fetch_from: 'drug.item_name',\n                    fieldtype: 'Data',\n                    reqd: true,\n                     default : item.drug_name,\n                    read_only: 1\n                },{\n                    label: 'Instructions',\n                    fieldname: 'instructions',\n                    fieldtype: 'Small Text',\n                    default: item.instructions\n                }],\n        primary_action: (values) => {\n          updateDrugPrescription({...values, name: item.name })\n          .then((res) => {\n            item.drug_name = res.drug_name\n            item.instructions = res.instructions\n            item.drug = res.drug\n            this.$emit('onUpdateList')\n          })\n          d.hide();\n        }    \n      });\n      d.show()\n    },\n    openModal(row) {\n      this.activeRow = row;\n      this.$refs.viewPrescription.show();\n      console.log(row);\n    },\n    removeMatchedItem(item) {\n      removeMatchedItemApi(item).then(() => {\n        const promises = [\n          calculatePrescriptionQuantity({\n            period: this.activeRow.duration,\n            dosage: this.activeRow.frequency,\n          }),\n          getMatchedItems({\n            drug: this.activeRow.drug,\n            strength: this.activeRow.strength,\n            warehouse: this.selectedPharmacy.warehouse,\n            patient: this.activeRow.patient_number,\n            filters: { item: [\"!=\", \"\"] },\n          }),\n        ];\n        Promise.all(promises).then(([quantity, message]) => {\n          this.items = message.map((item) => ({\n            quantity: quantity || 1,\n            original_quantity: quantity || 1, \n            in_stock: item.stock_balance,\n            rate: 0,\n            ...item,\n          }));\n        });\n      });\n    },\n    createMedicationOrder() {\n      if (!this.selected.item) {\n        return frappe.throw(\n          \"Please select an item or add a matched Item before creating a medication order\"\n        );\n      }\n      const order = {\n        patient: this.activeRow.patient_number,\n        patient_encounter: this.activeRow.patient_encounter,\n        drug_code: this.selected.item.item,\n        dosage: this.activeRow.frequency,\n        period: this.activeRow.duration,\n        dosage_form: this.activeRow.route_of_administration,\n        start_date: this.activeRow.start_date,\n        service_unit: this.activeRow.service_unit || \"\",\n        prescription: this.activeRow.name,\n        quantity: this.selected.item.quantity,\n        warehouse: this.selectedPharmacy.warehouse,\n        original_quantity: this.selected.item.original_quantity\n      };\n\nconsole.log('===========>', this.activeRow.frequency * (this.selected.item.quantity / this.selected.item.original_quantity))\n      if(!this.dispense){\n        createMedicationOrderApi(order).then(() => {\n          let idx = 0\n          this.prescription = this.prescription.filter((item) => {\n            return item.name !==this.activeRow.name\n          });\n          const nextItem = this.prescription[0]\n          if (nextItem) {\n            this.openModal(nextItem)\n          }\n        // });\n      });\n      } else {\n        // Create medicatiop\n        this.createSalesOrders()\n      }\n    },\n    createSalesOrders(){\n      const parent = this\n      const item = {\n        patient: this.activeRow.patient_number,\n        encounter: this.activeRow.patient_encounter, \n        inpatient_record: this.activeRow.inpatient_record, \n        item: this.selected.item.item, \n        quantity: this.selected.item.quantity,\n        service_unit: this.activeRow.service_unit,\n        appointment_name: this.activeRow.patient_appointment,\n        doctors_prescription: this.activeRow.name,\n        prescription_name: this.activeRow.name,\n        route_of_administration: this.activeRow.route_of_administration || '',\n        rate: this.selected.item.rate,\n      }\n      const args = {\n        items: [item],\n        limit: 0,\n        total: parseInt(this.selected.item.rate) * parseInt(this.selected.item.quantity),\n        warehouse: this.selectedPharmacy.warehouse,\n        is_inpatient: 1\n      }\n      console.log(args)\n      // return\n      createDrugSalesOrder(args).then(() => {\n        let idx = 0\n          this.prescription = this.prescription.filter((item) => {\n            return item.name !==this.activeRow.name\n          });\n          const nextItem = this.prescription[0]\n          if (nextItem) {\n            this.openModal(nextItem)\n          }\n        this.$emit('onUpdateList')\n      })\n    },\n    addAMatch(item) {\n      let d = new frappe.ui.Dialog({\n        title: `Add Matching Stock Item`,\n        fields: [\n          {\n            label: \"Item\",\n            fieldname: \"item\",\n            fieldtype: \"Link\",\n            options: \"Item\",\n            filters: { item_group: [\"in\", this.itemGroups], has_variants: 0 },\n          },\n          {\n            label: \"Strength\",\n            fieldname: \"strength\",\n            fieldtype: \"Data\",\n          },\n        ],\n        primary_action: (values) => {\n          matchStockItemApi({\n            ...values,\n            drug: item.drug,\n            dosage_form: item.dosage_form,\n          }).then(() => {\n            frappe.show_alert(\n              `${item.drug} matched successfully with ${values.item}`,\n              5\n            );\n            const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, patient: this.activeRow.patient_number, warehouse: this.selectedPharmacy.warehouse, filters: {item: ['!=', '']}})]\n        Promise.all(promises).then(([quantity, message]) => {\n          this.items = message.map((item) => ({ quantity: quantity || 1, original_quantity: quantity || 1, in_stock: item.stock_balance, rate: 0, ...item}));\n        })\n            d.hide();\n          });\n        },\n      });\n      d.show();\n    },\n  },\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"root\" },\n    [\n      _c(\"div\", {}, [\n        _c(\"div\", { staticStyle: {} }, [\n          _c(\"div\", [\n            _c(\"div\", {\n              ref: \"appointment-search\",\n              staticClass: \"ref-field-input\",\n              staticStyle: {\n                width: \"400px\",\n                display: \"flex\",\n                \"justify-content\": \"space-between\"\n              }\n            })\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", [\n            _c(\"div\", {\n              ref: \"patient-search\",\n              staticClass: \"ref-field-input\",\n              staticStyle: {\n                width: \"400px\",\n                display: \"flex\",\n                \"justify-content\": \"space-between\"\n              }\n            })\n          ])\n        ])\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"b-modal\",\n        {\n          ref: \"changeServiceUnitModal\",\n          attrs: {\n            id: \"modal-prevent-closing\",\n            title: \"Select Pharmacy Warehouse\"\n          },\n          on: { hidden: _vm.resetServiceUnits, ok: _vm.updateWarehouse }\n        },\n        [\n          _c(\"b-form-select\", {\n            attrs: { options: _vm.warehouses, placeholder: \"Select warehouse\" },\n            model: {\n              value: _vm.warehouse,\n              callback: function($$v) {\n                _vm.warehouse = $$v\n              },\n              expression: \"warehouse\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"mt-3\" }, [\n            _vm._v(\"\\n      Selected: \"),\n            _c(\"strong\", [_vm._v(_vm._s(_vm.warehouse))])\n          ])\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticStyle: { \"padding-top\": \"0.2%\", \"margin-top\": \"8px\" } },\n        [\n          _c(\n            \"b-row\",\n            [\n              _c(\"b-col\", [\n                _c(\n                  \"div\",\n                  {\n                    staticStyle: {\n                      display: \"flex\",\n                      \"justify-content\": \"flex-end\"\n                    }\n                  },\n                  [\n                    _c(\n                      \"b-button-group\",\n                      {\n                        staticStyle: {\n                          \"margin-right\": \"16px\",\n                          \"margin-top\": \"4px\"\n                        }\n                      },\n                      [\n                        _vm.paidPres.length > 0\n                          ? _c(\n                              \"b-button\",\n                              {\n                                staticStyle: { \"margin-right\": \"2px\" },\n                                attrs: { variant: \"primary\" },\n                                on: { click: _vm.dispense }\n                              },\n                              [_vm._v(\"Dispense\")]\n                            )\n                          : _vm._e()\n                      ],\n                      1\n                    )\n                  ],\n                  1\n                )\n              ])\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"table-responsive\" },\n            [\n              _c(\"b-table\", {\n                staticClass: \"table\",\n                attrs: {\n                  fields: _vm.fields,\n                  stacked: \"md\",\n                  \"per-page\": 10,\n                  \"current-page\": _vm.currentPage,\n                  small: \"\",\n                  hover: \"\",\n                  items: _vm.prescription\n                },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"cell(action)\",\n                    fn: function(row) {\n                      return [\n                        _c(\n                          \"div\",\n                          { staticStyle: { display: \"flex\" } },\n                          [\n                            _c(\n                              \"b-button\",\n                              {\n                                staticClass: \"sm\",\n                                attrs: { variant: \"primary\" },\n                                on: {\n                                  click: function($event) {\n                                    return _vm.openModal(row.item)\n                                  }\n                                }\n                              },\n                              [_vm._v(\"\\n              View\")]\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"b-button\",\n                              {\n                                staticStyle: { \"margin-left\": \"8px\" },\n                                attrs: { variant: \"primary\" },\n                                on: {\n                                  click: function($event) {\n                                    return _vm.openEditModal(row.item)\n                                  }\n                                }\n                              },\n                              [_vm._v(\"Edit Prescription\")]\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"b-button\",\n                              {\n                                staticStyle: { \"margin-left\": \"8px\" },\n                                attrs: { variant: \"danger\" },\n                                on: {\n                                  click: function($event) {\n                                    return _vm.cancel(row.item)\n                                  }\n                                }\n                              },\n                              [_vm._v(\"Cancel Prescription\")]\n                            )\n                          ],\n                          1\n                        )\n                      ]\n                    }\n                  }\n                ])\n              }),\n              _vm._v(\" \"),\n              _c(\"b-pagination\", {\n                attrs: {\n                  \"total-rows\": _vm.prescription.length,\n                  \"per-page\": 10,\n                  \"aria-controls\": \"my-table\"\n                },\n                model: {\n                  value: _vm.currentPage,\n                  callback: function($$v) {\n                    _vm.currentPage = $$v\n                  },\n                  expression: \"currentPage\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\n                \"b-modal\",\n                {\n                  ref: \"viewPrescription\",\n                  attrs: {\n                    size: \"xl\",\n                    \"ok-title\": _vm.activeRow.patient_appointment\n                      ? \"Create Sales Order\"\n                      : \"Create Medication Order\",\n                    id: \"modal-1\",\n                    title: \"Doctor's Drug Prescription\"\n                  },\n                  on: {\n                    ok: function($event) {\n                      return _vm.createMedicationOrder()\n                    }\n                  }\n                },\n                [\n                  _c(\"div\", { staticStyle: { \"margin-top\": \"16px\" } }, [\n                    _c(\"strong\", [_vm._v(\"Patient Status:\")]),\n                    _vm._v(\" \"),\n                    _c(\"span\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                      _vm._v(\n                        _vm._s(\n                          _vm.activeRow.inpatient_record\n                            ? \"Inpatient\"\n                            : \"Outpatient\"\n                        )\n                      )\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticStyle: { display: \"flex\" } }, [\n                    _c(\n                      \"div\",\n                      {\n                        staticStyle: {\n                          \"margin-top\": \"16px\",\n                          width: \"50%\",\n                          flex: \"1\"\n                        }\n                      },\n                      [\n                        _c(\"strong\", [_vm._v(\"Drug:\")]),\n                        _vm._v(\" \"),\n                        _c(\"pre\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                          _vm._v(_vm._s(_vm.activeRow.drug))\n                        ])\n                      ]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      {\n                        staticStyle: {\n                          \"margin-top\": \"16px\",\n                          width: \"50%\",\n                          flex: \"1\"\n                        }\n                      },\n                      [\n                        _c(\"strong\", [_vm._v(\"Dose:\")]),\n                        _vm._v(\" \"),\n                        _c(\"pre\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                          _vm._v(_vm._s(_vm.activeRow.dose))\n                        ])\n                      ]\n                    )\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticStyle: { display: \"flex\" } }, [\n                    _c(\n                      \"div\",\n                      {\n                        staticStyle: {\n                          \"margin-top\": \"16px\",\n                          width: \"50%\",\n                          flex: \"1\"\n                        }\n                      },\n                      [\n                        _c(\"strong\", [_vm._v(\"Route of Administration:\")]),\n                        _vm._v(\" \"),\n                        _c(\"pre\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                          _vm._v(_vm._s(_vm.activeRow.route_of_administration))\n                        ])\n                      ]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      {\n                        staticStyle: {\n                          \"margin-top\": \"16px\",\n                          width: \"50%\",\n                          flex: \"1\"\n                        }\n                      },\n                      [\n                        _c(\"strong\", [_vm._v(\"Start Date:\")]),\n                        _vm._v(\" \"),\n                        _c(\"pre\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                          _vm._v(_vm._s(_vm.activeRow.start_date))\n                        ])\n                      ]\n                    )\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticStyle: { \"margin-top\": \"16px\" } }, [\n                    _c(\"strong\", [_vm._v(\"Instructions:\")]),\n                    _vm._v(\" \"),\n                    _c(\"pre\", { staticStyle: { \"margin-bottom\": \"0\" } }, [\n                      _vm._v(_vm._s(_vm.activeRow.instructions))\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticStyle: { \"margin-top\": \"16px\" } },\n                    [\n                      _c(\n                        \"b-button\",\n                        {\n                          directives: [\n                            {\n                              name: \"b-toggle\",\n                              rawName: \"v-b-toggle.collapse-1\",\n                              modifiers: { \"collapse-1\": true }\n                            }\n                          ],\n                          attrs: { variant: \"primary\" }\n                        },\n                        [_vm._v(\"Ongoing Medication Orders\")]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"b-collapse\",\n                        { staticClass: \"mt-2\", attrs: { id: \"collapse-1\" } },\n                        [\n                          _c(\"b-table\", {\n                            attrs: {\n                              fields: _vm.imoFields,\n                              items: _vm.imoItems\n                            }\n                          })\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticStyle: { \"margin-top\": \"16px\" } },\n                    [\n                      _c(\"h4\", [_vm._v(\"Matched Stock Items\")]),\n                      _vm._v(\" \"),\n                      _c(\"b-table\", {\n                        attrs: {\n                          bordered: \"\",\n                          items: _vm.items,\n                          fields: [\n                            { label: \"Select\", key: \"select\" },\n                            \"item_name\",\n                            { label: \"Quantity\", key: \"quantity\" },\n                            \"in_stock\",\n                            \"rate\",\n                            {\n                              key: \"total\",\n                              label: \"Total\",\n                              formatter: function(value, key, item) {\n                                return item.quantity * parseFloat(item.rate)\n                              }\n                            },\n                            { key: \"action\", label: \" \" }\n                          ]\n                        },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"cell(rate)\",\n                            fn: function(i) {\n                              return [\n                                _c(\n                                  \"div\",\n                                  { staticStyle: { \"text-align\": \"right\" } },\n                                  [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(i.item.rate.toFixed(2)) +\n                                        \"\\n            \"\n                                    )\n                                  ]\n                                )\n                              ]\n                            }\n                          },\n                          {\n                            key: \"cell(total)\",\n                            fn: function(item) {\n                              return [\n                                _c(\n                                  \"div\",\n                                  { staticStyle: { \"text-align\": \"right\" } },\n                                  [\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        _vm._s(\n                                          \"KES \" +\n                                            Number(\n                                              item.item.quantity *\n                                                parseFloat(item.item.rate)\n                                            )\n                                              .toFixed(2)\n                                              .toLocaleString()\n                                        )\n                                      )\n                                    ])\n                                  ]\n                                )\n                              ]\n                            }\n                          },\n                          {\n                            key: \"cell(item_name)\",\n                            fn: function(it) {\n                              return [\n                                it.item.rate == 0\n                                  ? _c(\n                                      \"span\",\n                                      { staticStyle: { color: \"red\" } },\n                                      [_vm._v(_vm._s(it.item.item_name))]\n                                    )\n                                  : _vm._e(),\n                                _vm._v(\" \"),\n                                it.item.rate != 0\n                                  ? _c(\"span\", [\n                                      _vm._v(_vm._s(it.item.item_name))\n                                    ])\n                                  : _vm._e()\n                              ]\n                            }\n                          },\n                          {\n                            key: \"cell(select)\",\n                            fn: function(row) {\n                              return [\n                                _c(\"input\", {\n                                  directives: [\n                                    {\n                                      name: \"model\",\n                                      rawName: \"v-model\",\n                                      value: _vm.selected,\n                                      expression: \"selected\"\n                                    }\n                                  ],\n                                  attrs: {\n                                    disabled: row.item.rate == 0,\n                                    type: \"radio\",\n                                    variant: \"primary\",\n                                    name: \"some-radio\"\n                                  },\n                                  domProps: {\n                                    value: row,\n                                    checked: _vm._q(_vm.selected, row)\n                                  },\n                                  on: {\n                                    change: [\n                                      function($event) {\n                                        _vm.selected = row\n                                      },\n                                      function($event) {\n                                        _vm.onSelect(\n                                          row.item.item.split(/\\s+/).join(\"-\")\n                                        )\n                                      }\n                                    ]\n                                  }\n                                })\n                              ]\n                            }\n                          },\n                          {\n                            key: \"cell(quantity)\",\n                            fn: function(i) {\n                              return [\n                                _vm.selected.item &&\n                                _vm.selected.item.item === i.item.item\n                                  ? _c(\"b-input\", {\n                                      attrs: {\n                                        disabled: i.item.rate == 0,\n                                        type: \"number\",\n                                        name: \"qty\",\n                                        id: i.item.item.split(/\\s+/).join(\"-\"),\n                                        value: i.item.quantity\n                                      },\n                                      model: {\n                                        value: i.item.quantity,\n                                        callback: function($$v) {\n                                          _vm.$set(i.item, \"quantity\", $$v)\n                                        },\n                                        expression: \"i.item.quantity\"\n                                      }\n                                    })\n                                  : _vm._e(),\n                                _vm._v(\" \"),\n                                !(\n                                  _vm.selected.item &&\n                                  _vm.selected.item.item === i.item.item\n                                )\n                                  ? _c(\"span\", [\n                                      _vm._v(_vm._s(i.item.quantity))\n                                    ])\n                                  : _vm._e()\n                              ]\n                            }\n                          }\n                        ])\n                      }),\n                      _vm._v(\" \"),\n                      _c(\n                        \"b-form-checkbox\",\n                        {\n                          attrs: {\n                            id: \"checkbox-1\",\n                            name: \"checkbox-1\",\n                            value: true,\n                            \"unchecked-value\": false\n                          },\n                          model: {\n                            value: _vm.dispense,\n                            callback: function($$v) {\n                              _vm.dispense = $$v\n                            },\n                            expression: \"dispense\"\n                          }\n                        },\n                        [_vm._v(\"\\n    Dispense as a one off prescription\\n  \")]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"span\", { staticStyle: { color: \"red\" } }, [\n                        _vm._v(\n                          \"**(The patient will be billed on submit of this)\"\n                        )\n                      ])\n                    ],\n                    1\n                  )\n                ]\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-8862f3cc_0\", { source: \"\\n.root[data-v-8862f3cc] {\\n  height: 85vh;\\n  overflow: scroll;\\n}\\n.search[data-v-8862f3cc] {\\n  display: flex;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/pharmacy/components/core/container/InpatientPrescriptions.vue\"],\"names\":[],\"mappings\":\";AAkkBA;EACA,YAAA;EACA,gBAAA;AACA;AACA;EACA,aAAA;AACA\",\"file\":\"InpatientPrescriptions.vue\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"root\\\">\\n    <div class=\\\"\\\">\\n                    <div style=\\\"search\\\">\\n                      <div>\\n                      <div style=\\\"width: 400px; display: flex; justify-content: space-between;\\\" ref=\\\"appointment-search\\\" class=\\\"ref-field-input\\\" />\\n                      </div>\\n                      <div>\\n                    <div style=\\\"width: 400px; display: flex; justify-content: space-between;\\\" ref=\\\"patient-search\\\" class=\\\"ref-field-input\\\" />\\n                    </div>\\n                    </div> \\n                </div>\\n    <b-modal\\n      id=\\\"modal-prevent-closing\\\"\\n      ref=\\\"changeServiceUnitModal\\\"\\n      title=\\\"Select Pharmacy Warehouse\\\"\\n      @hidden=\\\"resetServiceUnits\\\"\\n      @ok=\\\"updateWarehouse\\\"\\n    >\\n      <b-form-select\\n        v-model=\\\"warehouse\\\"\\n        :options=\\\"warehouses\\\"\\n        placeholder=\\\"Select warehouse\\\"\\n      ></b-form-select>\\n      <div class=\\\"mt-3\\\">\\n        Selected: <strong>{{ warehouse }}</strong>\\n      </div>\\n    </b-modal>\\n    <!-- <div v-if=\\\"loading\\\" style=\\\"padding-top:25%; text-align:center; height:100vh;\\\">\\n                                                                                <b-spinner style=\\\"width: 300px; height: 300px;margin:auto;\\\"></b-spinner>\\n                                                                            </div> -->\\n\\n    <div style=\\\"padding-top: 0.2%; margin-top: 8px\\\">\\n      <b-row>\\n        <b-col>\\n          <div style=\\\"display: flex; justify-content: flex-end\\\">\\n            <b-button-group style=\\\"margin-right: 16px; margin-top: 4px\\\">\\n              <!-- <b-button\\n                style=\\\"margin-right: 2px\\\"\\n                variant=\\\"primary\\\"\\n                @click=\\\"postInvoice\\\"\\n                >Create Sales Order</b-button\\n              > -->\\n              <!-- <b-button\\n                v-if=\\\"prescription && prescription.length\\\"\\n                style=\\\"margin-right: 2px\\\"\\n                variant=\\\"primary\\\"\\n                @click=\\\"printPrescription(prescription[0])\\\"\\n                >Print</b-button\\n              > -->\\n              <!-- <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"checkInvoice\\\">Payment </b-button> -->\\n              <b-button\\n                style=\\\"margin-right: 2px\\\"\\n                variant=\\\"primary\\\"\\n                @click=\\\"dispense\\\"\\n                v-if=\\\"paidPres.length > 0\\\"\\n                >Dispense</b-button\\n              >\\n              <!-- <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"transferPrescription\\\">Transfer</b-button> -->\\n            </b-button-group>\\n          </div>\\n        </b-col>\\n      </b-row>\\n      <div class=\\\"table-responsive\\\">\\n        <b-table\\n          :fields=\\\"fields\\\"\\n          class=\\\"table\\\"\\n          stacked=\\\"md\\\"\\n          :per-page=\\\"10\\\"\\n          :current-page=\\\"currentPage\\\"\\n          small\\n          hover\\n          :items=\\\"prescription\\\"\\n        >\\n          <template #cell(action)=\\\"row\\\">\\n            <div style=\\\"display: flex\\\">\\n              <b-button\\n                @click=\\\"openModal(row.item)\\\"\\n                class=\\\"sm\\\"\\n                variant=\\\"primary\\\"\\n              >\\n                View</b-button\\n              >\\n              <!-- <b-button\\n                style=\\\"margin-left: 8px\\\"\\n                @click=\\\"addAMatch()\\\"\\n                variant=\\\"primary\\\"\\n                >MatchStock Item</b-button -->\\n              <b-button style=\\\"margin-left: 8px\\\" @click=\\\"openEditModal(row.item)\\\" variant=\\\"primary\\\">Edit Prescription</b-button>\\n              <b-button style=\\\"margin-left: 8px\\\" @click=\\\"cancel(row.item)\\\" variant=\\\"danger\\\">Cancel Prescription</b-button>\\n            </div>\\n          </template>\\n        </b-table>\\n        <b-pagination\\n      v-model=\\\"currentPage\\\"\\n      :total-rows=\\\"prescription.length\\\"\\n      :per-page=\\\"10\\\"\\n      aria-controls=\\\"my-table\\\"\\n    ></b-pagination>\\n        <b-modal\\n          size=\\\"xl\\\"\\n          :ok-title=\\\"\\n            activeRow.patient_appointment\\n              ? 'Create Sales Order'\\n              : 'Create Medication Order'\\n          \\\"\\n          id=\\\"modal-1\\\"\\n          ref=\\\"viewPrescription\\\"\\n          title=\\\"Doctor's Drug Prescription\\\"\\n          @ok=\\\"createMedicationOrder()\\\"\\n        >\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Patient Status:</strong>\\n            <span style=\\\"margin-bottom: 0\\\">{{\\n              activeRow.inpatient_record ? \\\"Inpatient\\\" : \\\"Outpatient\\\"\\n            }}</span>\\n          </div>\\n          <div style=\\\"display: flex\\\">\\n            <div style=\\\"margin-top: 16px; width: 50%; flex: 1\\\">\\n              <strong>Drug:</strong>\\n              <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.drug }}</pre>\\n            </div>\\n            <div style=\\\"margin-top: 16px; width: 50%; flex: 1\\\">\\n              <strong>Dose:</strong>\\n              <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.dose }}</pre>\\n            </div>\\n          </div>\\n          <div style=\\\"display: flex\\\">\\n            <div style=\\\"margin-top: 16px; width: 50%; flex: 1\\\">\\n              <strong>Route of Administration:</strong>\\n              <pre style=\\\"margin-bottom: 0\\\">{{\\n                activeRow.route_of_administration\\n              }}</pre>\\n            </div>\\n            <div style=\\\"margin-top: 16px; width: 50%; flex: 1\\\">\\n              <strong>Start Date:</strong>\\n              <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.start_date }}</pre>\\n            </div>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Instructions:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.instructions }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <b-button variant=\\\"primary\\\" v-b-toggle.collapse-1\\n              >Ongoing Medication Orders</b-button\\n            >\\n            <b-collapse id=\\\"collapse-1\\\" class=\\\"mt-2\\\">\\n              <b-table :fields=\\\"imoFields\\\" :items=\\\"imoItems\\\"> </b-table>\\n            </b-collapse>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <h4>Matched Stock Items</h4>\\n\\n            <b-table\\n              bordered\\n              :items=\\\"items\\\"\\n              :fields=\\\"[\\n                { label: 'Select', key: 'select' },\\n                'item_name',\\n                { label: 'Quantity', key: 'quantity' },\\n                'in_stock',\\n                'rate',\\n                {\\n                  key: 'total',\\n                  label: 'Total',\\n                  formatter: (value, key, item) =>\\n                    item.quantity * parseFloat(item.rate),\\n                },\\n                {key: 'action', label: ' '}\\n              ]\\\"\\n            >\\n              <template #cell(rate)=\\\"i\\\">\\n              <div style=\\\"text-align: right;\\\">\\n                {{ i.item.rate.toFixed(2) }}\\n              </div>\\n            </template>\\n            <template #cell(total)=\\\"item\\\">\\n              <div style=\\\"text-align: right;\\\">\\n              <span>{{'KES ' + Number(item.item.quantity * parseFloat(item.item.rate)).toFixed(2).toLocaleString()}}</span>\\n              </div>\\n            </template>\\n            <template #cell(item_name)=\\\"it\\\">\\n                <span v-if=\\\"it.item.rate == 0\\\" style=\\\"color: red\\\">{{ it.item.item_name }}</span>\\n                <span v-if=\\\"it.item.rate != 0\\\">{{ it.item.item_name }}</span>\\n              </template>\\n              <template #cell(select)=\\\"row\\\">\\n                <input :disabled=\\\"row.item.rate == 0\\\" v-model=\\\"selected\\\" @change=\\\"onSelect(row.item.item.split(/\\\\s+/).join('-'))\\\" type=\\\"radio\\\" variant=\\\"primary\\\" name=\\\"some-radio\\\" :value=\\\"row\\\" />\\n              </template>\\n              <template #cell(quantity)=\\\"i\\\">\\n                <b-input :disabled=\\\"i.item.rate == 0\\\" v-if=\\\"selected.item && selected.item.item === i.item.item\\\" type=\\\"number\\\" name=\\\"qty\\\" v-model=\\\"i.item.quantity\\\" :id=\\\"i.item.item.split(/\\\\s+/).join('-')\\\" :value=\\\"i.item.quantity\\\" />\\n                 <span v-if=\\\"!(selected.item && selected.item.item === i.item.item)\\\">{{i.item.quantity}}</span>\\n              </template>\\n              <!-- <template #cell(action)=\\\"row\\\">\\n                <b-button @click=\\\"removeMatchedItem(row.item)\\\" variant=\\\"danger\\\"\\n                  >Remove</b-button\\n                >\\n              </template> -->\\n            </b-table>\\n            <b-form-checkbox\\n      id=\\\"checkbox-1\\\"\\n      v-model=\\\"dispense\\\"\\n      name=\\\"checkbox-1\\\"\\n      :value=\\\"true\\\"\\n      :unchecked-value=\\\"false\\\"\\n    >\\n      Dispense as a one off prescription\\n    </b-form-checkbox>\\n    <span style=\\\"color: red;\\\">**(The patient will be billed on submit of this)</span>\\n\\n          </div>\\n        </b-modal>\\n      \\n      \\n      </div>\\n    </div>\\n  </div>\\n</template>\\n<script>\\nimport {\\n  getPatientPrescriptionsV2,\\n  calculatePrescriptionQuantity,\\n  createMedicationOrder as createMedicationOrderApi,\\n  getMatchedItems,\\n  matchStockItemApi,\\n  getCurrentMedicationOrders,\\n  getDrugGroups,\\n  removeMatchedItem as removeMatchedItemApi,\\n   updateDrugPrescription,\\n   createDrugSalesOrder,\\n   cancelInpatientPrescriptions,\\n} from \\\"../../../../services/pharmacy/prescriptions.js\\\";\\nexport default {\\n  name: \\\"InpatientPrescriptions\\\",\\n    props: {\\n      selectedPharmacy: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    }\\n  },\\n  data() {\\n    return {\\n      filters: {},\\n      dispense: false,\\n      selected: {},\\n      tt: false,\\n      itemGroups: [],\\n      prescriptionItems: [],\\n      prescriptionItemsPage: [],\\n      loading: true,\\n      alternativeDrugs: [],\\n      alternativeDrug: null,\\n      prescriptionItem: null,\\n      warehouses: [],\\n      warehouse: null,\\n      customerInfo: null,\\n      totalAmount: 0,\\n      selectedPrescriptions: [],\\n      selectedTotals: 0,\\n      prescription: [],\\n      paidPres: [],\\n      currentPage: 1,\\n      fields: [\\n        'patient_name',\\n        'patient',\\n        'drug_name',\\n        // { label: 'Strength', key: 'dose' },\\n        { label: 'Dose', key: 'doctor_dose' },\\n        'bed',\\n        'frequency',\\n        'route_of_administration',\\n        'start_date',\\n        { label: 'Actions', key: 'action' },\\n      ],\\n      imoFields: [\\n        \\\"drug\\\",\\n        { key: \\\"drug_code\\\", label: \\\"Stock Item\\\" },\\n        \\\"duration\\\",\\n        \\\"frequency\\\",\\n        {\\n          label: \\\"Scheduled Time\\\",\\n          key: \\\"date\\\",\\n          formatter: (value, key, item) => {\\n            return moment(item.date + \\\" \\\" + item.time).fromNow();\\n          },\\n        },\\n        \\\"route_of_administration\\\",\\n      ],\\n      imoItems: [],\\n      activeRow: {},\\n      items: [],\\n      addItem: false,\\n    };\\n  },\\n  mounted() {\\n    if(this.filters.service_unit) {\\n      getPatientPrescriptionsV2({ fetch: \\\"inpatients\\\", ...this.filters }).then((data) => {\\n      this.prescription = data;\\n    });\\n    }\\n  \\n    getDrugGroups().then((data) => {\\n      this.itemGroups = data;\\n    });\\n    this.makeFields();\\n  },\\n  watch: {\\n    activeRow() {\\n      const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, warehouse: this.selectedPharmacy.warehouse, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({ quantity: quantity || 1, original_quantity: quantity || 1,  in_stock: item.stock_balance, rate: 0, ...item}));\\n        })\\n      getCurrentMedicationOrders({ patient: this.activeRow.patient }).then(\\n        (items) => {\\n          this.imoItems = items;\\n        }\\n      );\\n    },\\n  },\\n  methods: {\\n    cancel(item){\\n      frappe.confirm('Are you sure you want to cancel this prescription?',\\n    () => {\\n     cancelInpatientPrescriptions(item.name)\\n     .then((i) => {\\n       this.prescription = this.prescription.filter((item) => {\\n            return item.name !==i.name\\n          });\\n     })\\n    }, () => {\\n        // action to perform if No is selected\\n    })\\n    },\\n    makeFields(){\\n      const parent = this;\\n      const customer_field = frappe.ui.form.make_control({\\n        df: {\\n            label: \\\"Service Unit\\\",\\n            fieldtype: \\\"Link\\\",\\n            fieldname: \\\"service_unit\\\",\\n            options: \\\"Healthcare Service Unit\\\",\\n            placeholder: __(`Search Per Service Unit`),\\n            filters: {\\n               is_group: 1\\n            },\\n            onchange: function() {\\n              parent.filters.service_unit = this.value\\n                getPatientPrescriptionsV2({ fetch: \\\"inpatients\\\", ...parent.filters, service_unit: this.value }).then((data) => {\\n          parent.prescription = data;\\n        });\\n            },\\n            },\\n            parent: this.$refs[\\\"appointment-search\\\"],\\n            render_input: true,\\n      })\\n       const patient_field = frappe.ui.form.make_control({\\n        df: {\\n            label: \\\"Patient\\\",\\n            fieldtype: \\\"Link\\\",\\n            fieldname: \\\"patient\\\",\\n            options: \\\"Patient\\\",\\n            placeholder: __(`Patient`),\\n        \\n            onchange: function() {\\n                    parent.filters.patient = this.value\\n                getPatientPrescriptionsV2({ fetch: \\\"inpatients\\\", ...parent.filters, patient_name: this.value }).then((data) => {\\n          parent.prescription = data;\\n        });\\n                \\n            },\\n            },\\n            parent: this.$refs[\\\"appointment-search\\\"],\\n            render_input: true,\\n      })\\n    },\\n    onSelect(name){\\n      // const name = ev.item.split(/\\\\s+/).join('-')\\n      const el = document.getElementById(name);\\n      console.log(name, el)\\n      if(el){\\n        el.focus()\\n      }\\n    },\\n     openEditModal(item){\\n      const parent = this;\\n      const previousName = item.drug_name;\\n      let d = new frappe.ui.Dialog({\\n        title: `Edit Drug Prescription`,\\n        fields: [{\\n                    label: 'Drug',\\n                    fieldname: 'drug',\\n                    fieldtype: 'Link',\\n                    options: 'Item',\\n                    reqd: true,\\n                    filters: { item_group: ['in', parent.itemGroups ], has_variants: 1},\\n                    default : item.drug,\\n                    onchange: () => {\\n                       frappe.db.get_value('Item', d.fields_dict.drug.value, 'item_name').then(({ message }) => {\\n                         d.set_value('drug_name', message.item_name);\\n                         d.set_value('instructions', `Take ${message.item_name} ${item.doctor_dose || item.dose || ''} for ${item.duration} ${item.period || ''}`)\\n                         d.refresh();\\n                });\\n                    }\\n                },{\\n                    label: 'Drug Name',\\n                    fieldname: 'drug_name',\\n                    fetch_from: 'drug.item_name',\\n                    fieldtype: 'Data',\\n                    reqd: true,\\n                     default : item.drug_name,\\n                    read_only: 1\\n                },{\\n                    label: 'Instructions',\\n                    fieldname: 'instructions',\\n                    fieldtype: 'Small Text',\\n                    default: item.instructions\\n                }],\\n        primary_action: (values) => {\\n          updateDrugPrescription({...values, name: item.name })\\n          .then((res) => {\\n            item.drug_name = res.drug_name\\n            item.instructions = res.instructions\\n            item.drug = res.drug\\n            this.$emit('onUpdateList')\\n          })\\n          d.hide();\\n        }    \\n      });\\n      d.show()\\n    },\\n    openModal(row) {\\n      this.activeRow = row;\\n      this.$refs.viewPrescription.show();\\n      console.log(row);\\n    },\\n    removeMatchedItem(item) {\\n      removeMatchedItemApi(item).then(() => {\\n        const promises = [\\n          calculatePrescriptionQuantity({\\n            period: this.activeRow.duration,\\n            dosage: this.activeRow.frequency,\\n          }),\\n          getMatchedItems({\\n            drug: this.activeRow.drug,\\n            strength: this.activeRow.strength,\\n            warehouse: this.selectedPharmacy.warehouse,\\n            patient: this.activeRow.patient_number,\\n            filters: { item: [\\\"!=\\\", \\\"\\\"] },\\n          }),\\n        ];\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({\\n            quantity: quantity || 1,\\n            original_quantity: quantity || 1, \\n            in_stock: item.stock_balance,\\n            rate: 0,\\n            ...item,\\n          }));\\n        });\\n      });\\n    },\\n    createMedicationOrder() {\\n      if (!this.selected.item) {\\n        return frappe.throw(\\n          \\\"Please select an item or add a matched Item before creating a medication order\\\"\\n        );\\n      }\\n      const order = {\\n        patient: this.activeRow.patient_number,\\n        patient_encounter: this.activeRow.patient_encounter,\\n        drug_code: this.selected.item.item,\\n        dosage: this.activeRow.frequency,\\n        period: this.activeRow.duration,\\n        dosage_form: this.activeRow.route_of_administration,\\n        start_date: this.activeRow.start_date,\\n        service_unit: this.activeRow.service_unit || \\\"\\\",\\n        prescription: this.activeRow.name,\\n        quantity: this.selected.item.quantity,\\n        warehouse: this.selectedPharmacy.warehouse,\\n        original_quantity: this.selected.item.original_quantity\\n      };\\n\\nconsole.log('===========>', this.activeRow.frequency * (this.selected.item.quantity / this.selected.item.original_quantity))\\n      if(!this.dispense){\\n        createMedicationOrderApi(order).then(() => {\\n          let idx = 0\\n          this.prescription = this.prescription.filter((item) => {\\n            return item.name !==this.activeRow.name\\n          });\\n          const nextItem = this.prescription[0]\\n          if (nextItem) {\\n            this.openModal(nextItem)\\n          }\\n        // });\\n      });\\n      } else {\\n        // Create medicatiop\\n        this.createSalesOrders()\\n      }\\n    },\\n    createSalesOrders(){\\n      const parent = this\\n      const item = {\\n        patient: this.activeRow.patient_number,\\n        encounter: this.activeRow.patient_encounter, \\n        inpatient_record: this.activeRow.inpatient_record, \\n        item: this.selected.item.item, \\n        quantity: this.selected.item.quantity,\\n        service_unit: this.activeRow.service_unit,\\n        appointment_name: this.activeRow.patient_appointment,\\n        doctors_prescription: this.activeRow.name,\\n        prescription_name: this.activeRow.name,\\n        route_of_administration: this.activeRow.route_of_administration || '',\\n        rate: this.selected.item.rate,\\n      }\\n      const args = {\\n        items: [item],\\n        limit: 0,\\n        total: parseInt(this.selected.item.rate) * parseInt(this.selected.item.quantity),\\n        warehouse: this.selectedPharmacy.warehouse,\\n        is_inpatient: 1\\n      }\\n      console.log(args)\\n      // return\\n      createDrugSalesOrder(args).then(() => {\\n        let idx = 0\\n          this.prescription = this.prescription.filter((item) => {\\n            return item.name !==this.activeRow.name\\n          });\\n          const nextItem = this.prescription[0]\\n          if (nextItem) {\\n            this.openModal(nextItem)\\n          }\\n        this.$emit('onUpdateList')\\n      })\\n    },\\n    addAMatch(item) {\\n      let d = new frappe.ui.Dialog({\\n        title: `Add Matching Stock Item`,\\n        fields: [\\n          {\\n            label: \\\"Item\\\",\\n            fieldname: \\\"item\\\",\\n            fieldtype: \\\"Link\\\",\\n            options: \\\"Item\\\",\\n            filters: { item_group: [\\\"in\\\", this.itemGroups], has_variants: 0 },\\n          },\\n          {\\n            label: \\\"Strength\\\",\\n            fieldname: \\\"strength\\\",\\n            fieldtype: \\\"Data\\\",\\n          },\\n        ],\\n        primary_action: (values) => {\\n          matchStockItemApi({\\n            ...values,\\n            drug: item.drug,\\n            dosage_form: item.dosage_form,\\n          }).then(() => {\\n            frappe.show_alert(\\n              `${item.drug} matched successfully with ${values.item}`,\\n              5\\n            );\\n            const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, patient: this.activeRow.patient_number, warehouse: this.selectedPharmacy.warehouse, filters: {item: ['!=', '']}})]\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({ quantity: quantity || 1, original_quantity: quantity || 1, in_stock: item.stock_balance, rate: 0, ...item}));\\n        })\\n            d.hide();\\n          });\\n        },\\n      });\\n      d.show();\\n    },\\n  },\\n};\\n</script>\\n<style scoped>\\n.root {\\n  height: 85vh;\\n  overflow: scroll;\\n}\\n.search {\\n  display: flex;\\n}\\n</style>\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-8862f3cc\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n  <div class=\\\"root\\\">\\n    <div class=\\\"\\\">\\n                    <div style=\\\"search\\\">\\n                      <div>\\n                      <div style=\\\"width: 400px; display: flex; justify-content: space-between;\\\" ref=\\\"appointment-search\\\" class=\\\"ref-field-input\\\" />\\n                      </div>\\n                      <div>\\n                    <div style=\\\"width: 400px; display: flex; justify-content: space-between;\\\" ref=\\\"patient-search\\\" class=\\\"ref-field-input\\\" />\\n                    </div>\\n                    </div> \\n                </div>\\n    <b-modal\\n      id=\\\"modal-prevent-closing\\\"\\n      ref=\\\"changeServiceUnitModal\\\"\\n      title=\\\"Select Pharmacy Warehouse\\\"\\n      @hidden=\\\"resetServiceUnits\\\"\\n      @ok=\\\"updateWarehouse\\\"\\n    >\\n      <b-form-select\\n        v-model=\\\"warehouse\\\"\\n        :options=\\\"warehouses\\\"\\n        placeholder=\\\"Select warehouse\\\"\\n      ></b-form-select>\\n      <div class=\\\"mt-3\\\">\\n        Selected: <strong>{{ warehouse }}</strong>\\n      </div>\\n    </b-modal>\\n    <!-- <div v-if=\\\"loading\\\" style=\\\"padding-top:25%; text-align:center; height:100vh;\\\">\\n                                                                                <b-spinner style=\\\"width: 300px; height: 300px;margin:auto;\\\"></b-spinner>\\n                                                                            </div> -->\\n\\n    <div style=\\\"padding-top: 0.2%; margin-top: 8px\\\">\\n      <b-row>\\n        <b-col>\\n          <div style=\\\"display: flex; justify-content: flex-end\\\">\\n            <b-button-group style=\\\"margin-right: 16px; margin-top: 4px\\\">\\n              <!-- <b-button\\n                style=\\\"margin-right: 2px\\\"\\n                variant=\\\"primary\\\"\\n                @click=\\\"postInvoice\\\"\\n                >Create Sales Order</b-button\\n              > -->\\n              <!-- <b-button\\n                v-if=\\\"prescription && prescription.length\\\"\\n                style=\\\"margin-right: 2px\\\"\\n                variant=\\\"primary\\\"\\n                @click=\\\"printPrescription(prescription[0])\\\"\\n                >Print</b-button\\n              > -->\\n              <!-- <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"checkInvoice\\\">Payment </b-button> -->\\n              <b-button\\n                style=\\\"margin-right: 2px\\\"\\n                variant=\\\"primary\\\"\\n                @click=\\\"dispense\\\"\\n                v-if=\\\"paidPres.length > 0\\\"\\n                >Dispense</b-button\\n              >\\n              <!-- <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"transferPrescription\\\">Transfer</b-button> -->\\n            </b-button-group>\\n          </div>\\n        </b-col>\\n      </b-row>\\n      <div class=\\\"table-responsive\\\">\\n        <b-table\\n          :fields=\\\"fields\\\"\\n          class=\\\"table\\\"\\n          stacked=\\\"md\\\"\\n          :per-page=\\\"10\\\"\\n          :current-page=\\\"currentPage\\\"\\n          small\\n          hover\\n          :items=\\\"prescription\\\"\\n        >\\n          <template #cell(action)=\\\"row\\\">\\n            <div style=\\\"display: flex\\\">\\n              <b-button\\n                @click=\\\"openModal(row.item)\\\"\\n                class=\\\"sm\\\"\\n                variant=\\\"primary\\\"\\n              >\\n                View</b-button\\n              >\\n              <!-- <b-button\\n                style=\\\"margin-left: 8px\\\"\\n                @click=\\\"addAMatch()\\\"\\n                variant=\\\"primary\\\"\\n                >MatchStock Item</b-button -->\\n              <b-button style=\\\"margin-left: 8px\\\" @click=\\\"openEditModal(row.item)\\\" variant=\\\"primary\\\">Edit Prescription</b-button>\\n              <b-button style=\\\"margin-left: 8px\\\" @click=\\\"cancel(row.item)\\\" variant=\\\"danger\\\">Cancel Prescription</b-button>\\n            </div>\\n          </template>\\n        </b-table>\\n        <b-pagination\\n      v-model=\\\"currentPage\\\"\\n      :total-rows=\\\"prescription.length\\\"\\n      :per-page=\\\"10\\\"\\n      aria-controls=\\\"my-table\\\"\\n    ></b-pagination>\\n        <b-modal\\n          size=\\\"xl\\\"\\n          :ok-title=\\\"\\n            activeRow.patient_appointment\\n              ? 'Create Sales Order'\\n              : 'Create Medication Order'\\n          \\\"\\n          id=\\\"modal-1\\\"\\n          ref=\\\"viewPrescription\\\"\\n          title=\\\"Doctor's Drug Prescription\\\"\\n          @ok=\\\"createMedicationOrder()\\\"\\n        >\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Patient Status:</strong>\\n            <span style=\\\"margin-bottom: 0\\\">{{\\n              activeRow.inpatient_record ? \\\"Inpatient\\\" : \\\"Outpatient\\\"\\n            }}</span>\\n          </div>\\n          <div style=\\\"display: flex\\\">\\n            <div style=\\\"margin-top: 16px; width: 50%; flex: 1\\\">\\n              <strong>Drug:</strong>\\n              <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.drug }}</pre>\\n            </div>\\n            <div style=\\\"margin-top: 16px; width: 50%; flex: 1\\\">\\n              <strong>Dose:</strong>\\n              <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.dose }}</pre>\\n            </div>\\n          </div>\\n          <div style=\\\"display: flex\\\">\\n            <div style=\\\"margin-top: 16px; width: 50%; flex: 1\\\">\\n              <strong>Route of Administration:</strong>\\n              <pre style=\\\"margin-bottom: 0\\\">{{\\n                activeRow.route_of_administration\\n              }}</pre>\\n            </div>\\n            <div style=\\\"margin-top: 16px; width: 50%; flex: 1\\\">\\n              <strong>Start Date:</strong>\\n              <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.start_date }}</pre>\\n            </div>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <strong>Instructions:</strong>\\n            <pre style=\\\"margin-bottom: 0\\\">{{ activeRow.instructions }}</pre>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <b-button variant=\\\"primary\\\" v-b-toggle.collapse-1\\n              >Ongoing Medication Orders</b-button\\n            >\\n            <b-collapse id=\\\"collapse-1\\\" class=\\\"mt-2\\\">\\n              <b-table :fields=\\\"imoFields\\\" :items=\\\"imoItems\\\"> </b-table>\\n            </b-collapse>\\n          </div>\\n          <div style=\\\"margin-top: 16px\\\">\\n            <h4>Matched Stock Items</h4>\\n\\n            <b-table\\n              bordered\\n              :items=\\\"items\\\"\\n              :fields=\\\"[\\n                { label: 'Select', key: 'select' },\\n                'item_name',\\n                { label: 'Quantity', key: 'quantity' },\\n                'in_stock',\\n                'rate',\\n                {\\n                  key: 'total',\\n                  label: 'Total',\\n                  formatter: (value, key, item) =>\\n                    item.quantity * parseFloat(item.rate),\\n                },\\n                {key: 'action', label: ' '}\\n              ]\\\"\\n            >\\n              <template #cell(rate)=\\\"i\\\">\\n              <div style=\\\"text-align: right;\\\">\\n                {{ i.item.rate.toFixed(2) }}\\n              </div>\\n            </template>\\n            <template #cell(total)=\\\"item\\\">\\n              <div style=\\\"text-align: right;\\\">\\n              <span>{{'KES ' + Number(item.item.quantity * parseFloat(item.item.rate)).toFixed(2).toLocaleString()}}</span>\\n              </div>\\n            </template>\\n            <template #cell(item_name)=\\\"it\\\">\\n                <span v-if=\\\"it.item.rate == 0\\\" style=\\\"color: red\\\">{{ it.item.item_name }}</span>\\n                <span v-if=\\\"it.item.rate != 0\\\">{{ it.item.item_name }}</span>\\n              </template>\\n              <template #cell(select)=\\\"row\\\">\\n                <input :disabled=\\\"row.item.rate == 0\\\" v-model=\\\"selected\\\" @change=\\\"onSelect(row.item.item.split(/\\\\s+/).join('-'))\\\" type=\\\"radio\\\" variant=\\\"primary\\\" name=\\\"some-radio\\\" :value=\\\"row\\\" />\\n              </template>\\n              <template #cell(quantity)=\\\"i\\\">\\n                <b-input :disabled=\\\"i.item.rate == 0\\\" v-if=\\\"selected.item && selected.item.item === i.item.item\\\" type=\\\"number\\\" name=\\\"qty\\\" v-model=\\\"i.item.quantity\\\" :id=\\\"i.item.item.split(/\\\\s+/).join('-')\\\" :value=\\\"i.item.quantity\\\" />\\n                 <span v-if=\\\"!(selected.item && selected.item.item === i.item.item)\\\">{{i.item.quantity}}</span>\\n              </template>\\n              <!-- <template #cell(action)=\\\"row\\\">\\n                <b-button @click=\\\"removeMatchedItem(row.item)\\\" variant=\\\"danger\\\"\\n                  >Remove</b-button\\n                >\\n              </template> -->\\n            </b-table>\\n            <b-form-checkbox\\n      id=\\\"checkbox-1\\\"\\n      v-model=\\\"dispense\\\"\\n      name=\\\"checkbox-1\\\"\\n      :value=\\\"true\\\"\\n      :unchecked-value=\\\"false\\\"\\n    >\\n      Dispense as a one off prescription\\n    </b-form-checkbox>\\n    <span style=\\\"color: red;\\\">**(The patient will be billed on submit of this)</span>\\n\\n          </div>\\n        </b-modal>\\n      \\n      \\n      </div>\\n    </div>\\n  </div>\\n</template>\\n<script>\\nimport {\\n  getPatientPrescriptionsV2,\\n  calculatePrescriptionQuantity,\\n  createMedicationOrder as createMedicationOrderApi,\\n  getMatchedItems,\\n  matchStockItemApi,\\n  getCurrentMedicationOrders,\\n  getDrugGroups,\\n  removeMatchedItem as removeMatchedItemApi,\\n   updateDrugPrescription,\\n   createDrugSalesOrder,\\n   cancelInpatientPrescriptions,\\n} from \\\"../../../../services/pharmacy/prescriptions.js\\\";\\nexport default {\\n  name: \\\"InpatientPrescriptions\\\",\\n    props: {\\n      selectedPharmacy: {\\n      type: String,\\n      default: \\\"\\\",\\n      required: true,\\n    }\\n  },\\n  data() {\\n    return {\\n      filters: {},\\n      dispense: false,\\n      selected: {},\\n      tt: false,\\n      itemGroups: [],\\n      prescriptionItems: [],\\n      prescriptionItemsPage: [],\\n      loading: true,\\n      alternativeDrugs: [],\\n      alternativeDrug: null,\\n      prescriptionItem: null,\\n      warehouses: [],\\n      warehouse: null,\\n      customerInfo: null,\\n      totalAmount: 0,\\n      selectedPrescriptions: [],\\n      selectedTotals: 0,\\n      prescription: [],\\n      paidPres: [],\\n      currentPage: 1,\\n      fields: [\\n        'patient_name',\\n        'patient',\\n        'drug_name',\\n        // { label: 'Strength', key: 'dose' },\\n        { label: 'Dose', key: 'doctor_dose' },\\n        'bed',\\n        'frequency',\\n        'route_of_administration',\\n        'start_date',\\n        { label: 'Actions', key: 'action' },\\n      ],\\n      imoFields: [\\n        \\\"drug\\\",\\n        { key: \\\"drug_code\\\", label: \\\"Stock Item\\\" },\\n        \\\"duration\\\",\\n        \\\"frequency\\\",\\n        {\\n          label: \\\"Scheduled Time\\\",\\n          key: \\\"date\\\",\\n          formatter: (value, key, item) => {\\n            return moment(item.date + \\\" \\\" + item.time).fromNow();\\n          },\\n        },\\n        \\\"route_of_administration\\\",\\n      ],\\n      imoItems: [],\\n      activeRow: {},\\n      items: [],\\n      addItem: false,\\n    };\\n  },\\n  mounted() {\\n    if(this.filters.service_unit) {\\n      getPatientPrescriptionsV2({ fetch: \\\"inpatients\\\", ...this.filters }).then((data) => {\\n      this.prescription = data;\\n    });\\n    }\\n  \\n    getDrugGroups().then((data) => {\\n      this.itemGroups = data;\\n    });\\n    this.makeFields();\\n  },\\n  watch: {\\n    activeRow() {\\n      const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, warehouse: this.selectedPharmacy.warehouse, patient: this.activeRow.patient_number, filters: {item: ['!=', '']}})]\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({ quantity: quantity || 1, original_quantity: quantity || 1,  in_stock: item.stock_balance, rate: 0, ...item}));\\n        })\\n      getCurrentMedicationOrders({ patient: this.activeRow.patient }).then(\\n        (items) => {\\n          this.imoItems = items;\\n        }\\n      );\\n    },\\n  },\\n  methods: {\\n    cancel(item){\\n      frappe.confirm('Are you sure you want to cancel this prescription?',\\n    () => {\\n     cancelInpatientPrescriptions(item.name)\\n     .then((i) => {\\n       this.prescription = this.prescription.filter((item) => {\\n            return item.name !==i.name\\n          });\\n     })\\n    }, () => {\\n        // action to perform if No is selected\\n    })\\n    },\\n    makeFields(){\\n      const parent = this;\\n      const customer_field = frappe.ui.form.make_control({\\n        df: {\\n            label: \\\"Service Unit\\\",\\n            fieldtype: \\\"Link\\\",\\n            fieldname: \\\"service_unit\\\",\\n            options: \\\"Healthcare Service Unit\\\",\\n            placeholder: __(`Search Per Service Unit`),\\n            filters: {\\n               is_group: 1\\n            },\\n            onchange: function() {\\n              parent.filters.service_unit = this.value\\n                getPatientPrescriptionsV2({ fetch: \\\"inpatients\\\", ...parent.filters, service_unit: this.value }).then((data) => {\\n          parent.prescription = data;\\n        });\\n            },\\n            },\\n            parent: this.$refs[\\\"appointment-search\\\"],\\n            render_input: true,\\n      })\\n       const patient_field = frappe.ui.form.make_control({\\n        df: {\\n            label: \\\"Patient\\\",\\n            fieldtype: \\\"Link\\\",\\n            fieldname: \\\"patient\\\",\\n            options: \\\"Patient\\\",\\n            placeholder: __(`Patient`),\\n        \\n            onchange: function() {\\n                    parent.filters.patient = this.value\\n                getPatientPrescriptionsV2({ fetch: \\\"inpatients\\\", ...parent.filters, patient_name: this.value }).then((data) => {\\n          parent.prescription = data;\\n        });\\n                \\n            },\\n            },\\n            parent: this.$refs[\\\"appointment-search\\\"],\\n            render_input: true,\\n      })\\n    },\\n    onSelect(name){\\n      // const name = ev.item.split(/\\\\s+/).join('-')\\n      const el = document.getElementById(name);\\n      console.log(name, el)\\n      if(el){\\n        el.focus()\\n      }\\n    },\\n     openEditModal(item){\\n      const parent = this;\\n      const previousName = item.drug_name;\\n      let d = new frappe.ui.Dialog({\\n        title: `Edit Drug Prescription`,\\n        fields: [{\\n                    label: 'Drug',\\n                    fieldname: 'drug',\\n                    fieldtype: 'Link',\\n                    options: 'Item',\\n                    reqd: true,\\n                    filters: { item_group: ['in', parent.itemGroups ], has_variants: 1},\\n                    default : item.drug,\\n                    onchange: () => {\\n                       frappe.db.get_value('Item', d.fields_dict.drug.value, 'item_name').then(({ message }) => {\\n                         d.set_value('drug_name', message.item_name);\\n                         d.set_value('instructions', `Take ${message.item_name} ${item.doctor_dose || item.dose || ''} for ${item.duration} ${item.period || ''}`)\\n                         d.refresh();\\n                });\\n                    }\\n                },{\\n                    label: 'Drug Name',\\n                    fieldname: 'drug_name',\\n                    fetch_from: 'drug.item_name',\\n                    fieldtype: 'Data',\\n                    reqd: true,\\n                     default : item.drug_name,\\n                    read_only: 1\\n                },{\\n                    label: 'Instructions',\\n                    fieldname: 'instructions',\\n                    fieldtype: 'Small Text',\\n                    default: item.instructions\\n                }],\\n        primary_action: (values) => {\\n          updateDrugPrescription({...values, name: item.name })\\n          .then((res) => {\\n            item.drug_name = res.drug_name\\n            item.instructions = res.instructions\\n            item.drug = res.drug\\n            this.$emit('onUpdateList')\\n          })\\n          d.hide();\\n        }    \\n      });\\n      d.show()\\n    },\\n    openModal(row) {\\n      this.activeRow = row;\\n      this.$refs.viewPrescription.show();\\n      console.log(row);\\n    },\\n    removeMatchedItem(item) {\\n      removeMatchedItemApi(item).then(() => {\\n        const promises = [\\n          calculatePrescriptionQuantity({\\n            period: this.activeRow.duration,\\n            dosage: this.activeRow.frequency,\\n          }),\\n          getMatchedItems({\\n            drug: this.activeRow.drug,\\n            strength: this.activeRow.strength,\\n            warehouse: this.selectedPharmacy.warehouse,\\n            patient: this.activeRow.patient_number,\\n            filters: { item: [\\\"!=\\\", \\\"\\\"] },\\n          }),\\n        ];\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({\\n            quantity: quantity || 1,\\n            original_quantity: quantity || 1, \\n            in_stock: item.stock_balance,\\n            rate: 0,\\n            ...item,\\n          }));\\n        });\\n      });\\n    },\\n    createMedicationOrder() {\\n      if (!this.selected.item) {\\n        return frappe.throw(\\n          \\\"Please select an item or add a matched Item before creating a medication order\\\"\\n        );\\n      }\\n      const order = {\\n        patient: this.activeRow.patient_number,\\n        patient_encounter: this.activeRow.patient_encounter,\\n        drug_code: this.selected.item.item,\\n        dosage: this.activeRow.frequency,\\n        period: this.activeRow.duration,\\n        dosage_form: this.activeRow.route_of_administration,\\n        start_date: this.activeRow.start_date,\\n        service_unit: this.activeRow.service_unit || \\\"\\\",\\n        prescription: this.activeRow.name,\\n        quantity: this.selected.item.quantity,\\n        warehouse: this.selectedPharmacy.warehouse,\\n        original_quantity: this.selected.item.original_quantity\\n      };\\n\\nconsole.log('===========>', this.activeRow.frequency * (this.selected.item.quantity / this.selected.item.original_quantity))\\n      if(!this.dispense){\\n        createMedicationOrderApi(order).then(() => {\\n          let idx = 0\\n          this.prescription = this.prescription.filter((item) => {\\n            return item.name !==this.activeRow.name\\n          });\\n          const nextItem = this.prescription[0]\\n          if (nextItem) {\\n            this.openModal(nextItem)\\n          }\\n        // });\\n      });\\n      } else {\\n        // Create medicatiop\\n        this.createSalesOrders()\\n      }\\n    },\\n    createSalesOrders(){\\n      const parent = this\\n      const item = {\\n        patient: this.activeRow.patient_number,\\n        encounter: this.activeRow.patient_encounter, \\n        inpatient_record: this.activeRow.inpatient_record, \\n        item: this.selected.item.item, \\n        quantity: this.selected.item.quantity,\\n        service_unit: this.activeRow.service_unit,\\n        appointment_name: this.activeRow.patient_appointment,\\n        doctors_prescription: this.activeRow.name,\\n        prescription_name: this.activeRow.name,\\n        route_of_administration: this.activeRow.route_of_administration || '',\\n        rate: this.selected.item.rate,\\n      }\\n      const args = {\\n        items: [item],\\n        limit: 0,\\n        total: parseInt(this.selected.item.rate) * parseInt(this.selected.item.quantity),\\n        warehouse: this.selectedPharmacy.warehouse,\\n        is_inpatient: 1\\n      }\\n      console.log(args)\\n      // return\\n      createDrugSalesOrder(args).then(() => {\\n        let idx = 0\\n          this.prescription = this.prescription.filter((item) => {\\n            return item.name !==this.activeRow.name\\n          });\\n          const nextItem = this.prescription[0]\\n          if (nextItem) {\\n            this.openModal(nextItem)\\n          }\\n        this.$emit('onUpdateList')\\n      })\\n    },\\n    addAMatch(item) {\\n      let d = new frappe.ui.Dialog({\\n        title: `Add Matching Stock Item`,\\n        fields: [\\n          {\\n            label: \\\"Item\\\",\\n            fieldname: \\\"item\\\",\\n            fieldtype: \\\"Link\\\",\\n            options: \\\"Item\\\",\\n            filters: { item_group: [\\\"in\\\", this.itemGroups], has_variants: 0 },\\n          },\\n          {\\n            label: \\\"Strength\\\",\\n            fieldname: \\\"strength\\\",\\n            fieldtype: \\\"Data\\\",\\n          },\\n        ],\\n        primary_action: (values) => {\\n          matchStockItemApi({\\n            ...values,\\n            drug: item.drug,\\n            dosage_form: item.dosage_form,\\n          }).then(() => {\\n            frappe.show_alert(\\n              `${item.drug} matched successfully with ${values.item}`,\\n              5\\n            );\\n            const promises = [calculatePrescriptionQuantity({ period: this.activeRow.duration, dosage: this.activeRow.frequency }), getMatchedItems({drug: this.activeRow.drug, strength: this.activeRow.strength, patient: this.activeRow.patient_number, warehouse: this.selectedPharmacy.warehouse, filters: {item: ['!=', '']}})]\\n        Promise.all(promises).then(([quantity, message]) => {\\n          this.items = message.map((item) => ({ quantity: quantity || 1, original_quantity: quantity || 1, in_stock: item.stock_balance, rate: 0, ...item}));\\n        })\\n            d.hide();\\n          });\\n        },\\n      });\\n      d.show();\\n    },\\n  },\\n};\\n</script>\\n<style scoped>\\n.root {\\n  height: 85vh;\\n  overflow: scroll;\\n}\\n.search {\\n  display: flex;\\n}\\n</style>\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "export default {\n    notificationList: [],\n\n}", "export default {\n    ADD_NOTIFICATION(state, notification) {\n        const exits = state.notificationList.find(item => item.name == notification.name);\n        if (!exits) {\n            state.notificationList.unshift(notification);\n        }\n\n    },\n    SET_NOTIFICATION_LIST(state, data) {\n        state.notificationList = data;\n    },\n    UPDATE_NOTIFICATION(state, notification) {\n        const notificationIndex = state.notificationList.findIndex(\n            (t) => t.name == notification.name\n        );\n        Object.assign(state.notificationList[notificationIndex], notification);\n    },\n    REMOVE_NOTIFICATION(state, notification) {\n        state.notificationList = state.notificationList.filter(\n            (item) => item.name !== notification.name\n        );\n    },\n};", "export const api = ({ method, args = {}, freeze=true }) =>\n    new Promise((resolve, reject) =>\n        frappe.call({\n            method,\n            args,\n            freeze,\n            callback: ({ message }) => resolve(message),\n            error: reject,\n        })\n    );\n\nexport const getPatientInfo = (patient_name) =>\n    api({\n        method: \"clinical.api.patients.get_patient_details\",\n        args: patient_name,\n    });\n\nexport const wavePatientRegistrationFee = (patient, reasons) =>\n    api({\n        method: \"clinical.api.patients.waive_patient_registration\",\n        args: { patient, reasons },\n    });\n\nexport const createAppointment = ({\n        patient,\n        service_unit,\n        practitioner,\n        department,\n        appointment_date,\n        appointment_time,\n        referring_practitioner,\n    }) =>\n    api({\n        method: \"clinical.api.patient_encounter.patient_encounter.create_appointment\",\n        args: {\n            patient,\n            service_unit,\n            practitioner,\n            department,\n            appointment_date,\n            appointment_time,\n            referring_practitioner,\n        },\n    });\n//erpnext.healthcare.doctype.inpatient_record.inpatient_record.schedule_discharge\nexport const scheduleDischarge = (args) =>\n    api({\n        method: \"clinical.api.patients.schedule_patient_discharge\",\n        args: { args },\n    });\nexport const getAvailabilityData = ({ practitioner, date }) =>\n    api({\n        method: \"erpnext.healthcare.doctype.patient_appointment.patient_appointment.get_availability_data\",\n        args: { practitioner, date },\n    });\n\nexport const billPatientStandingCharges = () =>\n    api({\n        method: \"billing.billing.api.patient.inpatient_standing_charges_billing.bill_patient_standing_charges\",\n    });\n\nexport const dischargeOrTransferBilling = (inpatient_record) =>\n    api({\n        method: \"billing.billing.api.patient.inpatient_standing_charges_billing.discharge_or_transfer_billing\",\n        args: inpatient_record,\n    });\n\nexport const manuallyDischargeAndVacateBed = (inpatient_record,patient) =>\n    api({\n        method: \"clinical.api.patients.manually_discharge_and_vacate_bed\",\n        args:{\n            inpatient_record,\n            patient\n        },\n    });\n\nexport const requestAmbulance = (payload) => {\nreturn api({\n    method: \"fleet.api.fleet_request.post_ambulance_request \",\n    args: {\n        payload\n    },\n});\n}\n\nexport const createDeathNotification = ({patient,immediate_cause,underlying_cause,pract}) =>\n    api({\n        method: \"clinical.clinical.doctype.death_notification.death_notification.insert_notification\",\n        args: {\n            patient,\n            immediate_cause,\n            underlying_cause,\n            pract\n        },\n    });", "import { api } from \"./../patient/patient\";\nexport const fetchNotifications = (payload) =>\n    api({\n        method: \"clinical.api.notification.notification.get_notifications\",\n        args: { payload },\n    });\n\nexport const clearNotification = (payload) =>\n    api({\n        method: \"clinical.api.notification.notification.clear_notification\",\n        args: { payload },\n    });", "import { fetchNotifications, clearNotification } from './../../services/notification/notification.js'\n\n\nexport default {\n    setNotificationList({ commit }, data) {\n        return commit(\"SET_NOTIFICATION_LIST\", data);\n    },\n    addNotification({ commit }, data) {\n        return commit(\"ADD_NOTIFICATION\", data);\n    },\n\n    fetchNotifications({ commit }, payload) {\n\n        return fetchNotifications(payload)\n            .then((notification) => {\n                return commit(\"SET_NOTIFICATION_LIST\", notification)\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n    },\n\n    clearNotification({ commit }, payload) {\n\n        return clearNotification(payload)\n            .then((notification) => {\n                if (notification.name) {\n                    return commit(\"REMOVE_NOTIFICATION\", notification)\n                } else {\n                    return commit(\"SET_NOTIFICATION_LIST\", [])\n                }\n\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n    },\n};", "export default {\n    getNotificationList: (state) => state.notificationList,\n};", "import state from './moduleNotificationState.js'\nimport mutations from './moduleNotificationMutations.js'\nimport actions from './moduleNotificationActions.js'\nimport getters from './moduleNotificationGetters.js'\n\nexport default {\n    namespaced: true,\n    state: state,\n    mutations: mutations,\n    actions: actions,\n    getters: getters\n}", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport notificationModule from \"./../../state/notification/moduleNotification.js\";\nimport {\n    getUserWarehouses,\n    getWarehouseServicePoints\n} from '../../services/pharmacy/prescriptions.js'\n\nconst __vue_script__ = {\n    name: \"TopHeader\",\n    props: {\n        servicePoint: {\n            type: Object,\n            required: true,\n            default: {}\n        }\n    },\n    data() {\n        return {\n            socket: null,\n            warehouses: [],\n            selectedWarehouse: null,\n            servicePoints: null,\n            selectedServicePoint: null\n        };\n    },\n    computed: {\n        notificationList() {\n            return this.$store.getters[\"notification/getNotificationList\"];\n        },\n    },\n    created() {},\n    mounted() {\n        const user = frappe.session.user;\n        this.getWarehouses();\n        this.getNotifications(user);\n    },\n    watch: {\n        selectedWarehouse() {\n            getWarehouseServicePoints({ warehouse_name: this.selectedWarehouse.warehouse }).then(result => {\n                if (result && result.length > 0) {\n                    this.servicePoints = result;\n                    this.setServicePoint(result[0])\n                } else {\n                    frappe.msgprint({\n                        message: `No service Point(s) for this warehouse.`,\n                        indicator: 'red'\n                    }, 5);\n                }\n            })\n        }\n    },\n    methods: {\n        selectServicePoint() {\n           let parent = this;\n            let d = new frappe.ui.Dialog({\n                title: `Select Service Point for ${parent.selectedWarehouse.warehouse.replace(/^\\w/, c => c.toUpperCase())}`,\n                fields: [{\n                    label: 'Service Point',\n                    fieldname: 'service_point',\n                    fieldtype: 'Select',\n                    options: parent.servicePoints.map(w => w.point_name)\n                } ],\n                primary_action_label: 'Select',\n                primary_action(values) {\n                  let servicePoint = parent.servicePoints.find(el => el.point_name === values.service_point.replace(/^\\w/, c => c.toUpperCase()));\n                  parent.setServicePoint(servicePoint);\n                  d.hide();\n                },\n                secondary_action_label: 'Cancel',\n                secondary_action() {\n                  d.hide();\n                }\n            });\n\n            d.show();\n        },\n        selectWarehouse() {\n            let parent = this;\n            let d = new frappe.ui.Dialog({\n                title: 'Select Pharmacy',\n                fields: [{\n                    label: 'Pharmacy',\n                    fieldname: 'pharmacy',\n                    fieldtype: 'Select',\n                    options: parent.warehouses.map(w => w.warehouse)\n                } ],\n                primary_action_label: 'Select',\n                primary_action(values) {\n                  //let warehouse = parent.warehouses.find(el => el.warehouse === values.pharmacy.replace(/^\\w/, c => c.toUpperCase()));\n                  let warehouse = parent.warehouses.find(el => el.warehouse.replace(/^\\w/, c => c.toUpperCase()) === values.pharmacy.replace(/^\\w/, c => c.toUpperCase()));\n                  parent.setWarehouse(warehouse);\n                  d.hide();\n                },\n                secondary_action_label: 'Cancel',\n                secondary_action() {\n                    d.hide();\n                }\n            });\n\n            d.show();\n        },\n        refresh() {\n            if (this.selectedWarehouse && this.selectedServicePoint) {\n                this.$emit('warehouseSelected', this.selectedWarehouse)\n                this.$emit('selectedServicePoint', this.selectedServicePoint)\n            }\n        },\n        setWarehouse(warehouse) {\n            this.selectedWarehouse = warehouse;\n            this.$emit('warehouseSelected', warehouse)\n        },\n        setServicePoint(servicePoint) {\n            this.selectedServicePoint = servicePoint;\n            this.$emit('selectedServicePoint', servicePoint)\n        },\n        getWarehouses() {\n            getUserWarehouses({\n                user_name: frappe.session.user\n            }).then(result => {\n                if (result && result.length > 0) {\n\n                    this.warehouses = result;\n                    this.setWarehouse(result[0]);\n                    this.loading = false;\n                } else {\n                    frappe.msgprint({\n                        message: `You are not assigned to any warehouse.\\nContact Support for help.`,\n                        indicator: 'red'\n                    }, 5);\n                }\n            });\n        },\n        getNotifications(user) {\n            const payload = { ref: user };\n            this.$store.dispatch(\"notification/fetchNotifications\", payload);\n        },\n\n        clearNotification(notification) {\n            const name = notification.name;\n            const payload = { name, user: frappe.session.user };\n            this.$store.dispatch(\"notification/clearNotification\", payload);\n            this.setCurrentDoctype(\n                notification.reference_doctype,\n                notification.doctype_reference\n            );\n        },\n\n        setCurrentDoctype(doctype, reference) {\n            this.selectedDoctype = doctype;\n            this.selectedReference = reference;\n            if (reference && doctype) {\n                this.$router.push({ name: \"viewer\", params: { doctype, reference } });\n            }\n\n            // this.$refs[\"my-modal-1993\"].show();\n        },\n\n    },\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [\n    _c(\n      \"header\",\n      {\n        staticClass: \"navbar navbar-expand sticky-top\",\n        staticStyle: { \"background-color\": \"#ffffff\" },\n        attrs: { role: \"navigation\" }\n      },\n      [\n        _c(\"b-container\", [\n          _c(\n            \"a\",\n            {\n              staticClass: \"navbar-brand navbar-home pull-left\",\n              attrs: { href: \"/app\", target: \"_blank\" }\n            },\n            [\n              _c(\"img\", {\n                staticClass: \"app-logo\",\n                staticStyle: { width: \"24px\" },\n                attrs: { src: \"/assets/mtrh_dev/images/logo.jpeg\" }\n              })\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"ul\",\n            {\n              staticClass: \"nav navbar-nav d-none d-sm-flex\",\n              attrs: { id: \"navbar-breadcrumbs\" }\n            },\n            [\n              _c(\"li\", [\n                _c(\n                  \"a\",\n                  { attrs: { href: \"/app/pharmacy\", target: \"_blank\" } },\n                  [_vm._v(\"Pharmacy\")]\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"li\",\n                [\n                  _vm.selectedWarehouse\n                    ? _c(\n                        \"b-link\",\n                        {\n                          staticStyle: { \"text-transform\": \"capitalize\" },\n                          attrs: { href: \"#\" },\n                          on: { click: _vm.selectWarehouse }\n                        },\n                        [_vm._v(_vm._s(_vm.selectedWarehouse.warehouse))]\n                      )\n                    : _vm._e()\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"li\",\n                [\n                  _vm.selectedServicePoint\n                    ? _c(\n                        \"b-link\",\n                        {\n                          staticStyle: { \"text-transform\": \"capitalize\" },\n                          attrs: { href: \"#\" },\n                          on: { click: _vm.selectServicePoint }\n                        },\n                        [_vm._v(_vm._s(_vm.selectedServicePoint.point_name))]\n                      )\n                    : _vm._e()\n                ],\n                1\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"row warehouse-dropdown\" }),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            {\n              staticClass: \"collapse navbar-collapse justify-content-end hidden\"\n            },\n            [\n              _c(\"ul\", { staticClass: \"navbar-nav\" }, [\n                _c(\n                  \"li\",\n                  {\n                    staticClass:\n                      \"nav-item dropdown dropdown-notifications dropdown-mobile\"\n                  },\n                  [\n                    _c(\n                      \"a\",\n                      {\n                        staticClass: \"nav-link notifications-icon text-muted\",\n                        attrs: {\n                          \"data-toggle\": \"dropdown\",\n                          \"aria-haspopup\": \"true\",\n                          \"aria-expanded\": \"true\",\n                          href: \"#\",\n                          onclick: \"return false;\",\n                          title: \"\",\n                          \"data-original-title\": \"Notifications\"\n                        }\n                      },\n                      [\n                        _c(\n                          \"div\",\n                          [\n                            _c(\"span\", { staticClass: \"notifications-seen\" }, [\n                              _c(\"svg\", { staticClass: \"icon icon-md\" }, [\n                                _c(\"use\", {\n                                  attrs: { href: \"#icon-notification\" }\n                                })\n                              ])\n                            ]),\n                            _vm._v(\" \"),\n                            _vm.notificationList.length > 0\n                              ? _c(\n                                  \"b-badge\",\n                                  {\n                                    staticClass: \"notification-badge\",\n                                    attrs: { variant: \"danger\" }\n                                  },\n                                  [_vm._v(_vm._s(_vm.notificationList.length))]\n                                )\n                              : _vm._e()\n                          ],\n                          1\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"span\", { staticClass: \"notifications-unseen\" }, [\n                          _c(\"svg\", { staticClass: \"icon icon-md\" }, [\n                            _c(\"use\", {\n                              attrs: {\n                                href: \"#icon-notification-with-indicator\"\n                              }\n                            })\n                          ])\n                        ])\n                      ]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      {\n                        staticClass:\n                          \"dropdown-menu notifications-list dropdown-menu-right\",\n                        attrs: { role: \"menu\" }\n                      },\n                      [\n                        _c(\"div\", { staticClass: \"notification-list-header\" }, [\n                          _c(\"div\", { staticClass: \"header-items\" }, [\n                            _c(\n                              \"ul\",\n                              {\n                                staticClass:\n                                  \"notification-item-tabs nav nav-tabs\",\n                                attrs: { role: \"tablist\" }\n                              },\n                              [\n                                _c(\n                                  \"li\",\n                                  {\n                                    staticClass: \"notifications-category\",\n                                    attrs: {\n                                      id: \"notifications\",\n                                      \"data-toggle\": \"collapse\"\n                                    }\n                                  },\n                                  [\n                                    _vm._v(\n                                      \"\\n                                            Notifications\\n                                        \"\n                                    )\n                                  ]\n                                )\n                              ]\n                            )\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"header-actions\" }, [\n                            _vm.notificationList.length > 0\n                              ? _c(\n                                  \"span\",\n                                  {\n                                    staticClass: \"mark-all-read pull-right\",\n                                    attrs: {\n                                      \"data-action\": \"mark_all_as_read\",\n                                      title: \"\",\n                                      \"data-original-title\": \"Mark all as read\"\n                                    },\n                                    on: {\n                                      click: function($event) {\n                                        return _vm.clearNotification()\n                                      }\n                                    }\n                                  },\n                                  [\n                                    _c(\"svg\", { staticClass: \"icon icon-sm\" }, [\n                                      _c(\"use\", {\n                                        attrs: { href: \"#icon-mark-as-read\" }\n                                      })\n                                    ])\n                                  ]\n                                )\n                              : _vm._e()\n                          ])\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"div\", { staticClass: \"notification-list-body\" }, [\n                          _c(\"div\", { staticClass: \"panel-notifications\" }, [\n                            _c(\n                              \"div\",\n                              { staticStyle: { display: \"block\" } },\n                              _vm._l(_vm.notificationList, function(\n                                notification\n                              ) {\n                                return _c(\n                                  \"a\",\n                                  {\n                                    key: notification.name,\n                                    staticClass:\n                                      \"recent-item notification-item unread\",\n                                    attrs: {\n                                      href:\n                                        \"javascript:function() { return false; }\",\n                                      \"data-name\": \"0a283f5b8f\"\n                                    },\n                                    on: {\n                                      click: function($event) {\n                                        return _vm.clearNotification(\n                                          notification\n                                        )\n                                      }\n                                    }\n                                  },\n                                  [\n                                    _c(\n                                      \"div\",\n                                      { staticClass: \"notification-body\" },\n                                      [\n                                        _c(\n                                          \"span\",\n                                          {\n                                            staticClass:\n                                              \"avatar avatar-medium user-avatar\",\n                                            attrs: { title: \"Philip Ademba\" }\n                                          },\n                                          [\n                                            _c(\n                                              \"div\",\n                                              {\n                                                staticClass:\n                                                  \"avatar-frame standard-image\",\n                                                staticStyle: {\n                                                  \"background-color\":\n                                                    \"var(--pink-avatar-bg)\",\n                                                  color:\n                                                    \"var(--pink-avatar-color)\"\n                                                }\n                                              },\n                                              [\n                                                _c(\"i\", {\n                                                  staticClass:\n                                                    \"fa fa-comments-o\",\n                                                  attrs: {\n                                                    \"aria-hidden\": \"true\"\n                                                  }\n                                                })\n                                              ]\n                                            )\n                                          ]\n                                        ),\n                                        _vm._v(\" \"),\n                                        _c(\"div\", { staticClass: \"message\" }, [\n                                          _c(\"div\", [\n                                            _c(\n                                              \"b\",\n                                              { staticClass: \"subject-title\" },\n                                              [\n                                                _vm._v(\n                                                  _vm._s(notification.title) +\n                                                    \" :\"\n                                                )\n                                              ]\n                                            ),\n                                            _vm._v(\n                                              \"\\n                                          \" +\n                                                _vm._s(notification.message) +\n                                                \"\\n                                        \"\n                                            )\n                                          ]),\n                                          _vm._v(\" \"),\n                                          _c(\n                                            \"div\",\n                                            {\n                                              staticClass:\n                                                \"notification-timestamp text-muted\"\n                                            },\n                                            [\n                                              _c(\n                                                \"span\",\n                                                {\n                                                  staticClass:\n                                                    \"frappe-timestamp\",\n                                                  attrs: {\n                                                    \"data-timestamp\":\n                                                      notification.creation,\n                                                    title: notification.creation\n                                                  }\n                                                },\n                                                [\n                                                  _vm._v(\n                                                    \"\\n                                            ago\"\n                                                  )\n                                                ]\n                                              )\n                                            ]\n                                          )\n                                        ])\n                                      ]\n                                    ),\n                                    _vm._v(\" \"),\n                                    _c(\"div\", {\n                                      staticClass: \"mark-as-read\",\n                                      attrs: {\n                                        title: \"\",\n                                        \"data-original-title\": \"Mark as Read\"\n                                      }\n                                    })\n                                  ]\n                                )\n                              }),\n                              0\n                            )\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"panel-events\" }, [\n                            _vm.notificationList.length < 1\n                              ? _c(\"div\", [\n                                  _c(\n                                    \"div\",\n                                    { staticClass: \"notification-null-state\" },\n                                    [\n                                      _c(\n                                        \"div\",\n                                        { staticClass: \"text-center\" },\n                                        [\n                                          _c(\"img\", {\n                                            staticClass: \"null-state\",\n                                            attrs: {\n                                              src:\n                                                \"/assets/frappe/images/ui-states/event-empty-state.svg\",\n                                              alt: \"Generic Empty State\"\n                                            }\n                                          }),\n                                          _vm._v(\" \"),\n                                          _c(\"div\", { staticClass: \"title\" }, [\n                                            _vm._v(\"No notifications\")\n                                          ]),\n                                          _vm._v(\" \"),\n                                          _c(\n                                            \"div\",\n                                            { staticClass: \"subtitle\" },\n                                            [\n                                              _vm._v(\n                                                \"\\n                                        All your notifications will be listed here\\n                                      \"\n                                              )\n                                            ]\n                                          )\n                                        ]\n                                      )\n                                    ]\n                                  )\n                                ])\n                              : _vm._e()\n                          ])\n                        ])\n                      ]\n                    )\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"li\",\n                  {\n                    staticClass:\n                      \"nav-item dropdown dropdown-message dropdown-mobile hidden\"\n                  },\n                  [\n                    _c(\n                      \"a\",\n                      {\n                        staticClass: \"nav-link notifications-icon text-muted\",\n                        attrs: {\n                          \"data-toggle\": \"dropdown\",\n                          \"aria-haspopup\": \"true\",\n                          \"aria-expanded\": \"true\",\n                          href: \"#\",\n                          onclick: \"return false;\"\n                        }\n                      },\n                      [\n                        _c(\"span\", [\n                          _c(\"svg\", { staticClass: \"icon icon-md\" }, [\n                            _c(\"use\", {\n                              attrs: { href: \"#icon-small-message\" }\n                            })\n                          ])\n                        ])\n                      ]\n                    )\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\"li\", { staticClass: \"vertical-bar d-none d-sm-block\" }),\n                _vm._v(\" \"),\n                _c(\n                  \"li\",\n                  {\n                    staticClass:\n                      \"nav-item dropdown dropdown-help dropdown-mobile d-none d-lg-block\"\n                  },\n                  [\n                    _c(\n                      \"a\",\n                      {\n                        staticClass: \"nav-link\",\n                        attrs: {\n                          \"data-toggle\": \"dropdown\",\n                          href: \"#\",\n                          onclick: \"return false;\"\n                        }\n                      },\n                      [\n                        _vm._v(\n                          \"\\n                            Help\\n                            \"\n                        ),\n                        _c(\"span\", [\n                          _c(\"svg\", { staticClass: \"icon icon-xs\" }, [\n                            _c(\"use\", { attrs: { href: \"#icon-small-down\" } })\n                          ])\n                        ])\n                      ]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      {\n                        staticClass: \"dropdown-menu dropdown-menu-right\",\n                        attrs: { id: \"toolbar-help\", role: \"menu\" }\n                      },\n                      [\n                        _c(\"div\", { attrs: { id: \"help-links\" } }),\n                        _vm._v(\" \"),\n                        _c(\"div\", {\n                          staticClass: \"dropdown-divider documentation-links\",\n                          staticStyle: { display: \"none\" }\n                        }),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: {\n                              href: \"https://erpnext.com/docs/user/manual\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              Go back to Home page\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: { href: \"https://discuss.erpnext.com\" }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              Raise a support ticket\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: {\n                              href: \"https://github.com/frappe/erpnext/issues\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              Report an Issue\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: {\n                              onclick: \"return frappe.ui.toolbar.show_about()\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              About\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: {\n                              onclick:\n                                \"return frappe.ui.toolbar.show_shortcuts(event)\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              Step by step tutorial\\n                            \"\n                            )\n                          ]\n                        )\n                      ]\n                    )\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"li\",\n                  {\n                    staticClass:\n                      \"nav-item dropdown dropdown-navbar-user dropdown-mobile\"\n                  },\n                  [\n                    _c(\n                      \"a\",\n                      {\n                        staticClass: \"nav-link\",\n                        attrs: {\n                          \"data-toggle\": \"dropdown\",\n                          href: \"#\",\n                          onclick: \"return false;\"\n                        }\n                      },\n                      [\n                        _c(\n                          \"span\",\n                          {\n                            staticClass: \"avatar avatar-medium\",\n                            attrs: { title: \"Health practioner\" }\n                          },\n                          [\n                            _c(\n                              \"div\",\n                              {\n                                staticClass: \"avatar-frame standard-image\",\n                                staticStyle: {\n                                  \"background-color\":\n                                    \"var(--dark-green-avatar-bg)\",\n                                  color: \"var(--dark-green-avatar-color)\"\n                                }\n                              },\n                              [\n                                _c(\"i\", {\n                                  staticClass: \"fa fa-user-md\",\n                                  attrs: { \"aria-hidden\": \"true\" }\n                                })\n                              ]\n                            )\n                          ]\n                        )\n                      ]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      {\n                        staticClass: \"dropdown-menu dropdown-menu-right\",\n                        attrs: { id: \"toolbar-user\", role: \"menu\" }\n                      },\n                      [\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: { href: \"/app/user-profile\" }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              My Profile\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: {\n                              onclick:\n                                \"return frappe.ui.toolbar.route_to_user()\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              My Settings\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: {\n                              onclick:\n                                \"return frappe.ui.toolbar.setup_session_defaults()\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              Session Defaults\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: {\n                              onclick: \"return frappe.ui.toolbar.clear_cache()\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              Reload\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: {\n                              onclick: \"return frappe.ui.toolbar.view_website()\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              View Website\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: {\n                              onclick:\n                                \"return frappe.ui.toolbar.toggle_full_width()\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              Toggle Full Width\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: {\n                              onclick:\n                                \"return new frappe.ui.ThemeSwitcher().show()\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              Toggle Theme\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: { href: \"/app/background_jobs\" }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              Background Jobs\\n                            \"\n                            )\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"div\", { staticClass: \"dropdown-divider\" }),\n                        _vm._v(\" \"),\n                        _c(\n                          \"a\",\n                          {\n                            staticClass: \"dropdown-item\",\n                            attrs: { onclick: \"return frappe.app.logout()\" }\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                              Logout\\n                            \"\n                            )\n                          ]\n                        )\n                      ]\n                    )\n                  ]\n                )\n              ])\n            ]\n          )\n        ])\n      ],\n      1\n    )\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-1c0bd094_0\", { source: \"\\n.dropdown {\\n    /* width: 200px; */\\n    margin-left: 8px;\\n    margin-right: 8px;\\n    text-transform: capitalize;\\n    font-weight: 800;\\n}\\n.warehouse-dropdown {\\n    width: 600px;\\n    margin-left: 16px;\\n    align-items: center;\\n    display: flex;\\n    /* justify-content: center; */\\n    /* justify-content: space-between; */\\n}\\n#page-patient-chart {\\n    height: 100vh;\\n}\\n.notification-badge {\\n    position: absolute;\\n    margin-left: -9px;\\n    top: -3px;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/pharmacy/components/TopHeader.vue\"],\"names\":[],\"mappings\":\";AA8cA;IACA,kBAAA;IACA,gBAAA;IACA,iBAAA;IACA,0BAAA;IACA,gBAAA;AACA;AAEA;IACA,YAAA;IACA,iBAAA;IACA,mBAAA;IACA,aAAA;IACA,6BAAA;IACA,oCAAA;AACA;AAEA;IACA,aAAA;AACA;AAEA;IACA,kBAAA;IACA,iBAAA;IACA,SAAA;AACA\",\"file\":\"TopHeader.vue\",\"sourcesContent\":[\"<template>\\n    <div>\\n        <header class=\\\"navbar navbar-expand sticky-top\\\" role=\\\"navigation\\\" style=\\\"background-color:#ffffff;\\\">\\n            <b-container>\\n                <a class=\\\"navbar-brand navbar-home pull-left\\\" href=\\\"/app\\\" target=\\\"_blank\\\">\\n                          <img\\n                            class=\\\"app-logo\\\"\\n                            style=\\\"width: 24px\\\" \\n                            src=\\\"/assets/mtrh_dev/images/logo.jpeg\\\"\\n                          />\\n                        </a>\\n                <ul class=\\\"nav navbar-nav d-none d-sm-flex\\\" id=\\\"navbar-breadcrumbs\\\">\\n                    <li>\\n                        <a href=\\\"/app/pharmacy\\\" target=\\\"_blank\\\">Pharmacy</a>\\n                    </li>\\n                    <li>\\n                        <b-link href=\\\"#\\\" v-if=\\\"selectedWarehouse\\\" style=\\\"text-transform:capitalize;\\\" @click=\\\"selectWarehouse\\\">{{selectedWarehouse.warehouse}}</b-link>\\n                    </li>\\n                    <li>\\n                        <b-link href=\\\"#\\\" v-if=\\\"selectedServicePoint\\\" style=\\\"text-transform:capitalize;\\\" @click=\\\"selectServicePoint\\\">{{selectedServicePoint.point_name}}</b-link>\\n                    </li>\\n                </ul>\\n                <div class=\\\"row warehouse-dropdown\\\">\\n                    <!-- <div>\\n                        <b-link href=\\\"#\\\" v-if=\\\"selectedWarehouse\\\" style=\\\"text-transform:capitalize;\\\" >{{selectedWarehouse.warehouse}}</b-link>\\n                      </div>\\n                      <div>\\n                        <b-link href=\\\"#\\\" v-if=\\\"selectedServicePoint\\\" style=\\\"text-transform:capitalize;\\\">{{selectedServicePoint.point_name}}</b-link>\\n                      </div> -->\\n                    <!-- <div class=\\\"col-md-6\\\" style=\\\"text-transform: capitalize;font-weight:800;\\\">\\n                            <b-dropdown v-if=\\\"selectedWarehouse\\\" :text=\\\"selectedWarehouse.warehouse\\\" split split-variant=\\\"outline-secondary\\\" class=\\\" dropdown fill-width custom-menu-bg\\\" style=\\\"width:100%;margin:auto;\\\">\\n                                <b-dropdown-item v-for=\\\"warehouse in warehouses\\\" :key=\\\"warehouse.name\\\" @click=\\\"setWarehouse(warehouse)\\\" >{{ warehouse.warehouse }}</b-dropdown-item>\\n                            </b-dropdown>\\n                        </div>\\n                        <div class=\\\"col-md-6\\\" style=\\\"text-transform:capitalize;font-weight:800;\\\">\\n                            <b-dropdown v-if=\\\"selectedServicePoint && selectedServicePoint.point_name\\\" \\n                                        :text=\\\"selectedServicePoint.point_name + ' ' + selectedServicePoint.service_type\\\" \\n                                        split split-variant=\\\"outline-secondary\\\" \\n                                        class=\\\"dropdown fill-width custom-menu-bg\\\" \\n                                        style=\\\"width:100%;margin:auto;\\\">\\n                                <b-dropdown-item v-for=\\\"servicePoint in servicePoints\\\" :key=\\\"servicePoint.name\\\" \\n                                  @click=\\\"setServicePoint(servicePoint)\\\">\\n                                <span style=\\\"text-transform:capitalize;\\\"> {{ servicePoint.point_name }}: {{ servicePoint.service_type }} </span>\\n                                </b-dropdown-item>\\n                            </b-dropdown>\\n                        </div> -->\\n                </div>\\n                <div class=\\\"collapse navbar-collapse justify-content-end hidden\\\">\\n                    <ul class=\\\"navbar-nav\\\">\\n                        <li class=\\\"nav-item dropdown dropdown-notifications dropdown-mobile\\\">\\n                            <a class=\\\"nav-link notifications-icon text-muted\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\" href=\\\"#\\\" onclick=\\\"return false;\\\" title=\\\"\\\" data-original-title=\\\"Notifications\\\">\\n                                <div>\\n                                    <span class=\\\"notifications-seen\\\">\\n                                    <svg class=\\\"icon icon-md\\\">\\n                                      <use href=\\\"#icon-notification\\\"></use>\\n                                    </svg>\\n                                  </span>\\n                                    <b-badge v-if=\\\"notificationList.length > 0\\\" class=\\\"notification-badge\\\" variant=\\\"danger\\\">{{ notificationList.length }}</b-badge>\\n                                </div>\\n    \\n                                <span class=\\\"notifications-unseen\\\">\\n                                  <svg class=\\\"icon icon-md\\\">\\n                                    <use href=\\\"#icon-notification-with-indicator\\\"></use>\\n                                  </svg>\\n                                </span>\\n                            </a>\\n                            <div class=\\\"dropdown-menu notifications-list dropdown-menu-right\\\" role=\\\"menu\\\">\\n                                <div class=\\\"notification-list-header\\\">\\n                                    <div class=\\\"header-items\\\">\\n                                        <ul class=\\\"notification-item-tabs nav nav-tabs\\\" role=\\\"tablist\\\">\\n                                            <li class=\\\"notifications-category\\\" id=\\\"notifications\\\" data-toggle=\\\"collapse\\\">\\n                                                Notifications\\n                                            </li>\\n                                        </ul>\\n                                    </div>\\n                                    <div class=\\\"header-actions\\\">\\n                                        <span v-if=\\\"notificationList.length > 0\\\" class=\\\"mark-all-read pull-right\\\" data-action=\\\"mark_all_as_read\\\" title=\\\"\\\" data-original-title=\\\"Mark all as read\\\" @click=\\\"clearNotification()\\\">\\n                                      <svg class=\\\"icon icon-sm\\\" style=\\\"\\\">\\n                                        <use class=\\\"\\\" href=\\\"#icon-mark-as-read\\\"></use>\\n                                      </svg>\\n                                    </span>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"notification-list-body\\\">\\n                                    <div class=\\\"panel-notifications\\\">\\n                                        <div style=\\\"display: block\\\">\\n                                            <a v-for=\\\"notification in notificationList\\\" :key=\\\"notification.name\\\" class=\\\"recent-item notification-item unread\\\" href=\\\"javascript:function() { return false; }\\\" data-name=\\\"0a283f5b8f\\\" @click=\\\"clearNotification(notification)\\\">\\n                                                <div class=\\\"notification-body\\\">\\n                                                    <span class=\\\"avatar avatar-medium user-avatar\\\" title=\\\"Philip Ademba\\\">\\n                                            <div\\n                                              class=\\\"avatar-frame standard-image\\\"\\n                                              style=\\\"\\n                                                background-color: var(--pink-avatar-bg);\\n                                                color: var(--pink-avatar-color);\\n                                              \\\"\\n                                            >\\n                                              <i\\n                                                class=\\\"fa fa-comments-o\\\"\\n                                                aria-hidden=\\\"true\\\"\\n                                              ></i>\\n                                            </div>\\n                                          </span>\\n                                                    <div class=\\\"message\\\">\\n                                                        <div>\\n                                                            <b class=\\\"subject-title\\\">{{ notification.title }} :</b\\n                                              >\\n                                              {{ notification.message }}\\n                                            </div>\\n                                            <div class=\\\"notification-timestamp text-muted\\\">\\n                                              <span\\n                                                class=\\\"frappe-timestamp\\\"\\n                                                :data-timestamp=\\\"notification.creation\\\"\\n                                                :title=\\\"notification.creation\\\"\\n                                              >\\n                                                ago</span\\n                                              >\\n                                            </div>\\n                                          </div>\\n                                        </div>\\n                                        <div\\n                                          class=\\\"mark-as-read\\\"\\n                                          title=\\\"\\\"\\n                                          data-original-title=\\\"Mark as Read\\\"\\n                                        ></div>\\n                                      </a>\\n                                    </div>\\n                                  </div>\\n                                  <div class=\\\"panel-events\\\">\\n                                    <div v-if=\\\"notificationList.length < 1\\\">\\n                                      <div class=\\\"notification-null-state\\\">\\n                                        <div class=\\\"text-center\\\">\\n                                          <img\\n                                            src=\\\"/assets/frappe/images/ui-states/event-empty-state.svg\\\"\\n                                            alt=\\\"Generic Empty State\\\"\\n                                            class=\\\"null-state\\\"\\n                                          />\\n                                          <div class=\\\"title\\\">No notifications</div>\\n                                          <div class=\\\"subtitle\\\">\\n                                            All your notifications will be listed here\\n                                          </div>\\n                                        </div>\\n                                      </div>\\n                                    </div>\\n                                  </div>\\n                                </div>\\n                              </div>\\n                            </li>\\n                            <li\\n                              class=\\\"nav-item dropdown dropdown-message dropdown-mobile hidden\\\"\\n                            >\\n                              <a\\n                                class=\\\"nav-link notifications-icon text-muted\\\"\\n                                data-toggle=\\\"dropdown\\\"\\n                                aria-haspopup=\\\"true\\\"\\n                                aria-expanded=\\\"true\\\"\\n                                href=\\\"#\\\"\\n                                onclick=\\\"return false;\\\"\\n                              >\\n                                <span>\\n                                  <svg class=\\\"icon icon-md\\\">\\n                                    <use href=\\\"#icon-small-message\\\"></use>\\n                                  </svg>\\n                                </span>\\n                              </a>\\n                            </li>\\n                            <li class=\\\"vertical-bar d-none d-sm-block\\\"></li>\\n                            <li\\n                              class=\\\"nav-item dropdown dropdown-help dropdown-mobile d-none d-lg-block\\\"\\n                            >\\n                              <a\\n                                class=\\\"nav-link\\\"\\n                                data-toggle=\\\"dropdown\\\"\\n                                href=\\\"#\\\"\\n                                onclick=\\\"return false;\\\"\\n                              >\\n                                Help\\n                                <span>\\n                                  <svg class=\\\"icon icon-xs\\\">\\n                                    <use href=\\\"#icon-small-down\\\"></use>\\n                                  </svg>\\n                                </span>\\n                              </a>\\n                              <div\\n                                class=\\\"dropdown-menu dropdown-menu-right\\\"\\n                                id=\\\"toolbar-help\\\"\\n                                role=\\\"menu\\\"\\n                              >\\n                                <div id=\\\"help-links\\\"></div>\\n                                <div\\n                                  class=\\\"dropdown-divider documentation-links\\\"\\n                                  style=\\\"display: none\\\"\\n                                ></div>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  href=\\\"https://erpnext.com/docs/user/manual\\\"\\n                                >\\n                                  Go back to Home page\\n                                </a>\\n                                <a class=\\\"dropdown-item\\\" href=\\\"https://discuss.erpnext.com\\\">\\n                                  Raise a support ticket\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  href=\\\"https://github.com/frappe/erpnext/issues\\\"\\n                                >\\n                                  Report an Issue\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.show_about()\\\"\\n                                >\\n                                  About\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.show_shortcuts(event)\\\"\\n                                >\\n                                  Step by step tutorial\\n                                </a>\\n                              </div>\\n                            </li>\\n                            <li class=\\\"nav-item dropdown dropdown-navbar-user dropdown-mobile\\\">\\n                              <a\\n                                class=\\\"nav-link\\\"\\n                                data-toggle=\\\"dropdown\\\"\\n                                href=\\\"#\\\"\\n                                onclick=\\\"return false;\\\"\\n                              >\\n                                <span class=\\\"avatar avatar-medium\\\" title=\\\"Health practioner\\\">\\n                                  <div\\n                                    class=\\\"avatar-frame standard-image\\\"\\n                                    style=\\\"\\n                                      background-color: var(--dark-green-avatar-bg);\\n                                      color: var(--dark-green-avatar-color);\\n                                    \\\"\\n                                  >\\n                                    <i class=\\\"fa fa-user-md\\\" aria-hidden=\\\"true\\\"></i>\\n                                  </div>\\n                                </span>\\n                              </a>\\n                              <div\\n                                class=\\\"dropdown-menu dropdown-menu-right\\\"\\n                                id=\\\"toolbar-user\\\"\\n                                role=\\\"menu\\\"\\n                              >\\n                                <a class=\\\"dropdown-item\\\" href=\\\"/app/user-profile\\\">\\n                                  My Profile\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.route_to_user()\\\"\\n                                >\\n                                  My Settings\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.setup_session_defaults()\\\"\\n                                >\\n                                  Session Defaults\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.clear_cache()\\\"\\n                                >\\n                                  Reload\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.view_website()\\\"\\n                                >\\n                                  View Website\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.toggle_full_width()\\\"\\n                                >\\n                                  Toggle Full Width\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return new frappe.ui.ThemeSwitcher().show()\\\"\\n                                >\\n                                  Toggle Theme\\n                                </a>\\n                                <a class=\\\"dropdown-item\\\" href=\\\"/app/background_jobs\\\">\\n                                  Background Jobs\\n                                </a>\\n                                <div class=\\\"dropdown-divider\\\"></div>\\n                                <a class=\\\"dropdown-item\\\" onclick=\\\"return frappe.app.logout()\\\">\\n                                  Logout\\n                                </a>\\n                              </div>\\n                            </li>\\n                          </ul>\\n                        </div>\\n                      </b-container>\\n                    </header>\\n        </div>\\n</template>\\n\\n<script>\\nimport notificationModule from \\\"./../../state/notification/moduleNotification.js\\\";\\nimport {\\n    getUserWarehouses,\\n    getWarehouseServicePoints\\n} from '../../services/pharmacy/prescriptions.js'\\n\\nexport default {\\n    name: \\\"TopHeader\\\",\\n    props: {\\n        servicePoint: {\\n            type: Object,\\n            required: true,\\n            default: {}\\n        }\\n    },\\n    data() {\\n        return {\\n            socket: null,\\n            warehouses: [],\\n            selectedWarehouse: null,\\n            servicePoints: null,\\n            selectedServicePoint: null\\n        };\\n    },\\n    computed: {\\n        notificationList() {\\n            return this.$store.getters[\\\"notification/getNotificationList\\\"];\\n        },\\n    },\\n    created() {},\\n    mounted() {\\n        const user = frappe.session.user;\\n        this.getWarehouses();\\n        this.getNotifications(user);\\n    },\\n    watch: {\\n        selectedWarehouse() {\\n            getWarehouseServicePoints({ warehouse_name: this.selectedWarehouse.warehouse }).then(result => {\\n                if (result && result.length > 0) {\\n                    this.servicePoints = result;\\n                    this.setServicePoint(result[0])\\n                } else {\\n                    frappe.msgprint({\\n                        message: `No service Point(s) for this warehouse.`,\\n                        indicator: 'red'\\n                    }, 5);\\n                }\\n            })\\n        }\\n    },\\n    methods: {\\n        selectServicePoint() {\\n           let parent = this;\\n            let d = new frappe.ui.Dialog({\\n                title: `Select Service Point for ${parent.selectedWarehouse.warehouse.replace(/^\\\\w/, c => c.toUpperCase())}`,\\n                fields: [{\\n                    label: 'Service Point',\\n                    fieldname: 'service_point',\\n                    fieldtype: 'Select',\\n                    options: parent.servicePoints.map(w => w.point_name)\\n                } ],\\n                primary_action_label: 'Select',\\n                primary_action(values) {\\n                  let servicePoint = parent.servicePoints.find(el => el.point_name === values.service_point.replace(/^\\\\w/, c => c.toUpperCase()));\\n                  parent.setServicePoint(servicePoint);\\n                  d.hide();\\n                },\\n                secondary_action_label: 'Cancel',\\n                secondary_action() {\\n                  d.hide();\\n                }\\n            });\\n\\n            d.show();\\n        },\\n        selectWarehouse() {\\n            let parent = this;\\n            let d = new frappe.ui.Dialog({\\n                title: 'Select Pharmacy',\\n                fields: [{\\n                    label: 'Pharmacy',\\n                    fieldname: 'pharmacy',\\n                    fieldtype: 'Select',\\n                    options: parent.warehouses.map(w => w.warehouse)\\n                } ],\\n                primary_action_label: 'Select',\\n                primary_action(values) {\\n                  //let warehouse = parent.warehouses.find(el => el.warehouse === values.pharmacy.replace(/^\\\\w/, c => c.toUpperCase()));\\n                  let warehouse = parent.warehouses.find(el => el.warehouse.replace(/^\\\\w/, c => c.toUpperCase()) === values.pharmacy.replace(/^\\\\w/, c => c.toUpperCase()));\\n                  parent.setWarehouse(warehouse);\\n                  d.hide();\\n                },\\n                secondary_action_label: 'Cancel',\\n                secondary_action() {\\n                    d.hide();\\n                }\\n            });\\n\\n            d.show();\\n        },\\n        refresh() {\\n            if (this.selectedWarehouse && this.selectedServicePoint) {\\n                this.$emit('warehouseSelected', this.selectedWarehouse)\\n                this.$emit('selectedServicePoint', this.selectedServicePoint)\\n            }\\n        },\\n        setWarehouse(warehouse) {\\n            this.selectedWarehouse = warehouse;\\n            this.$emit('warehouseSelected', warehouse)\\n        },\\n        setServicePoint(servicePoint) {\\n            this.selectedServicePoint = servicePoint;\\n            this.$emit('selectedServicePoint', servicePoint)\\n        },\\n        getWarehouses() {\\n            getUserWarehouses({\\n                user_name: frappe.session.user\\n            }).then(result => {\\n                if (result && result.length > 0) {\\n\\n                    this.warehouses = result;\\n                    this.setWarehouse(result[0]);\\n                    this.loading = false;\\n                } else {\\n                    frappe.msgprint({\\n                        message: `You are not assigned to any warehouse.\\\\nContact Support for help.`,\\n                        indicator: 'red'\\n                    }, 5);\\n                }\\n            });\\n        },\\n        getNotifications(user) {\\n            const payload = { ref: user };\\n            this.$store.dispatch(\\\"notification/fetchNotifications\\\", payload);\\n        },\\n\\n        clearNotification(notification) {\\n            const name = notification.name;\\n            const payload = { name, user: frappe.session.user };\\n            this.$store.dispatch(\\\"notification/clearNotification\\\", payload);\\n            this.setCurrentDoctype(\\n                notification.reference_doctype,\\n                notification.doctype_reference\\n            );\\n        },\\n\\n        setCurrentDoctype(doctype, reference) {\\n            this.selectedDoctype = doctype;\\n            this.selectedReference = reference;\\n            if (reference && doctype) {\\n                this.$router.push({ name: \\\"viewer\\\", params: { doctype, reference } });\\n            }\\n\\n            // this.$refs[\\\"my-modal-1993\\\"].show();\\n        },\\n\\n    },\\n};\\n</script>\\n\\n<style>\\n.dropdown {\\n    /* width: 200px; */\\n    margin-left: 8px;\\n    margin-right: 8px;\\n    text-transform: capitalize;\\n    font-weight: 800;\\n}\\n\\n.warehouse-dropdown {\\n    width: 600px;\\n    margin-left: 16px;\\n    align-items: center;\\n    display: flex;\\n    /* justify-content: center; */\\n    /* justify-content: space-between; */\\n}\\n\\n#page-patient-chart {\\n    height: 100vh;\\n}\\n\\n.notification-badge {\\n    position: absolute;\\n    margin-left: -9px;\\n    top: -3px;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n    <div>\\n        <header class=\\\"navbar navbar-expand sticky-top\\\" role=\\\"navigation\\\" style=\\\"background-color:#ffffff;\\\">\\n            <b-container>\\n                <a class=\\\"navbar-brand navbar-home pull-left\\\" href=\\\"/app\\\" target=\\\"_blank\\\">\\n                          <img\\n                            class=\\\"app-logo\\\"\\n                            style=\\\"width: 24px\\\" \\n                            src=\\\"/assets/mtrh_dev/images/logo.jpeg\\\"\\n                          />\\n                        </a>\\n                <ul class=\\\"nav navbar-nav d-none d-sm-flex\\\" id=\\\"navbar-breadcrumbs\\\">\\n                    <li>\\n                        <a href=\\\"/app/pharmacy\\\" target=\\\"_blank\\\">Pharmacy</a>\\n                    </li>\\n                    <li>\\n                        <b-link href=\\\"#\\\" v-if=\\\"selectedWarehouse\\\" style=\\\"text-transform:capitalize;\\\" @click=\\\"selectWarehouse\\\">{{selectedWarehouse.warehouse}}</b-link>\\n                    </li>\\n                    <li>\\n                        <b-link href=\\\"#\\\" v-if=\\\"selectedServicePoint\\\" style=\\\"text-transform:capitalize;\\\" @click=\\\"selectServicePoint\\\">{{selectedServicePoint.point_name}}</b-link>\\n                    </li>\\n                </ul>\\n                <div class=\\\"row warehouse-dropdown\\\">\\n                    <!-- <div>\\n                        <b-link href=\\\"#\\\" v-if=\\\"selectedWarehouse\\\" style=\\\"text-transform:capitalize;\\\" >{{selectedWarehouse.warehouse}}</b-link>\\n                      </div>\\n                      <div>\\n                        <b-link href=\\\"#\\\" v-if=\\\"selectedServicePoint\\\" style=\\\"text-transform:capitalize;\\\">{{selectedServicePoint.point_name}}</b-link>\\n                      </div> -->\\n                    <!-- <div class=\\\"col-md-6\\\" style=\\\"text-transform: capitalize;font-weight:800;\\\">\\n                            <b-dropdown v-if=\\\"selectedWarehouse\\\" :text=\\\"selectedWarehouse.warehouse\\\" split split-variant=\\\"outline-secondary\\\" class=\\\" dropdown fill-width custom-menu-bg\\\" style=\\\"width:100%;margin:auto;\\\">\\n                                <b-dropdown-item v-for=\\\"warehouse in warehouses\\\" :key=\\\"warehouse.name\\\" @click=\\\"setWarehouse(warehouse)\\\" >{{ warehouse.warehouse }}</b-dropdown-item>\\n                            </b-dropdown>\\n                        </div>\\n                        <div class=\\\"col-md-6\\\" style=\\\"text-transform:capitalize;font-weight:800;\\\">\\n                            <b-dropdown v-if=\\\"selectedServicePoint && selectedServicePoint.point_name\\\" \\n                                        :text=\\\"selectedServicePoint.point_name + ' ' + selectedServicePoint.service_type\\\" \\n                                        split split-variant=\\\"outline-secondary\\\" \\n                                        class=\\\"dropdown fill-width custom-menu-bg\\\" \\n                                        style=\\\"width:100%;margin:auto;\\\">\\n                                <b-dropdown-item v-for=\\\"servicePoint in servicePoints\\\" :key=\\\"servicePoint.name\\\" \\n                                  @click=\\\"setServicePoint(servicePoint)\\\">\\n                                <span style=\\\"text-transform:capitalize;\\\"> {{ servicePoint.point_name }}: {{ servicePoint.service_type }} </span>\\n                                </b-dropdown-item>\\n                            </b-dropdown>\\n                        </div> -->\\n                </div>\\n                <div class=\\\"collapse navbar-collapse justify-content-end hidden\\\">\\n                    <ul class=\\\"navbar-nav\\\">\\n                        <li class=\\\"nav-item dropdown dropdown-notifications dropdown-mobile\\\">\\n                            <a class=\\\"nav-link notifications-icon text-muted\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\" href=\\\"#\\\" onclick=\\\"return false;\\\" title=\\\"\\\" data-original-title=\\\"Notifications\\\">\\n                                <div>\\n                                    <span class=\\\"notifications-seen\\\">\\n                                    <svg class=\\\"icon icon-md\\\">\\n                                      <use href=\\\"#icon-notification\\\"></use>\\n                                    </svg>\\n                                  </span>\\n                                    <b-badge v-if=\\\"notificationList.length > 0\\\" class=\\\"notification-badge\\\" variant=\\\"danger\\\">{{ notificationList.length }}</b-badge>\\n                                </div>\\n    \\n                                <span class=\\\"notifications-unseen\\\">\\n                                  <svg class=\\\"icon icon-md\\\">\\n                                    <use href=\\\"#icon-notification-with-indicator\\\"></use>\\n                                  </svg>\\n                                </span>\\n                            </a>\\n                            <div class=\\\"dropdown-menu notifications-list dropdown-menu-right\\\" role=\\\"menu\\\">\\n                                <div class=\\\"notification-list-header\\\">\\n                                    <div class=\\\"header-items\\\">\\n                                        <ul class=\\\"notification-item-tabs nav nav-tabs\\\" role=\\\"tablist\\\">\\n                                            <li class=\\\"notifications-category\\\" id=\\\"notifications\\\" data-toggle=\\\"collapse\\\">\\n                                                Notifications\\n                                            </li>\\n                                        </ul>\\n                                    </div>\\n                                    <div class=\\\"header-actions\\\">\\n                                        <span v-if=\\\"notificationList.length > 0\\\" class=\\\"mark-all-read pull-right\\\" data-action=\\\"mark_all_as_read\\\" title=\\\"\\\" data-original-title=\\\"Mark all as read\\\" @click=\\\"clearNotification()\\\">\\n                                      <svg class=\\\"icon icon-sm\\\" style=\\\"\\\">\\n                                        <use class=\\\"\\\" href=\\\"#icon-mark-as-read\\\"></use>\\n                                      </svg>\\n                                    </span>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"notification-list-body\\\">\\n                                    <div class=\\\"panel-notifications\\\">\\n                                        <div style=\\\"display: block\\\">\\n                                            <a v-for=\\\"notification in notificationList\\\" :key=\\\"notification.name\\\" class=\\\"recent-item notification-item unread\\\" href=\\\"javascript:function() { return false; }\\\" data-name=\\\"0a283f5b8f\\\" @click=\\\"clearNotification(notification)\\\">\\n                                                <div class=\\\"notification-body\\\">\\n                                                    <span class=\\\"avatar avatar-medium user-avatar\\\" title=\\\"Philip Ademba\\\">\\n                                            <div\\n                                              class=\\\"avatar-frame standard-image\\\"\\n                                              style=\\\"\\n                                                background-color: var(--pink-avatar-bg);\\n                                                color: var(--pink-avatar-color);\\n                                              \\\"\\n                                            >\\n                                              <i\\n                                                class=\\\"fa fa-comments-o\\\"\\n                                                aria-hidden=\\\"true\\\"\\n                                              ></i>\\n                                            </div>\\n                                          </span>\\n                                                    <div class=\\\"message\\\">\\n                                                        <div>\\n                                                            <b class=\\\"subject-title\\\">{{ notification.title }} :</b\\n                                              >\\n                                              {{ notification.message }}\\n                                            </div>\\n                                            <div class=\\\"notification-timestamp text-muted\\\">\\n                                              <span\\n                                                class=\\\"frappe-timestamp\\\"\\n                                                :data-timestamp=\\\"notification.creation\\\"\\n                                                :title=\\\"notification.creation\\\"\\n                                              >\\n                                                ago</span\\n                                              >\\n                                            </div>\\n                                          </div>\\n                                        </div>\\n                                        <div\\n                                          class=\\\"mark-as-read\\\"\\n                                          title=\\\"\\\"\\n                                          data-original-title=\\\"Mark as Read\\\"\\n                                        ></div>\\n                                      </a>\\n                                    </div>\\n                                  </div>\\n                                  <div class=\\\"panel-events\\\">\\n                                    <div v-if=\\\"notificationList.length < 1\\\">\\n                                      <div class=\\\"notification-null-state\\\">\\n                                        <div class=\\\"text-center\\\">\\n                                          <img\\n                                            src=\\\"/assets/frappe/images/ui-states/event-empty-state.svg\\\"\\n                                            alt=\\\"Generic Empty State\\\"\\n                                            class=\\\"null-state\\\"\\n                                          />\\n                                          <div class=\\\"title\\\">No notifications</div>\\n                                          <div class=\\\"subtitle\\\">\\n                                            All your notifications will be listed here\\n                                          </div>\\n                                        </div>\\n                                      </div>\\n                                    </div>\\n                                  </div>\\n                                </div>\\n                              </div>\\n                            </li>\\n                            <li\\n                              class=\\\"nav-item dropdown dropdown-message dropdown-mobile hidden\\\"\\n                            >\\n                              <a\\n                                class=\\\"nav-link notifications-icon text-muted\\\"\\n                                data-toggle=\\\"dropdown\\\"\\n                                aria-haspopup=\\\"true\\\"\\n                                aria-expanded=\\\"true\\\"\\n                                href=\\\"#\\\"\\n                                onclick=\\\"return false;\\\"\\n                              >\\n                                <span>\\n                                  <svg class=\\\"icon icon-md\\\">\\n                                    <use href=\\\"#icon-small-message\\\"></use>\\n                                  </svg>\\n                                </span>\\n                              </a>\\n                            </li>\\n                            <li class=\\\"vertical-bar d-none d-sm-block\\\"></li>\\n                            <li\\n                              class=\\\"nav-item dropdown dropdown-help dropdown-mobile d-none d-lg-block\\\"\\n                            >\\n                              <a\\n                                class=\\\"nav-link\\\"\\n                                data-toggle=\\\"dropdown\\\"\\n                                href=\\\"#\\\"\\n                                onclick=\\\"return false;\\\"\\n                              >\\n                                Help\\n                                <span>\\n                                  <svg class=\\\"icon icon-xs\\\">\\n                                    <use href=\\\"#icon-small-down\\\"></use>\\n                                  </svg>\\n                                </span>\\n                              </a>\\n                              <div\\n                                class=\\\"dropdown-menu dropdown-menu-right\\\"\\n                                id=\\\"toolbar-help\\\"\\n                                role=\\\"menu\\\"\\n                              >\\n                                <div id=\\\"help-links\\\"></div>\\n                                <div\\n                                  class=\\\"dropdown-divider documentation-links\\\"\\n                                  style=\\\"display: none\\\"\\n                                ></div>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  href=\\\"https://erpnext.com/docs/user/manual\\\"\\n                                >\\n                                  Go back to Home page\\n                                </a>\\n                                <a class=\\\"dropdown-item\\\" href=\\\"https://discuss.erpnext.com\\\">\\n                                  Raise a support ticket\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  href=\\\"https://github.com/frappe/erpnext/issues\\\"\\n                                >\\n                                  Report an Issue\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.show_about()\\\"\\n                                >\\n                                  About\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.show_shortcuts(event)\\\"\\n                                >\\n                                  Step by step tutorial\\n                                </a>\\n                              </div>\\n                            </li>\\n                            <li class=\\\"nav-item dropdown dropdown-navbar-user dropdown-mobile\\\">\\n                              <a\\n                                class=\\\"nav-link\\\"\\n                                data-toggle=\\\"dropdown\\\"\\n                                href=\\\"#\\\"\\n                                onclick=\\\"return false;\\\"\\n                              >\\n                                <span class=\\\"avatar avatar-medium\\\" title=\\\"Health practioner\\\">\\n                                  <div\\n                                    class=\\\"avatar-frame standard-image\\\"\\n                                    style=\\\"\\n                                      background-color: var(--dark-green-avatar-bg);\\n                                      color: var(--dark-green-avatar-color);\\n                                    \\\"\\n                                  >\\n                                    <i class=\\\"fa fa-user-md\\\" aria-hidden=\\\"true\\\"></i>\\n                                  </div>\\n                                </span>\\n                              </a>\\n                              <div\\n                                class=\\\"dropdown-menu dropdown-menu-right\\\"\\n                                id=\\\"toolbar-user\\\"\\n                                role=\\\"menu\\\"\\n                              >\\n                                <a class=\\\"dropdown-item\\\" href=\\\"/app/user-profile\\\">\\n                                  My Profile\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.route_to_user()\\\"\\n                                >\\n                                  My Settings\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.setup_session_defaults()\\\"\\n                                >\\n                                  Session Defaults\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.clear_cache()\\\"\\n                                >\\n                                  Reload\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.view_website()\\\"\\n                                >\\n                                  View Website\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return frappe.ui.toolbar.toggle_full_width()\\\"\\n                                >\\n                                  Toggle Full Width\\n                                </a>\\n                                <a\\n                                  class=\\\"dropdown-item\\\"\\n                                  onclick=\\\"return new frappe.ui.ThemeSwitcher().show()\\\"\\n                                >\\n                                  Toggle Theme\\n                                </a>\\n                                <a class=\\\"dropdown-item\\\" href=\\\"/app/background_jobs\\\">\\n                                  Background Jobs\\n                                </a>\\n                                <div class=\\\"dropdown-divider\\\"></div>\\n                                <a class=\\\"dropdown-item\\\" onclick=\\\"return frappe.app.logout()\\\">\\n                                  Logout\\n                                </a>\\n                              </div>\\n                            </li>\\n                          </ul>\\n                        </div>\\n                      </b-container>\\n                    </header>\\n        </div>\\n</template>\\n\\n<script>\\nimport notificationModule from \\\"./../../state/notification/moduleNotification.js\\\";\\nimport {\\n    getUserWarehouses,\\n    getWarehouseServicePoints\\n} from '../../services/pharmacy/prescriptions.js'\\n\\nexport default {\\n    name: \\\"TopHeader\\\",\\n    props: {\\n        servicePoint: {\\n            type: Object,\\n            required: true,\\n            default: {}\\n        }\\n    },\\n    data() {\\n        return {\\n            socket: null,\\n            warehouses: [],\\n            selectedWarehouse: null,\\n            servicePoints: null,\\n            selectedServicePoint: null\\n        };\\n    },\\n    computed: {\\n        notificationList() {\\n            return this.$store.getters[\\\"notification/getNotificationList\\\"];\\n        },\\n    },\\n    created() {},\\n    mounted() {\\n        const user = frappe.session.user;\\n        this.getWarehouses();\\n        this.getNotifications(user);\\n    },\\n    watch: {\\n        selectedWarehouse() {\\n            getWarehouseServicePoints({ warehouse_name: this.selectedWarehouse.warehouse }).then(result => {\\n                if (result && result.length > 0) {\\n                    this.servicePoints = result;\\n                    this.setServicePoint(result[0])\\n                } else {\\n                    frappe.msgprint({\\n                        message: `No service Point(s) for this warehouse.`,\\n                        indicator: 'red'\\n                    }, 5);\\n                }\\n            })\\n        }\\n    },\\n    methods: {\\n        selectServicePoint() {\\n           let parent = this;\\n            let d = new frappe.ui.Dialog({\\n                title: `Select Service Point for ${parent.selectedWarehouse.warehouse.replace(/^\\\\w/, c => c.toUpperCase())}`,\\n                fields: [{\\n                    label: 'Service Point',\\n                    fieldname: 'service_point',\\n                    fieldtype: 'Select',\\n                    options: parent.servicePoints.map(w => w.point_name)\\n                } ],\\n                primary_action_label: 'Select',\\n                primary_action(values) {\\n                  let servicePoint = parent.servicePoints.find(el => el.point_name === values.service_point.replace(/^\\\\w/, c => c.toUpperCase()));\\n                  parent.setServicePoint(servicePoint);\\n                  d.hide();\\n                },\\n                secondary_action_label: 'Cancel',\\n                secondary_action() {\\n                  d.hide();\\n                }\\n            });\\n\\n            d.show();\\n        },\\n        selectWarehouse() {\\n            let parent = this;\\n            let d = new frappe.ui.Dialog({\\n                title: 'Select Pharmacy',\\n                fields: [{\\n                    label: 'Pharmacy',\\n                    fieldname: 'pharmacy',\\n                    fieldtype: 'Select',\\n                    options: parent.warehouses.map(w => w.warehouse)\\n                } ],\\n                primary_action_label: 'Select',\\n                primary_action(values) {\\n                  //let warehouse = parent.warehouses.find(el => el.warehouse === values.pharmacy.replace(/^\\\\w/, c => c.toUpperCase()));\\n                  let warehouse = parent.warehouses.find(el => el.warehouse.replace(/^\\\\w/, c => c.toUpperCase()) === values.pharmacy.replace(/^\\\\w/, c => c.toUpperCase()));\\n                  parent.setWarehouse(warehouse);\\n                  d.hide();\\n                },\\n                secondary_action_label: 'Cancel',\\n                secondary_action() {\\n                    d.hide();\\n                }\\n            });\\n\\n            d.show();\\n        },\\n        refresh() {\\n            if (this.selectedWarehouse && this.selectedServicePoint) {\\n                this.$emit('warehouseSelected', this.selectedWarehouse)\\n                this.$emit('selectedServicePoint', this.selectedServicePoint)\\n            }\\n        },\\n        setWarehouse(warehouse) {\\n            this.selectedWarehouse = warehouse;\\n            this.$emit('warehouseSelected', warehouse)\\n        },\\n        setServicePoint(servicePoint) {\\n            this.selectedServicePoint = servicePoint;\\n            this.$emit('selectedServicePoint', servicePoint)\\n        },\\n        getWarehouses() {\\n            getUserWarehouses({\\n                user_name: frappe.session.user\\n            }).then(result => {\\n                if (result && result.length > 0) {\\n\\n                    this.warehouses = result;\\n                    this.setWarehouse(result[0]);\\n                    this.loading = false;\\n                } else {\\n                    frappe.msgprint({\\n                        message: `You are not assigned to any warehouse.\\\\nContact Support for help.`,\\n                        indicator: 'red'\\n                    }, 5);\\n                }\\n            });\\n        },\\n        getNotifications(user) {\\n            const payload = { ref: user };\\n            this.$store.dispatch(\\\"notification/fetchNotifications\\\", payload);\\n        },\\n\\n        clearNotification(notification) {\\n            const name = notification.name;\\n            const payload = { name, user: frappe.session.user };\\n            this.$store.dispatch(\\\"notification/clearNotification\\\", payload);\\n            this.setCurrentDoctype(\\n                notification.reference_doctype,\\n                notification.doctype_reference\\n            );\\n        },\\n\\n        setCurrentDoctype(doctype, reference) {\\n            this.selectedDoctype = doctype;\\n            this.selectedReference = reference;\\n            if (reference && doctype) {\\n                this.$router.push({ name: \\\"viewer\\\", params: { doctype, reference } });\\n            }\\n\\n            // this.$refs[\\\"my-modal-1993\\\"].show();\\n        },\\n\\n    },\\n};\\n</script>\\n\\n<style>\\n.dropdown {\\n    /* width: 200px; */\\n    margin-left: 8px;\\n    margin-right: 8px;\\n    text-transform: capitalize;\\n    font-weight: 800;\\n}\\n\\n.warehouse-dropdown {\\n    width: 600px;\\n    margin-left: 16px;\\n    align-items: center;\\n    display: flex;\\n    /* justify-content: center; */\\n    /* justify-content: space-between; */\\n}\\n\\n#page-patient-chart {\\n    height: 100vh;\\n}\\n\\n.notification-badge {\\n    position: absolute;\\n    margin-left: -9px;\\n    top: -3px;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "export const api = ({ method, args = {}, freeze=true  }) =>\n    new Promise((resolve, reject) =>\n        frappe.call({ method, args, freeze, callback: resolve })\n    );\n\nexport const incomingMateriallRequests = ({\n        warehouse_name\n    }) =>\n    api({\n        method: \"clinical.api.warehouse.warehouse.get_incoming_material_request\",\n        args: {\n            warehouse_name\n        },\n    }).then(({ message }) => message)\n\nexport const outgoingMateriallRequests = ({\n        warehouse_name\n    }) =>\n    api({\n        method: \"clinical.api.warehouse.warehouse.get_outgoing_material_request\",\n        args: {\n            warehouse_name\n        },\n    }).then(({ message }) => message)\n\nexport const materiallRequestItems = ({\n        request_name\n    }) =>\n    api({\n        method: \"clinical.api.warehouse.warehouse.get_material_request_items\",\n        args: {\n            request_name\n        },\n    }).then(({ message }) => message)\n\nexport const materiallRequestStockEntry = ({\n        request_name\n    }) =>\n    api({\n        method: \"clinical.api.warehouse.warehouse.material_request_transfer_stock_entry\",\n        args: {\n            request_name\n        },\n    }).then(({ message }) => message)\n\nexport const submitMateriallRequestS = ({\n        request_name\n    }) =>\n    api({\n        method: \"clinical.api.warehouse.warehouse.submit_material_request\",\n        args: {\n            request_name\n        },\n    }).then(({ message }) => message)\n\nexport const itemStockBalance = ({\n        item_code\n    }) =>\n    api({\n        method: \"clinical.api.warehouse.warehouse.get_item_stock_quantities\",\n        args: {\n            item_code\n        },\n    }).then(({ message }) => message)\n\n\n// create_material_request(item_code,qty,warehouse,from_warehouse)\nexport const createMaterialRequest = ({\n        item_code,\n        qty,\n        warehouse,\n        from_warehouse\n    }) =>\n    api({\n        method: \"clinical.api.warehouse.warehouse.create_material_request\",\n        args: {\n            item_code,\n            qty,\n            warehouse,\n            from_warehouse\n        },\n    }).then(({ message }) => message)", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n    outgoingMateriallRequests,\n    materiallRequestItems,\n    api,\n    itemStockBalance,\n    createMaterialRequest\n} from '../../../../services/stock/material-request.js';\nconst __vue_script__ = {\n    name: 'OutgoingRequest',\n    props: {\n        warehouseName: {\n            type: String,\n            default: \" \",\n            required: true,\n        },\n    },\n    data() {\n        return {\n            fields: ['creation', { 'key': 'name1', 'label': 'Name' }, { 'key': 'set_from_warehouse', 'label': 'Source Warehouse' }, { 'key': 'stock_entry', 'label': 'Stock Entry' }, 'status', 'action'],\n            materialRequests: [],\n            medicationItemGroups: [],\n            perPage: 10,\n            currentPage: 1,\n        }\n    },\n    methods: {\n        createMaterialRequest() {\n            let parent = this;\n            let dialog = new frappe.ui.Dialog({\n                title: `Add Material Request`,\n                fields: [{\n                        label: 'Drug',\n                        fieldname: 'drug_code',\n                        fieldtype: 'Link',\n                        options: 'Item',\n                        reqd: true,\n                        filters: { is_stock_item: 1, disabled: 0, has_variants: 'No', item_group: ['IN', parent.medicationItemGroups] },\n                    },\n                    {\n                        label: 'Warehouse',\n                        fieldname: 'warehouse',\n                        fieldtype: 'Link',\n                        options: 'Warehouse',\n                        reqd: true,\n                    },\n                    {\n                        label: 'Quantity',\n                        fieldname: 'quantity',\n                        fieldtype: 'Int',\n                        reqd: 1,\n                        default: 0\n                    }\n                ],\n                primary_action_label: 'Submit',\n                primary_action(values) {\n                    dialog.hide();\n                    createMaterialRequest({\n                        item_code: values.drug_code,\n                        qty: values.quantity,\n                        warehouse: parent.warehouseName,\n                        from_warehouse: values.warehouse\n                    }).then(r => {\n                        parent.getMaterialRequests();\n                        frappe.show_alert({\n                            message: `material Request Created`,\n                            indicator: 'green'\n                        }, 5);\n                    })\n                },\n                secondary_action_label: 'Cancel',\n                secondary_action() {\n                    dialog.hide();\n                }\n            });\n            const onDrugChange = (event) => {\n                const value = dialog.get_value(\"drug_code\");\n                if (value) {\n                    parent.checkAvailability(value);\n                }\n            };\n            dialog.fields_dict[\"drug_code\"].df.onchange = () => {\n                const value = dialog.get_value(\"drug_code\");\n                if (value) {\n                    parent.checkAvailability(value);\n                }\n            };\n            dialog.show();\n        },\n        fetchItemGroups() {\n            api({\n                method:'clinical.api.prescription.prescription.get_is_prescription_item',\n                args: {\n                    // doctype: 'Item Group',\n                    // async: false,\n                    // filters: { is_prescription_item: 1 }\n                },\n\n            }).then(res => {\n                this.medicationItemGroups = res; \n                this.openModal();\n            })\n        },\n        writeUrl(url) {},\n        checkAvailability(item) {\n            itemStockBalance({ item_code: item }).then(stocks => {\n                const bodyElements = document.getElementsByClassName(\"modal-body\");\n                const body = bodyElements[bodyElements.length - 1];\n                let rptElement = document.getElementById(\"stock-report-div\");\n                if (rptElement) {\n                    rptElement.remove();\n                }\n                const node = document.createElement(\"div\");\n                node.setAttribute(\"id\", \"stock-report-div\");\n                // node.innerHTML = `Insufficient stocks in the hospital for <strong>${item}</strong>. Consider alternatives listed below or await procurement.`;\n                node.innerHTML = `Stock Availability for <b>${item}</b>`;\n                node.style.color = \"black\";\n\n                const ul = document.createElement(\"ul\");\n                stocks.forEach((item) => {\n                    const li = document.createElement(\"li\");\n                    li.innerHTML = `<span><b>${item.warehouse} : ${item.actual_qty} ${item.stock_uom}(s)</b></span>`;\n                    ul.appendChild(li);\n                });\n                node.appendChild(ul);\n\n                body.appendChild(node);\n            });\n        },\n        viewItems(requestItem) {\n            materiallRequestItems({ request_name: requestItem.name }).then(r => {\n                console.log(JSON.stringify(r))\n                let msgText = '<ul>';\n                if (r.length) {\n                    r.forEach(item => {\n                        msgText += `<li> ${item.item_code} ${item.qty} ${item.stock_uom} </li>`;\n                    });\n                    msgText += '</ul>';\n                    frappe.msgprint({ title: __((requestItem.name || \" Items\").toUpperCase()), indicator: \"green\", message: msgText })\n                } else {\n                    frappe.msgprint({ title: __((requestItem.name || \" Items\").toUpperCase()), indicator: \"green\", message: \"No items to list\" })\n                }\n            })\n        },\n        getMaterialRequests() {\n            outgoingMateriallRequests({ warehouse_name: this.warehouseName }).then(r => {\n                this.materialRequests = r;\n            })\n        },\n        getMaterialRequestItems(request) {\n            materiallRequestItems({ request_name: request.name }).then(r => {\n                materialRequests = r;\n            })\n        },\n    },\n    created() {\n        this.getMaterialRequests();\n    },\n    filters: {\n        // Filter definitions\n        dateFormat(date) {\n            let current_datetime = new Date(date);\n            return current_datetime.getFullYear() + \"-\" + (current_datetime.getMonth() + 1) + \"-\" + current_datetime.getDate() + \" \" +\n                current_datetime.getHours() + \":\" + current_datetime.getMinutes() + \":\" + current_datetime.getSeconds()\n        },\n        Upper(value) {\n            return value.toUpperCase();\n        },\n        numberWithCommas(x) {\n            if (x) {\n                return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n            }\n            return 0;\n        }\n    }\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"container\" },\n    [\n      _c(\n        \"b-row\",\n        [\n          _c(\"b-col\", [\n            _c(\n              \"div\",\n              {\n                staticStyle: { display: \"flex\", \"justify-content\": \"flex-end\" }\n              },\n              [\n                _c(\n                  \"b-button-group\",\n                  {\n                    staticStyle: { \"margin-right\": \"16px\", \"margin-top\": \"4px\" }\n                  },\n                  [\n                    _c(\n                      \"b-button\",\n                      {\n                        staticStyle: { \"margin-right\": \"2px\" },\n                        attrs: { variant: \"primary\" },\n                        on: { click: _vm.fetchItemGroups }\n                      },\n                      [_vm._v(\"Create Material Request\")]\n                    )\n                  ],\n                  1\n                )\n              ],\n              1\n            )\n          ])\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"b-table\", {\n        attrs: {\n          id: \"my-table\",\n          \"per-page\": _vm.perPage,\n          \"current-page\": _vm.currentPage,\n          responsive: \"\",\n          items: _vm.materialRequests,\n          fields: _vm.fields\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"cell(creation)\",\n            fn: function(data) {\n              return [\n                _vm._v(\n                  \"\\n                \" +\n                    _vm._s(_vm._f(\"dateFormat\")(data.item.creation)) +\n                    \"\\n        \"\n                )\n              ]\n            }\n          },\n          {\n            key: \"cell(name1)\",\n            fn: function(data) {\n              return [\n                _c(\"span\", {\n                  domProps: { innerHTML: _vm._s(data.item.name1) }\n                }),\n                _vm._v(\" \"),\n                _c(\"br\"),\n                _vm._v(\" \" + _vm._s(data.item.title) + \"\\n        \")\n              ]\n            }\n          },\n          {\n            key: \"cell(stock_entry)\",\n            fn: function(data) {\n              return [\n                _c(\"span\", {\n                  domProps: { innerHTML: _vm._s(data.item.stock_entry) }\n                })\n              ]\n            }\n          },\n          {\n            key: \"cell(action)\",\n            fn: function(data) {\n              return [\n                _c(\n                  \"b-btn\",\n                  {\n                    attrs: { variant: \"primary\" },\n                    on: {\n                      click: function($event) {\n                        return _vm.viewItems(data.item)\n                      }\n                    }\n                  },\n                  [_vm._v(\"\\n                View Items\\n            \")]\n                )\n              ]\n            }\n          }\n        ])\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\"b-pagination\", {\n            attrs: {\n              \"total-rows\": _vm.materialRequests.length,\n              \"per-page\": _vm.perPage,\n              \"aria-controls\": \"my-table\"\n            },\n            model: {\n              value: _vm.currentPage,\n              callback: function($$v) {\n                _vm.currentPage = $$v\n              },\n              expression: \"currentPage\"\n            }\n          })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = undefined\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n    <div class=\\\"container\\\">\\n        <b-row>\\n            <b-col>\\n                <div style=\\\"display: flex; justify-content: flex-end\\\">\\n                    <b-button-group style=\\\"margin-right:16px;margin-top:4px;\\\">\\n                        <b-button style=\\\"margin-right:2px;\\\" variant=\\\"primary\\\" @click=\\\"fetchItemGroups\\\">Create Material Request</b-button>\\n                    </b-button-group>\\n                </div>\\n            </b-col>\\n        </b-row>\\n        <b-table id=\\\"my-table\\\" :per-page=\\\"perPage\\\" :current-page=\\\"currentPage\\\" responsive :items=\\\"materialRequests\\\" :fields=\\\"fields\\\">\\n            <template #cell(creation)=\\\"data\\\">\\n                    {{ data.item.creation | dateFormat }}\\n            </template>\\n\\n            <template #cell(name1)=\\\"data\\\">\\n                <span v-html=\\\"data.item.name1\\\"></span>\\n                <br> {{ data.item.title}}\\n            </template>\\n\\n            <template #cell(stock_entry)=\\\"data\\\">\\n                <span v-html=\\\"data.item.stock_entry\\\"></span>\\n            </template>\\n\\n            <template #cell(action)=\\\"data\\\">\\n                <b-btn variant=\\\"primary\\\" @click=\\\"viewItems(data.item)\\\">\\n                    View Items\\n                </b-btn>\\n            </template>\\n            </b-table>\\n                <div>\\n                    <b-pagination\\n                    v-model=\\\"currentPage\\\"\\n                    :total-rows=\\\"materialRequests.length\\\"\\n                    :per-page=\\\"perPage\\\"\\n                    aria-controls=\\\"my-table\\\"\\n                    />\\n                </div>\\n        <!-- // </b-pagination> -->\\n    </div>\\n</template>\\n\\n<script>\\nimport {\\n    outgoingMateriallRequests,\\n    materiallRequestItems,\\n    api,\\n    itemStockBalance,\\n    createMaterialRequest\\n} from '../../../../services/stock/material-request.js';\\nexport default {\\n    name: 'OutgoingRequest',\\n    props: {\\n        warehouseName: {\\n            type: String,\\n            default: \\\" \\\",\\n            required: true,\\n        },\\n    },\\n    data() {\\n        return {\\n            fields: ['creation', { 'key': 'name1', 'label': 'Name' }, { 'key': 'set_from_warehouse', 'label': 'Source Warehouse' }, { 'key': 'stock_entry', 'label': 'Stock Entry' }, 'status', 'action'],\\n            materialRequests: [],\\n            medicationItemGroups: [],\\n            perPage: 10,\\n            currentPage: 1,\\n        }\\n    },\\n    methods: {\\n        createMaterialRequest() {\\n            let parent = this;\\n            let dialog = new frappe.ui.Dialog({\\n                title: `Add Material Request`,\\n                fields: [{\\n                        label: 'Drug',\\n                        fieldname: 'drug_code',\\n                        fieldtype: 'Link',\\n                        options: 'Item',\\n                        reqd: true,\\n                        filters: { is_stock_item: 1, disabled: 0, has_variants: 'No', item_group: ['IN', parent.medicationItemGroups] },\\n                    },\\n                    {\\n                        label: 'Warehouse',\\n                        fieldname: 'warehouse',\\n                        fieldtype: 'Link',\\n                        options: 'Warehouse',\\n                        reqd: true,\\n                    },\\n                    {\\n                        label: 'Quantity',\\n                        fieldname: 'quantity',\\n                        fieldtype: 'Int',\\n                        reqd: 1,\\n                        default: 0\\n                    }\\n                ],\\n                primary_action_label: 'Submit',\\n                primary_action(values) {\\n                    dialog.hide();\\n                    createMaterialRequest({\\n                        item_code: values.drug_code,\\n                        qty: values.quantity,\\n                        warehouse: parent.warehouseName,\\n                        from_warehouse: values.warehouse\\n                    }).then(r => {\\n                        parent.getMaterialRequests();\\n                        frappe.show_alert({\\n                            message: `material Request Created`,\\n                            indicator: 'green'\\n                        }, 5);\\n                    })\\n                },\\n                secondary_action_label: 'Cancel',\\n                secondary_action() {\\n                    dialog.hide();\\n                }\\n            });\\n            const onDrugChange = (event) => {\\n                const value = dialog.get_value(\\\"drug_code\\\");\\n                if (value) {\\n                    parent.checkAvailability(value);\\n                }\\n            };\\n            dialog.fields_dict[\\\"drug_code\\\"].df.onchange = () => {\\n                const value = dialog.get_value(\\\"drug_code\\\");\\n                if (value) {\\n                    parent.checkAvailability(value);\\n                }\\n            };\\n            dialog.show();\\n        },\\n        fetchItemGroups() {\\n            api({\\n                method:'clinical.api.prescription.prescription.get_is_prescription_item',\\n                args: {\\n                    // doctype: 'Item Group',\\n                    // async: false,\\n                    // filters: { is_prescription_item: 1 }\\n                },\\n\\n            }).then(res => {\\n                this.medicationItemGroups = res; \\n                this.openModal();\\n            })\\n        },\\n        writeUrl(url) {},\\n        checkAvailability(item) {\\n            itemStockBalance({ item_code: item }).then(stocks => {\\n                const bodyElements = document.getElementsByClassName(\\\"modal-body\\\");\\n                const body = bodyElements[bodyElements.length - 1];\\n                let rptElement = document.getElementById(\\\"stock-report-div\\\");\\n                if (rptElement) {\\n                    rptElement.remove();\\n                }\\n                const node = document.createElement(\\\"div\\\");\\n                node.setAttribute(\\\"id\\\", \\\"stock-report-div\\\");\\n                // node.innerHTML = `Insufficient stocks in the hospital for <strong>${item}</strong>. Consider alternatives listed below or await procurement.`;\\n                node.innerHTML = `Stock Availability for <b>${item}</b>`;\\n                node.style.color = \\\"black\\\";\\n\\n                const ul = document.createElement(\\\"ul\\\");\\n                stocks.forEach((item) => {\\n                    const li = document.createElement(\\\"li\\\");\\n                    li.innerHTML = `<span><b>${item.warehouse} : ${item.actual_qty} ${item.stock_uom}(s)</b></span>`;\\n                    ul.appendChild(li);\\n                });\\n                node.appendChild(ul);\\n\\n                body.appendChild(node);\\n            });\\n        },\\n        viewItems(requestItem) {\\n            materiallRequestItems({ request_name: requestItem.name }).then(r => {\\n                console.log(JSON.stringify(r))\\n                let msgText = '<ul>';\\n                if (r.length) {\\n                    r.forEach(item => {\\n                        msgText += `<li> ${item.item_code} ${item.qty} ${item.stock_uom} </li>`;\\n                    });\\n                    msgText += '</ul>';\\n                    frappe.msgprint({ title: __((requestItem.name || \\\" Items\\\").toUpperCase()), indicator: \\\"green\\\", message: msgText })\\n                } else {\\n                    frappe.msgprint({ title: __((requestItem.name || \\\" Items\\\").toUpperCase()), indicator: \\\"green\\\", message: \\\"No items to list\\\" })\\n                }\\n            })\\n        },\\n        getMaterialRequests() {\\n            outgoingMateriallRequests({ warehouse_name: this.warehouseName }).then(r => {\\n                this.materialRequests = r;\\n            })\\n        },\\n        getMaterialRequestItems(request) {\\n            materiallRequestItems({ request_name: request.name }).then(r => {\\n                materialRequests = r;\\n            })\\n        },\\n    },\\n    created() {\\n        this.getMaterialRequests();\\n    },\\n    filters: {\\n        // Filter definitions\\n        dateFormat(date) {\\n            let current_datetime = new Date(date);\\n            return current_datetime.getFullYear() + \\\"-\\\" + (current_datetime.getMonth() + 1) + \\\"-\\\" + current_datetime.getDate() + \\\" \\\" +\\n                current_datetime.getHours() + \\\":\\\" + current_datetime.getMinutes() + \\\":\\\" + current_datetime.getSeconds()\\n        },\\n        Upper(value) {\\n            return value.toUpperCase();\\n        },\\n        numberWithCommas(x) {\\n            if (x) {\\n                return x.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \\\",\\\");\\n            }\\n            return 0;\\n        }\\n    }\\n}\\n</script>\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (false) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport moment from \"moment\";\nimport {\n  getMedicationOrders,\n  dispatchMedicationOrder,\n  calculateStockBalance\n} from \"../../../../services/pharmacy/prescriptions.js\";\nconst __vue_script__ = {\n  name: \"PendingMedicationOrders\",\n  props: {\n    warehouse: { type: String },\n  },\n  data() {\n    return {\n      items: [],\n      fields: [\n        \"drug_name\",\n        \"service_unit\",\n        \"patient_name\",\n        \"date\",\n        \"time\",\n        \"frequency\",\n        \"instructions\",\n        { key: \"action\", label: \" \" },\n      ],\n      confirmItems: [],\n      dispatchedIncomplete: [],\n      service_unit: undefined,\n      dispatchedToday: [],\n      filters: {},\n      dispatchedTodayFields :[\"drug_name\",\n        \"service_unit\",\n        \"patient_name\",\n        \"date\",\n        \"time\",\n        \"frequency\",\n        \"instructions\",]\n    };\n  },\n  mounted() {\n    this.getList();\n    this.makeFields();\n    this.getDispatchedToday();\n    this.computeitems();\n  },\n  watch: {\n    items() {\n      this.computeitems();\n    },\n    dispatchedIncomplete() {\n      this.computeitems();\n    },\n  },\n  methods: {\n      getDispatchedToday(){\n          const today = moment().format(\"YYYY-MM-DD\");\n          getMedicationOrders({\n              dispatch_time: today,\n        is_dispatched: 1,\n      }).then((data) => {\n          this.dispatchedToday = data\n      })\n      },\n    computeitems() {\n      // const output = this.items.reduce((a, b) =>({\n      //     ...a,\n      //     [a.drug_name]: (a[b.drug_name] || 0) + 1\n      // }), {});\n      const computer = (items) => {\n        const output = {};\n        items.forEach((item) => {\n          output[item.drug_name] = (output[item.drug_name] || 0) + (item.dosage || 1);\n        });\n        return output;\n        // return Object.keys(output).map((key) => ({ drug: key, quantity: output[key] }))\n      };\n\n      const fullQuantities = computer(this.items);\n      \n      const dispatchedIncomplete = computer(this.dispatchedIncomplete);\n    \n      \n      const items = Object.keys(fullQuantities).map((key) => ({\n        drug: key,\n        quantity: (fullQuantities[key]).toFixed(2),\n        incomplete: (dispatchedIncomplete[key] || 0).toFixed(2),\n      }));\n\n      const drugs =  Object.keys(fullQuantities)\n      \n      calculateStockBalance({ drugs, warehouse: this.warehouse}).then((res) => {\n         this.confirmItems = items.map((item) => ({\n        drug: item.drug,\n        quantity: item.quantity,\n        incomplete: res[item.drug],\n      }));\n      })\n      \n      // this.confirmItems = items;\n    },\n    makeFields() {\n      const parent = this;\n      const patient_field = frappe.ui.form.make_control({\n        df: {\n          label: \"Patient\",\n          fieldtype: \"Link\",\n          fieldname: \"patient\",\n          options: \"Patient\",\n          placeholder: __(`Patient`),\n\n          onchange: function () {\n            if (this.value) {\n              console.log(this.value);\n              const today = moment().format(\"YYYY-MM-DD\");\n              const tomorrow = moment().add(1, \"days\").format(\"YYYY-MM-DD\");\n              const to_time = moment().format(\"HH:mm\");\n              getMedicationOrders({\n                from_date: today,\n                to_date: tomorrow,\n                is_dispatched: 0,\n                patient: this.value,\n                to_time,\n              }).then((data) => {\n                parent.items = data;\n              });\n              getMedicationOrders({\n                patient: this.value,\n                is_dispatched: 1,\n                is_completed: 0,\n              }).then((data) => {\n                parent.dispatchedIncomplete = data;\n              });\n            } else {\n              parent.getList();\n            }\n          },\n        },\n        parent: this.$refs[\"patient-search\"],\n        render_input: true,\n      });\n      const service_unit = frappe.ui.form.make_control({\n        df: {\n          label: \"Ward\",\n          fieldtype: \"Link\",\n          fieldname: \"service_unit\",\n          options: \"Healthcare Service Unit\",\n          placeholder: __(`Healthcare Service Unit`),\n          filters: {\n            name: [\"NOT LIKE\", \"%bed%\"],\n          },\n          onchange: function () {\n            parent.service_unit = this.value;\n            if (this.value) {\n              console.log(this.value);\n              const today = moment().format(\"YYYY-MM-DD\");\n              const tomorrow = moment().add(1, \"days\").format(\"YYYY-MM-DD\");\n              const to_time = moment().format(\"HH:mm\");\n              getMedicationOrders({\n                from_date: today,\n                to_date: tomorrow,\n                is_dispatched: 0,\n                service_unit: this.value,\n                to_time,\n              }).then((data) => {\n                parent.items = data;\n              });\n              getMedicationOrders({\n                service_unit: this.value,\n                is_dispatched: 1,\n                is_completed: 0,\n              }).then((data) => {\n                parent.dispatchedIncomplete = data;\n              });\n            } else {\n              parent.getList();\n            }\n          },\n        },\n        parent: this.$refs[\"service-unit\"],\n        render_input: true,\n      });\n    },\n    openModal() {\n      this.$refs.viewPrescription.show();\n    },\n    getList() {\n      const today = moment().format(\"YYYY-MM-DD\");\n      const tomorrow = moment().add(1, \"days\").format(\"YYYY-MM-DD\");\n      const to_time = moment().format(\"HH:mm\");\n      getMedicationOrders({\n        from_date: today,\n        to_date: tomorrow,\n        is_dispatched: 0,\n        to_time,\n      }).then((data) => {\n        this.items = data;\n        this.getDispatchedToday();\n      });\n      getMedicationOrders({\n        service_unit: this.value,\n        is_dispatched: 1,\n        is_completed: 0,\n      }).then((data) => {\n          console.log('******',data)\n        this.dispatchedIncomplete = data;\n        this.computeitems();\n      });\n    },\n    dispatch(item) {\n      dispatchMedicationOrder(item.name).then(() => {\n        this.getList();\n      });\n    },\n    primaryAction() {\n\n      const items = this.items.map((item) =>item.name);\n      const service_unit = this.service_unit;\n      const dispatch_summary = this.confirmItems.map((it) => ({ drug: it.drug, expected_quantity: it.quantity,quantity: Math.ceil(it.quantity) }))\n      dispatchMedicationOrder({ items, service_unit, dispatch_summary, warehouse: this.warehouse })\n      .then(() => this.getList())\n    },\n    dispatchAll() {\n      this.openModal();\n    },\n  },\n};\n// const today = moment().format('YYYY-MM-DD')\n//     const tomorrow = moment().add(1, 'days').format('YYYY-MM-DD')\n//     getMedicationOrders({ from_date: today, to_date: tomorrow}).then(console.log)\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticStyle: { height: \"85vh\", \"overflow-y\": \"scroll\" } },\n    [\n      _c(\"div\", { staticStyle: { display: \"flex\" } }, [\n        _c(\"div\", {\n          ref: \"service-unit\",\n          staticClass: \"ref-field-input\",\n          staticStyle: {\n            width: \"400px\",\n            display: \"flex\",\n            \"justify-content\": \"space-between\"\n          }\n        }),\n        _vm._v(\" \"),\n        _c(\"div\", {\n          ref: \"patient-search\",\n          staticClass: \"ref-field-input\",\n          staticStyle: {\n            width: \"400px\",\n            display: \"flex\",\n            \"justify-content\": \"space-between\"\n          }\n        })\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticStyle: { display: \"flex\", \"justify-content\": \"flex-end\" } },\n        [\n          _c(\n            \"b-button\",\n            {\n              staticClass: \"sm\",\n              attrs: { variant: \"primary\" },\n              on: {\n                click: function($event) {\n                  return _vm.dispatchAll()\n                }\n              }\n            },\n            [_vm._v(\"\\n      Dispatch All\")]\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-modal\",\n        {\n          ref: \"viewPrescription\",\n          attrs: {\n            id: \"modal-prevent-closing\",\n            title: \"Dispatch Summary\",\n            size: \"lg\",\n            \"ok-title\": \"Create a Stock Transfer\"\n          },\n          on: {\n            ok: function($event) {\n              return _vm.primaryAction()\n            }\n          }\n        },\n        [\n          _c(\"b-table\", {\n            attrs: {\n              items: _vm.confirmItems,\n              fields: [\n                \"drug\",\n                {\n                  key: \"quantity\",\n                  label: \"Quantity\",\n                  formatter: function(value, key, item) {\n                    return Math.ceil(item.quantity)\n                  }\n                },\n                {\n                  key: \"incomplete\",\n                  label: \"In Stock\",\n                  formatter: function(value, key, item) {\n                    return item.incomplete.toFixed(2)\n                  }\n                }\n              ]\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"b-table\", {\n        attrs: { bordered: \"\", fields: _vm.fields, items: _vm.items }\n      }),\n      _vm._v(\" \"),\n      _c(\"h4\", [_vm._v(\"Dispatched today\")]),\n      _vm._v(\" \"),\n      _c(\"b-table\", {\n        attrs: {\n          bordered: \"\",\n          fields: _vm.dispatchedTodayFields,\n          items: _vm.dispatchedToday\n        }\n      })\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-3e49393c_0\", { source: \"\\n.search[data-v-3e49393c] {\\n  display: flex;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/pharmacy/components/core/container/PendingMedicationOrders.vue\"],\"names\":[],\"mappings\":\";AAmRA;EACA,aAAA;AACA\",\"file\":\"PendingMedicationOrders.vue\",\"sourcesContent\":[\"<template>\\n  <div style=\\\"height: 85vh; overflow-y: scroll\\\">\\n    <div style=\\\"display: flex\\\" class=\\\"\\\">\\n      <div\\n        style=\\\"width: 400px; display: flex; justify-content: space-between\\\"\\n        ref=\\\"service-unit\\\"\\n        class=\\\"ref-field-input\\\"\\n      />\\n      <div\\n        style=\\\"width: 400px; display: flex; justify-content: space-between\\\"\\n        ref=\\\"patient-search\\\"\\n        class=\\\"ref-field-input\\\"\\n      />\\n    </div>\\n    <!-- <div display=\\\"flex\\\">\\n        <div style=\\\"width: 400px;\\\" ref=\\\"patient-search\\\" class=\\\"ref-field-input\\\" />\\n        <div style=\\\"width: 400px;\\\" ref=\\\"service-unit\\\" class=\\\"ref-field-input\\\" />\\n        </div> -->\\n    <div style=\\\"display: flex; justify-content: flex-end\\\">\\n      <b-button class=\\\"sm\\\" @click=\\\"dispatchAll()\\\" variant=\\\"primary\\\">\\n        Dispatch All</b-button\\n      >\\n    </div>\\n    <b-modal\\n      id=\\\"modal-prevent-closing\\\"\\n      ref=\\\"viewPrescription\\\"\\n      title=\\\"Dispatch Summary\\\"\\n      size=\\\"lg\\\"\\n      ok-title=\\\"Create a Stock Transfer\\\"\\n      @ok=\\\"primaryAction()\\\"\\n    >\\n      <b-table\\n        :items=\\\"confirmItems\\\"\\n        :fields=\\\"['drug', {key: 'quantity', label: 'Quantity', formatter: (value, key, item) => Math.ceil(item.quantity)}, { key: 'incomplete', label: 'In Stock', formatter: (value, key, item) => item.incomplete.toFixed(2)},]\\\"\\n      >\\n      </b-table>\\n    </b-modal>\\n    <b-table bordered :fields=\\\"fields\\\" :items=\\\"items\\\">\\n    </b-table>\\n    <h4>Dispatched today</h4>\\n    <b-table bordered :fields=\\\"dispatchedTodayFields\\\" :items=\\\"dispatchedToday\\\">\\n    </b-table>\\n  </div>\\n</template>\\n<script>\\nimport moment from \\\"moment\\\";\\nimport {\\n  getMedicationOrders,\\n  dispatchMedicationOrder,\\n  calculateStockBalance\\n} from \\\"../../../../services/pharmacy/prescriptions.js\\\";\\nexport default {\\n  name: \\\"PendingMedicationOrders\\\",\\n  props: {\\n    warehouse: { type: String },\\n  },\\n  data() {\\n    return {\\n      items: [],\\n      fields: [\\n        \\\"drug_name\\\",\\n        \\\"service_unit\\\",\\n        \\\"patient_name\\\",\\n        \\\"date\\\",\\n        \\\"time\\\",\\n        \\\"frequency\\\",\\n        \\\"instructions\\\",\\n        { key: \\\"action\\\", label: \\\" \\\" },\\n      ],\\n      confirmItems: [],\\n      dispatchedIncomplete: [],\\n      service_unit: undefined,\\n      dispatchedToday: [],\\n      filters: {},\\n      dispatchedTodayFields :[\\\"drug_name\\\",\\n        \\\"service_unit\\\",\\n        \\\"patient_name\\\",\\n        \\\"date\\\",\\n        \\\"time\\\",\\n        \\\"frequency\\\",\\n        \\\"instructions\\\",]\\n    };\\n  },\\n  mounted() {\\n    this.getList();\\n    this.makeFields();\\n    this.getDispatchedToday();\\n    this.computeitems();\\n  },\\n  watch: {\\n    items() {\\n      this.computeitems();\\n    },\\n    dispatchedIncomplete() {\\n      this.computeitems();\\n    },\\n  },\\n  methods: {\\n      getDispatchedToday(){\\n          const today = moment().format(\\\"YYYY-MM-DD\\\");\\n          getMedicationOrders({\\n              dispatch_time: today,\\n        is_dispatched: 1,\\n      }).then((data) => {\\n          this.dispatchedToday = data\\n      })\\n      },\\n    computeitems() {\\n      // const output = this.items.reduce((a, b) =>({\\n      //     ...a,\\n      //     [a.drug_name]: (a[b.drug_name] || 0) + 1\\n      // }), {});\\n      const computer = (items) => {\\n        const output = {};\\n        items.forEach((item) => {\\n          output[item.drug_name] = (output[item.drug_name] || 0) + (item.dosage || 1);\\n        });\\n        return output;\\n        // return Object.keys(output).map((key) => ({ drug: key, quantity: output[key] }))\\n      };\\n\\n      const fullQuantities = computer(this.items);\\n      \\n      const dispatchedIncomplete = computer(this.dispatchedIncomplete);\\n    \\n      \\n      const items = Object.keys(fullQuantities).map((key) => ({\\n        drug: key,\\n        quantity: (fullQuantities[key]).toFixed(2),\\n        incomplete: (dispatchedIncomplete[key] || 0).toFixed(2),\\n      }));\\n\\n      const drugs =  Object.keys(fullQuantities)\\n      \\n      calculateStockBalance({ drugs, warehouse: this.warehouse}).then((res) => {\\n         this.confirmItems = items.map((item) => ({\\n        drug: item.drug,\\n        quantity: item.quantity,\\n        incomplete: res[item.drug],\\n      }));\\n      })\\n      \\n      // this.confirmItems = items;\\n    },\\n    makeFields() {\\n      const parent = this;\\n      const patient_field = frappe.ui.form.make_control({\\n        df: {\\n          label: \\\"Patient\\\",\\n          fieldtype: \\\"Link\\\",\\n          fieldname: \\\"patient\\\",\\n          options: \\\"Patient\\\",\\n          placeholder: __(`Patient`),\\n\\n          onchange: function () {\\n            if (this.value) {\\n              console.log(this.value);\\n              const today = moment().format(\\\"YYYY-MM-DD\\\");\\n              const tomorrow = moment().add(1, \\\"days\\\").format(\\\"YYYY-MM-DD\\\");\\n              const to_time = moment().format(\\\"HH:mm\\\");\\n              getMedicationOrders({\\n                from_date: today,\\n                to_date: tomorrow,\\n                is_dispatched: 0,\\n                patient: this.value,\\n                to_time,\\n              }).then((data) => {\\n                parent.items = data;\\n              });\\n              getMedicationOrders({\\n                patient: this.value,\\n                is_dispatched: 1,\\n                is_completed: 0,\\n              }).then((data) => {\\n                parent.dispatchedIncomplete = data;\\n              });\\n            } else {\\n              parent.getList();\\n            }\\n          },\\n        },\\n        parent: this.$refs[\\\"patient-search\\\"],\\n        render_input: true,\\n      });\\n      const service_unit = frappe.ui.form.make_control({\\n        df: {\\n          label: \\\"Ward\\\",\\n          fieldtype: \\\"Link\\\",\\n          fieldname: \\\"service_unit\\\",\\n          options: \\\"Healthcare Service Unit\\\",\\n          placeholder: __(`Healthcare Service Unit`),\\n          filters: {\\n            name: [\\\"NOT LIKE\\\", \\\"%bed%\\\"],\\n          },\\n          onchange: function () {\\n            parent.service_unit = this.value;\\n            if (this.value) {\\n              console.log(this.value);\\n              const today = moment().format(\\\"YYYY-MM-DD\\\");\\n              const tomorrow = moment().add(1, \\\"days\\\").format(\\\"YYYY-MM-DD\\\");\\n              const to_time = moment().format(\\\"HH:mm\\\");\\n              getMedicationOrders({\\n                from_date: today,\\n                to_date: tomorrow,\\n                is_dispatched: 0,\\n                service_unit: this.value,\\n                to_time,\\n              }).then((data) => {\\n                parent.items = data;\\n              });\\n              getMedicationOrders({\\n                service_unit: this.value,\\n                is_dispatched: 1,\\n                is_completed: 0,\\n              }).then((data) => {\\n                parent.dispatchedIncomplete = data;\\n              });\\n            } else {\\n              parent.getList();\\n            }\\n          },\\n        },\\n        parent: this.$refs[\\\"service-unit\\\"],\\n        render_input: true,\\n      });\\n    },\\n    openModal() {\\n      this.$refs.viewPrescription.show();\\n    },\\n    getList() {\\n      const today = moment().format(\\\"YYYY-MM-DD\\\");\\n      const tomorrow = moment().add(1, \\\"days\\\").format(\\\"YYYY-MM-DD\\\");\\n      const to_time = moment().format(\\\"HH:mm\\\");\\n      getMedicationOrders({\\n        from_date: today,\\n        to_date: tomorrow,\\n        is_dispatched: 0,\\n        to_time,\\n      }).then((data) => {\\n        this.items = data;\\n        this.getDispatchedToday();\\n      });\\n      getMedicationOrders({\\n        service_unit: this.value,\\n        is_dispatched: 1,\\n        is_completed: 0,\\n      }).then((data) => {\\n          console.log('******',data)\\n        this.dispatchedIncomplete = data;\\n        this.computeitems();\\n      });\\n    },\\n    dispatch(item) {\\n      dispatchMedicationOrder(item.name).then(() => {\\n        this.getList();\\n      });\\n    },\\n    primaryAction() {\\n\\n      const items = this.items.map((item) =>item.name);\\n      const service_unit = this.service_unit;\\n      const dispatch_summary = this.confirmItems.map((it) => ({ drug: it.drug, expected_quantity: it.quantity,quantity: Math.ceil(it.quantity) }))\\n      dispatchMedicationOrder({ items, service_unit, dispatch_summary, warehouse: this.warehouse })\\n      .then(() => this.getList())\\n    },\\n    dispatchAll() {\\n      this.openModal();\\n    },\\n  },\\n};\\n// const today = moment().format('YYYY-MM-DD')\\n//     const tomorrow = moment().add(1, 'days').format('YYYY-MM-DD')\\n//     getMedicationOrders({ from_date: today, to_date: tomorrow}).then(console.log)\\n</script>\\n<style scoped>\\n.search {\\n  display: flex;\\n}\\n</style>\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-3e49393c\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n  <div style=\\\"height: 85vh; overflow-y: scroll\\\">\\n    <div style=\\\"display: flex\\\" class=\\\"\\\">\\n      <div\\n        style=\\\"width: 400px; display: flex; justify-content: space-between\\\"\\n        ref=\\\"service-unit\\\"\\n        class=\\\"ref-field-input\\\"\\n      />\\n      <div\\n        style=\\\"width: 400px; display: flex; justify-content: space-between\\\"\\n        ref=\\\"patient-search\\\"\\n        class=\\\"ref-field-input\\\"\\n      />\\n    </div>\\n    <!-- <div display=\\\"flex\\\">\\n        <div style=\\\"width: 400px;\\\" ref=\\\"patient-search\\\" class=\\\"ref-field-input\\\" />\\n        <div style=\\\"width: 400px;\\\" ref=\\\"service-unit\\\" class=\\\"ref-field-input\\\" />\\n        </div> -->\\n    <div style=\\\"display: flex; justify-content: flex-end\\\">\\n      <b-button class=\\\"sm\\\" @click=\\\"dispatchAll()\\\" variant=\\\"primary\\\">\\n        Dispatch All</b-button\\n      >\\n    </div>\\n    <b-modal\\n      id=\\\"modal-prevent-closing\\\"\\n      ref=\\\"viewPrescription\\\"\\n      title=\\\"Dispatch Summary\\\"\\n      size=\\\"lg\\\"\\n      ok-title=\\\"Create a Stock Transfer\\\"\\n      @ok=\\\"primaryAction()\\\"\\n    >\\n      <b-table\\n        :items=\\\"confirmItems\\\"\\n        :fields=\\\"['drug', {key: 'quantity', label: 'Quantity', formatter: (value, key, item) => Math.ceil(item.quantity)}, { key: 'incomplete', label: 'In Stock', formatter: (value, key, item) => item.incomplete.toFixed(2)},]\\\"\\n      >\\n      </b-table>\\n    </b-modal>\\n    <b-table bordered :fields=\\\"fields\\\" :items=\\\"items\\\">\\n    </b-table>\\n    <h4>Dispatched today</h4>\\n    <b-table bordered :fields=\\\"dispatchedTodayFields\\\" :items=\\\"dispatchedToday\\\">\\n    </b-table>\\n  </div>\\n</template>\\n<script>\\nimport moment from \\\"moment\\\";\\nimport {\\n  getMedicationOrders,\\n  dispatchMedicationOrder,\\n  calculateStockBalance\\n} from \\\"../../../../services/pharmacy/prescriptions.js\\\";\\nexport default {\\n  name: \\\"PendingMedicationOrders\\\",\\n  props: {\\n    warehouse: { type: String },\\n  },\\n  data() {\\n    return {\\n      items: [],\\n      fields: [\\n        \\\"drug_name\\\",\\n        \\\"service_unit\\\",\\n        \\\"patient_name\\\",\\n        \\\"date\\\",\\n        \\\"time\\\",\\n        \\\"frequency\\\",\\n        \\\"instructions\\\",\\n        { key: \\\"action\\\", label: \\\" \\\" },\\n      ],\\n      confirmItems: [],\\n      dispatchedIncomplete: [],\\n      service_unit: undefined,\\n      dispatchedToday: [],\\n      filters: {},\\n      dispatchedTodayFields :[\\\"drug_name\\\",\\n        \\\"service_unit\\\",\\n        \\\"patient_name\\\",\\n        \\\"date\\\",\\n        \\\"time\\\",\\n        \\\"frequency\\\",\\n        \\\"instructions\\\",]\\n    };\\n  },\\n  mounted() {\\n    this.getList();\\n    this.makeFields();\\n    this.getDispatchedToday();\\n    this.computeitems();\\n  },\\n  watch: {\\n    items() {\\n      this.computeitems();\\n    },\\n    dispatchedIncomplete() {\\n      this.computeitems();\\n    },\\n  },\\n  methods: {\\n      getDispatchedToday(){\\n          const today = moment().format(\\\"YYYY-MM-DD\\\");\\n          getMedicationOrders({\\n              dispatch_time: today,\\n        is_dispatched: 1,\\n      }).then((data) => {\\n          this.dispatchedToday = data\\n      })\\n      },\\n    computeitems() {\\n      // const output = this.items.reduce((a, b) =>({\\n      //     ...a,\\n      //     [a.drug_name]: (a[b.drug_name] || 0) + 1\\n      // }), {});\\n      const computer = (items) => {\\n        const output = {};\\n        items.forEach((item) => {\\n          output[item.drug_name] = (output[item.drug_name] || 0) + (item.dosage || 1);\\n        });\\n        return output;\\n        // return Object.keys(output).map((key) => ({ drug: key, quantity: output[key] }))\\n      };\\n\\n      const fullQuantities = computer(this.items);\\n      \\n      const dispatchedIncomplete = computer(this.dispatchedIncomplete);\\n    \\n      \\n      const items = Object.keys(fullQuantities).map((key) => ({\\n        drug: key,\\n        quantity: (fullQuantities[key]).toFixed(2),\\n        incomplete: (dispatchedIncomplete[key] || 0).toFixed(2),\\n      }));\\n\\n      const drugs =  Object.keys(fullQuantities)\\n      \\n      calculateStockBalance({ drugs, warehouse: this.warehouse}).then((res) => {\\n         this.confirmItems = items.map((item) => ({\\n        drug: item.drug,\\n        quantity: item.quantity,\\n        incomplete: res[item.drug],\\n      }));\\n      })\\n      \\n      // this.confirmItems = items;\\n    },\\n    makeFields() {\\n      const parent = this;\\n      const patient_field = frappe.ui.form.make_control({\\n        df: {\\n          label: \\\"Patient\\\",\\n          fieldtype: \\\"Link\\\",\\n          fieldname: \\\"patient\\\",\\n          options: \\\"Patient\\\",\\n          placeholder: __(`Patient`),\\n\\n          onchange: function () {\\n            if (this.value) {\\n              console.log(this.value);\\n              const today = moment().format(\\\"YYYY-MM-DD\\\");\\n              const tomorrow = moment().add(1, \\\"days\\\").format(\\\"YYYY-MM-DD\\\");\\n              const to_time = moment().format(\\\"HH:mm\\\");\\n              getMedicationOrders({\\n                from_date: today,\\n                to_date: tomorrow,\\n                is_dispatched: 0,\\n                patient: this.value,\\n                to_time,\\n              }).then((data) => {\\n                parent.items = data;\\n              });\\n              getMedicationOrders({\\n                patient: this.value,\\n                is_dispatched: 1,\\n                is_completed: 0,\\n              }).then((data) => {\\n                parent.dispatchedIncomplete = data;\\n              });\\n            } else {\\n              parent.getList();\\n            }\\n          },\\n        },\\n        parent: this.$refs[\\\"patient-search\\\"],\\n        render_input: true,\\n      });\\n      const service_unit = frappe.ui.form.make_control({\\n        df: {\\n          label: \\\"Ward\\\",\\n          fieldtype: \\\"Link\\\",\\n          fieldname: \\\"service_unit\\\",\\n          options: \\\"Healthcare Service Unit\\\",\\n          placeholder: __(`Healthcare Service Unit`),\\n          filters: {\\n            name: [\\\"NOT LIKE\\\", \\\"%bed%\\\"],\\n          },\\n          onchange: function () {\\n            parent.service_unit = this.value;\\n            if (this.value) {\\n              console.log(this.value);\\n              const today = moment().format(\\\"YYYY-MM-DD\\\");\\n              const tomorrow = moment().add(1, \\\"days\\\").format(\\\"YYYY-MM-DD\\\");\\n              const to_time = moment().format(\\\"HH:mm\\\");\\n              getMedicationOrders({\\n                from_date: today,\\n                to_date: tomorrow,\\n                is_dispatched: 0,\\n                service_unit: this.value,\\n                to_time,\\n              }).then((data) => {\\n                parent.items = data;\\n              });\\n              getMedicationOrders({\\n                service_unit: this.value,\\n                is_dispatched: 1,\\n                is_completed: 0,\\n              }).then((data) => {\\n                parent.dispatchedIncomplete = data;\\n              });\\n            } else {\\n              parent.getList();\\n            }\\n          },\\n        },\\n        parent: this.$refs[\\\"service-unit\\\"],\\n        render_input: true,\\n      });\\n    },\\n    openModal() {\\n      this.$refs.viewPrescription.show();\\n    },\\n    getList() {\\n      const today = moment().format(\\\"YYYY-MM-DD\\\");\\n      const tomorrow = moment().add(1, \\\"days\\\").format(\\\"YYYY-MM-DD\\\");\\n      const to_time = moment().format(\\\"HH:mm\\\");\\n      getMedicationOrders({\\n        from_date: today,\\n        to_date: tomorrow,\\n        is_dispatched: 0,\\n        to_time,\\n      }).then((data) => {\\n        this.items = data;\\n        this.getDispatchedToday();\\n      });\\n      getMedicationOrders({\\n        service_unit: this.value,\\n        is_dispatched: 1,\\n        is_completed: 0,\\n      }).then((data) => {\\n          console.log('******',data)\\n        this.dispatchedIncomplete = data;\\n        this.computeitems();\\n      });\\n    },\\n    dispatch(item) {\\n      dispatchMedicationOrder(item.name).then(() => {\\n        this.getList();\\n      });\\n    },\\n    primaryAction() {\\n\\n      const items = this.items.map((item) =>item.name);\\n      const service_unit = this.service_unit;\\n      const dispatch_summary = this.confirmItems.map((it) => ({ drug: it.drug, expected_quantity: it.quantity,quantity: Math.ceil(it.quantity) }))\\n      dispatchMedicationOrder({ items, service_unit, dispatch_summary, warehouse: this.warehouse })\\n      .then(() => this.getList())\\n    },\\n    dispatchAll() {\\n      this.openModal();\\n    },\\n  },\\n};\\n// const today = moment().format('YYYY-MM-DD')\\n//     const tomorrow = moment().add(1, 'days').format('YYYY-MM-DD')\\n//     getMedicationOrders({ from_date: today, to_date: tomorrow}).then(console.log)\\n</script>\\n<style scoped>\\n.search {\\n  display: flex;\\n}\\n</style>\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "export default {\n    socketData: {},\n\n}", "export default {\n    SET_SOCKET_DATA(state, socketData) {\n        state.socketData = socketData;\n    },\n};", "export default {\n    setSocketData({ commit }, socketData) {\n        console.log('RECIEVED SOCKED DATA', socketData)\n        return commit(\"SET_SOCKET_DATA\", socketData);\n    },\n};", "export default {\n    getSocketData: (state) => state.socketData,\n};", "import state from './moduleSocketState.js'\nimport mutations from './moduleSocketMutations.js'\nimport actions from './moduleSocketActions.js'\nimport getters from './moduleSocketGetters.js'\n\nexport default {\n    namespaced: true,\n    state: state,\n    mutations: mutations,\n    actions: actions,\n    getters: getters\n}", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Sidebar from './sidebar/Sidebar.vue';\nimport Container from './container/Container.vue';\nimport InpatientPrescriptions from './container/InpatientPrescriptions.vue';\nimport TopHeader from '../TopHeader.vue';\nimport OutgoingRequest from './material-request/OutgoingRequest.vue';\nimport PendingMedicationOrders from './container/PendingMedicationOrders.vue'\nimport { getPatientsPerServiceUnit, getMyServiceUnits, getPatientInfo, getMyPatientTabPermissions } from '../../../services/patient_chart/api';\nimport { getPatientPrescriptionsV2 } from '../../../services/pharmacy/prescriptions.js'\n// import { sendSocketMesage } from \"../../../services/intergrations/socketio/send.js\";\nimport socketModule from \"../../../state/socket/moduleSocket.js\";\nconst __vue_script__ = {\n    name: 'Main',\n    name: 'Main',\n    components: {\n        Sidebar,\n        Container,\n        TopHeader,\n        OutgoingRequest,\n        InpatientPrescriptions,\n        PendingMedicationOrders\n    },\n    data() {\n        return {\n            prescription: {},\n            socket: null,\n            warehouse: null,\n            tab: 0,\n            currentServicePoint:{}\n        };\n    },\n    computed: {\n        socketData() {\n            return this.$store.getters[\"socket/getSocketData\"];\n        },\n    },\n    watch: {\n        prescription() {\n            this.$refs.prescriptionContainer.itemUnitsChanged();\n        },\n        tab(){\n            this.selectedServicePoint(this.currentServicePoint);\n        }\n    },\n    methods: {\n        selectedServicePoint(sp) {\n            this.currentServicePoint = sp;\n            this.$refs.sidebar.onSelectedServicePoint(sp);\n        },\n        warehouseSelected(wh) {\n            // alert(JSON.stringify(wh))\n            this.warehouse = wh;\n        },\n        sidebarQueueStateUpdated(queueState) {\n            this.prescription = queueState;\n            this.$refs.prescriptionContainer.getPrescriptionDrugs(queueState.patient, queueState.appointment);\n        },\n        prescriptionClicked(prescription) {\n            this.prescription = prescription;\n            if (prescription.patient && prescription.appointment) {\n                this.$refs.prescriptionContainer.getPrescriptionDrugs(prescription.patient, prescription.appointment);\n            }\n        },\n        onSocket(data) {\n            console.log(data);\n        },\n        get_host: function(port = 3000) {\n            var host = window.location.origin;\n            if (window.dev_server || true) {\n                var parts = host.split(\":\");\n                port = frappe.boot.socketio_port || port.toString() || \"3000\";\n                if (parts.length > 2) {\n                    host = parts[0] + \":\" + parts[1];\n                }\n                host = host + \":\" + port;\n            }\n            return host;\n        },\n    },\n    mounted() {\n        $('body').css({ 'overflow-y': 'hidden' });\n        $('body').css({ 'overflow-x': 'hidden' });\n        const host = this.get_host(3000);\n        const socket = io.connect();\n        this.socket = socket;\n        socket.on(\"connect\", () => {\n            console.log(\"Pharmacy main connected\");\n        });\n    },\n    created() {\n        this.$store.registerModule(\"socket\", socketModule);\n    },\n    watch: {\n        socketData(socketData) {\n            // console.log(\"SOCKET DATA\", socketData);\n            if (socketData.action === \"off\") {\n                this.socket.off(socketData.event);\n            } else if (socketData.action === \"on\") {\n                this.socket.on(socketData.event, function() {\n                    console.log(\"subscribed to \" + socketData.event);\n                });\n            }\n        },\n    },\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"main page-wrapper\",\n      staticStyle: { \"background-color\": \"#ffffff\" }\n    },\n    [\n      _c(\n        \"b-row\",\n        [\n          _c(\n            \"b-col\",\n            [\n              _c(\"TopHeader\", {\n                staticStyle: { width: \"100%\" },\n                on: {\n                  warehouseSelected: _vm.warehouseSelected,\n                  selectedServicePoint: _vm.selectedServicePoint\n                }\n              })\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-tabs\",\n        {\n          staticClass: \"custom-tabs\",\n          attrs: { fill: \"\", \"content-class\": \"note-tabs-content\" },\n          model: {\n            value: _vm.tab,\n            callback: function($$v) {\n              _vm.tab = $$v\n            },\n            expression: \"tab\"\n          }\n        },\n        [\n          _c(\n            \"b-tab\",\n            { attrs: { title: \"Outpatient Prescriptions\" } },\n            [\n              _c(\n                \"b-row\",\n                [\n                  _c(\"b-col\", { attrs: { md: \"3\" } }, [\n                    _c(\n                      \"div\",\n                      { staticClass: \"sidebar\" },\n                      [\n                        _vm.tab === 0\n                          ? _c(\"Sidebar\", {\n                              ref: \"sidebar\",\n                              attrs: {\n                                currentServicePoint: _vm.currentServicePoint\n                              },\n                              on: {\n                                prescriptionClicked: _vm.prescriptionClicked,\n                                queueStateUpdated: _vm.sidebarQueueStateUpdated\n                              }\n                            })\n                          : _vm._e()\n                      ],\n                      1\n                    )\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"b-col\", { attrs: { md: \"9\" } }, [\n                    _c(\n                      \"div\",\n                      { staticClass: \"content\" },\n                      [\n                        _vm.tab === 0\n                          ? _c(\"Container\", {\n                              ref: \"prescriptionContainer\",\n                              attrs: {\n                                selectedPharmacy: _vm.warehouse,\n                                patientName: _vm.prescription.patient,\n                                encounterName: _vm.prescription.encounter,\n                                queueState: _vm.prescription\n                              }\n                            })\n                          : _vm._e()\n                      ],\n                      1\n                    )\n                  ])\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"b-tab\",\n            { attrs: { title: \"Inpatient Prescriptions\" } },\n            [\n              _c(\n                \"b-row\",\n                {\n                  staticStyle: { display: \"flex\", \"justify-content\": \"center\" }\n                },\n                [\n                  _c(\n                    \"b-col\",\n                    { attrs: { md: \"11\" } },\n                    [\n                      _vm.tab === 1\n                        ? _c(\"inpatient-prescriptions\", {\n                            attrs: { selectedPharmacy: _vm.warehouse }\n                          })\n                        : _vm._e()\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"b-tab\",\n            { attrs: { title: \"Pending Medication Orders\" } },\n            [\n              _c(\n                \"b-row\",\n                {\n                  staticStyle: { display: \"flex\", \"justify-content\": \"center\" }\n                },\n                [\n                  _c(\n                    \"b-col\",\n                    { attrs: { md: \"11\" } },\n                    [\n                      _vm.tab === 2\n                        ? _c(\"pending-medication-orders\", {\n                            attrs: { warehouse: _vm.warehouse.warehouse }\n                          })\n                        : _vm._e()\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"b-tab\",\n            { attrs: { title: \"Material Requests\" } },\n            [\n              _c(\n                \"b-row\",\n                [\n                  _c(\n                    \"b-col\",\n                    [\n                      _vm.tab === 3 && _vm.warehouse\n                        ? _c(\"OutgoingRequest\", {\n                            attrs: { warehouseName: _vm.warehouse.warehouse }\n                          })\n                        : _vm._e()\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-7cd9370b_0\", { source: \"\\n.sidebar[data-v-7cd9370b] {\\n    margin: 0;\\n    padding: 0;\\n    /* width: 400px; */\\n    height: calc(100vh - 0.01rem);\\n}\\n\\n/* Page content. The value of the margin-left property should match the value of the sidebar's width property */\\ncontent[data-v-7cd9370b] {\\n    margin-left: 10px;\\n    margin-right: 10px;\\n    padding: 1px 4px;\\n    max-height: calc(100vh - 0.01rem);\\n    margin-top: 0px;\\n}\\n\\n/* On screens that are less than 700px wide, make the sidebar into a topbar */\\n@media screen and (max-width: 700px) {\\n.sidebar[data-v-7cd9370b] {\\n        width: 100%;\\n        height: auto;\\n        position: relative;\\n}\\n.sidebar a[data-v-7cd9370b] {\\n        float: left;\\n}\\ndiv.content[data-v-7cd9370b] {\\n        margin-left: 0;\\n}\\n}\\n\\n/* On screens that are less than 400px, display the bar vertically, instead of horizontally */\\n@media screen and (max-width: 400px) {\\n.sidebar a[data-v-7cd9370b] {\\n        text-align: center;\\n        float: none;\\n}\\n}\\n.main[data-v-7cd9370b] {\\n    width: 100%;\\n    height: 100%;\\n    overflow-x: hidden;\\n    overflow-y: auto;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/pharmacy/components/core/Main.vue\"],\"names\":[],\"mappings\":\";AA8JA;IACA,SAAA;IACA,UAAA;IACA,kBAAA;IACA,6BAAA;AACA;;AAEA,+GAAA;AAEA;IACA,iBAAA;IACA,kBAAA;IACA,gBAAA;IACA,iCAAA;IACA,eAAA;AACA;;AAEA,6EAAA;AAEA;AACA;QACA,WAAA;QACA,YAAA;QACA,kBAAA;AACA;AACA;QACA,WAAA;AACA;AACA;QACA,cAAA;AACA;AACA;;AAEA,6FAAA;AAEA;AACA;QACA,kBAAA;QACA,WAAA;AACA;AACA;AAEA;IACA,WAAA;IACA,YAAA;IACA,kBAAA;IACA,gBAAA;AACA\",\"file\":\"Main.vue\",\"sourcesContent\":[\"<template>\\n    <div class=\\\"main page-wrapper\\\" style=\\\"background-color:#ffffff;\\\">\\n        <b-row>\\n            <b-col>\\n                <TopHeader style=\\\"width: 100%\\\" @warehouseSelected=\\\"warehouseSelected\\\" @selectedServicePoint=\\\"selectedServicePoint\\\" />\\n            </b-col>\\n        </b-row>\\n        <b-tabs v-model=\\\"tab\\\" fill content-class=\\\"note-tabs-content\\\" class=\\\"custom-tabs\\\">\\n           \\n            <b-tab title=\\\"Outpatient Prescriptions\\\">\\n                <b-row>\\n                    <b-col md=\\\"3\\\">\\n                        <div class=\\\"sidebar\\\">\\n                            <Sidebar  v-if=\\\"tab === 0\\\" ref=\\\"sidebar\\\" @prescriptionClicked=\\\"prescriptionClicked\\\" @queueStateUpdated=\\\"sidebarQueueStateUpdated\\\" :currentServicePoint=\\\"currentServicePoint\\\" />\\n                        </div>\\n                    </b-col>\\n                    <b-col md=\\\"9\\\">\\n                        <div class=\\\"content\\\">\\n                            <Container :selectedPharmacy=\\\"warehouse\\\"  v-if=\\\"tab === 0\\\" ref=\\\"prescriptionContainer\\\" :patientName=\\\"prescription.patient\\\" :encounterName=\\\"prescription.encounter\\\" :queueState=\\\"prescription\\\" />\\n                        </div>\\n                    </b-col>\\n                </b-row>\\n            </b-tab>\\n             <b-tab title=\\\"Inpatient Prescriptions\\\">\\n                 <b-row style=\\\"display: flex; justify-content: center;\\\">\\n                     <b-col md=\\\"11\\\">\\n                <inpatient-prescriptions :selectedPharmacy=\\\"warehouse\\\" v-if=\\\"tab === 1\\\">\\n\\n                </inpatient-prescriptions>\\n                </b-col>\\n                 </b-row>\\n            </b-tab>\\n            <b-tab title=\\\"Pending Medication Orders\\\">\\n                 <b-row style=\\\"display: flex; justify-content: center;\\\">\\n                     <b-col md=\\\"11\\\">\\n                <pending-medication-orders :warehouse=\\\"warehouse.warehouse\\\" v-if=\\\"tab === 2\\\" />\\n                </b-col>\\n                 </b-row>\\n            </b-tab>\\n            <b-tab title=\\\"Material Requests\\\">\\n                <b-row>\\n                    <b-col>\\n                        <OutgoingRequest v-if=\\\"tab === 3 && warehouse\\\" :warehouseName=\\\"warehouse.warehouse\\\" />\\n                    </b-col>\\n                </b-row>\\n            </b-tab>\\n        </b-tabs>\\n    </div>\\n</template>\\n\\n<script>\\nimport Sidebar from './sidebar/Sidebar.vue';\\nimport Container from './container/Container.vue';\\nimport InpatientPrescriptions from './container/InpatientPrescriptions.vue';\\nimport TopHeader from '../TopHeader.vue';\\nimport OutgoingRequest from './material-request/OutgoingRequest.vue';\\nimport PendingMedicationOrders from './container/PendingMedicationOrders.vue'\\nimport { getPatientsPerServiceUnit, getMyServiceUnits, getPatientInfo, getMyPatientTabPermissions } from '../../../services/patient_chart/api';\\nimport { getPatientPrescriptionsV2 } from '../../../services/pharmacy/prescriptions.js'\\n// import { sendSocketMesage } from \\\"../../../services/intergrations/socketio/send.js\\\";\\nimport socketModule from \\\"../../../state/socket/moduleSocket.js\\\";\\nexport default {\\n    name: 'Main',\\n    name: 'Main',\\n    components: {\\n        Sidebar,\\n        Container,\\n        TopHeader,\\n        OutgoingRequest,\\n        InpatientPrescriptions,\\n        PendingMedicationOrders\\n    },\\n    data() {\\n        return {\\n            prescription: {},\\n            socket: null,\\n            warehouse: null,\\n            tab: 0,\\n            currentServicePoint:{}\\n        };\\n    },\\n    computed: {\\n        socketData() {\\n            return this.$store.getters[\\\"socket/getSocketData\\\"];\\n        },\\n    },\\n    watch: {\\n        prescription() {\\n            this.$refs.prescriptionContainer.itemUnitsChanged();\\n        },\\n        tab(){\\n            this.selectedServicePoint(this.currentServicePoint);\\n        }\\n    },\\n    methods: {\\n        selectedServicePoint(sp) {\\n            this.currentServicePoint = sp;\\n            this.$refs.sidebar.onSelectedServicePoint(sp);\\n        },\\n        warehouseSelected(wh) {\\n            // alert(JSON.stringify(wh))\\n            this.warehouse = wh;\\n        },\\n        sidebarQueueStateUpdated(queueState) {\\n            this.prescription = queueState;\\n            this.$refs.prescriptionContainer.getPrescriptionDrugs(queueState.patient, queueState.appointment);\\n        },\\n        prescriptionClicked(prescription) {\\n            this.prescription = prescription;\\n            if (prescription.patient && prescription.appointment) {\\n                this.$refs.prescriptionContainer.getPrescriptionDrugs(prescription.patient, prescription.appointment);\\n            }\\n        },\\n        onSocket(data) {\\n            console.log(data);\\n        },\\n        get_host: function(port = 3000) {\\n            var host = window.location.origin;\\n            if (window.dev_server || true) {\\n                var parts = host.split(\\\":\\\");\\n                port = frappe.boot.socketio_port || port.toString() || \\\"3000\\\";\\n                if (parts.length > 2) {\\n                    host = parts[0] + \\\":\\\" + parts[1];\\n                }\\n                host = host + \\\":\\\" + port;\\n            }\\n            return host;\\n        },\\n    },\\n    mounted() {\\n        $('body').css({ 'overflow-y': 'hidden' });\\n        $('body').css({ 'overflow-x': 'hidden' });\\n        const host = this.get_host(3000);\\n        const socket = io.connect();\\n        this.socket = socket;\\n        socket.on(\\\"connect\\\", () => {\\n            console.log(\\\"Pharmacy main connected\\\");\\n        });\\n    },\\n    created() {\\n        this.$store.registerModule(\\\"socket\\\", socketModule);\\n    },\\n    watch: {\\n        socketData(socketData) {\\n            // console.log(\\\"SOCKET DATA\\\", socketData);\\n            if (socketData.action === \\\"off\\\") {\\n                this.socket.off(socketData.event);\\n            } else if (socketData.action === \\\"on\\\") {\\n                this.socket.on(socketData.event, function() {\\n                    console.log(\\\"subscribed to \\\" + socketData.event);\\n                });\\n            }\\n        },\\n    },\\n}\\n</script>\\n\\n<style scoped>\\n.sidebar {\\n    margin: 0;\\n    padding: 0;\\n    /* width: 400px; */\\n    height: calc(100vh - 0.01rem);\\n}\\n\\n/* Page content. The value of the margin-left property should match the value of the sidebar's width property */\\n\\ncontent {\\n    margin-left: 10px;\\n    margin-right: 10px;\\n    padding: 1px 4px;\\n    max-height: calc(100vh - 0.01rem);\\n    margin-top: 0px;\\n}\\n\\n/* On screens that are less than 700px wide, make the sidebar into a topbar */\\n\\n@media screen and (max-width: 700px) {\\n    .sidebar {\\n        width: 100%;\\n        height: auto;\\n        position: relative;\\n    }\\n    .sidebar a {\\n        float: left;\\n    }\\n    div.content {\\n        margin-left: 0;\\n    }\\n}\\n\\n/* On screens that are less than 400px, display the bar vertically, instead of horizontally */\\n\\n@media screen and (max-width: 400px) {\\n    .sidebar a {\\n        text-align: center;\\n        float: none;\\n    }\\n}\\n\\n.main {\\n    width: 100%;\\n    height: 100%;\\n    overflow-x: hidden;\\n    overflow-y: auto;\\n}\\n</style>\\n<style lang=\\\"less\\\" scoped>\\n.custom-tabs {\\n    .card-header {\\n        background-color: #fff;\\n        ul {\\n            li {\\n                margin: 2px;\\n                display: flex;\\n                flex-direction: column;\\n                flex: 1 0;\\n            }\\n        }\\n    }\\n    .card-footer {\\n        min-height: 60px;\\n    }\\n}\\n</style>\\n\\n\"]}, media: undefined })\n,inject(\"data-v-7cd9370b_1\", { source: \".custom-tabs .card-header[data-v-7cd9370b] {\\n  background-color: #fff;\\n}\\n.custom-tabs .card-header ul li[data-v-7cd9370b] {\\n  margin: 2px;\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1 0;\\n}\\n.custom-tabs .card-footer[data-v-7cd9370b] {\\n  min-height: 60px;\\n}\\n\", map: {\"version\":3,\"sources\":[\"Main.vue\"],\"names\":[],\"mappings\":\"AAAA;EACE,sBAAsB;AACxB;AACA;EACE,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,SAAS;AACX;AACA;EACE,gBAAgB;AAClB\",\"file\":\"Main.vue\",\"sourcesContent\":[\".custom-tabs .card-header {\\n  background-color: #fff;\\n}\\n.custom-tabs .card-header ul li {\\n  margin: 2px;\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1 0;\\n}\\n.custom-tabs .card-footer {\\n  min-height: 60px;\\n}\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-7cd9370b\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n    <div class=\\\"main page-wrapper\\\" style=\\\"background-color:#ffffff;\\\">\\n        <b-row>\\n            <b-col>\\n                <TopHeader style=\\\"width: 100%\\\" @warehouseSelected=\\\"warehouseSelected\\\" @selectedServicePoint=\\\"selectedServicePoint\\\" />\\n            </b-col>\\n        </b-row>\\n        <b-tabs v-model=\\\"tab\\\" fill content-class=\\\"note-tabs-content\\\" class=\\\"custom-tabs\\\">\\n           \\n            <b-tab title=\\\"Outpatient Prescriptions\\\">\\n                <b-row>\\n                    <b-col md=\\\"3\\\">\\n                        <div class=\\\"sidebar\\\">\\n                            <Sidebar  v-if=\\\"tab === 0\\\" ref=\\\"sidebar\\\" @prescriptionClicked=\\\"prescriptionClicked\\\" @queueStateUpdated=\\\"sidebarQueueStateUpdated\\\" :currentServicePoint=\\\"currentServicePoint\\\" />\\n                        </div>\\n                    </b-col>\\n                    <b-col md=\\\"9\\\">\\n                        <div class=\\\"content\\\">\\n                            <Container :selectedPharmacy=\\\"warehouse\\\"  v-if=\\\"tab === 0\\\" ref=\\\"prescriptionContainer\\\" :patientName=\\\"prescription.patient\\\" :encounterName=\\\"prescription.encounter\\\" :queueState=\\\"prescription\\\" />\\n                        </div>\\n                    </b-col>\\n                </b-row>\\n            </b-tab>\\n             <b-tab title=\\\"Inpatient Prescriptions\\\">\\n                 <b-row style=\\\"display: flex; justify-content: center;\\\">\\n                     <b-col md=\\\"11\\\">\\n                <inpatient-prescriptions :selectedPharmacy=\\\"warehouse\\\" v-if=\\\"tab === 1\\\">\\n\\n                </inpatient-prescriptions>\\n                </b-col>\\n                 </b-row>\\n            </b-tab>\\n            <b-tab title=\\\"Pending Medication Orders\\\">\\n                 <b-row style=\\\"display: flex; justify-content: center;\\\">\\n                     <b-col md=\\\"11\\\">\\n                <pending-medication-orders :warehouse=\\\"warehouse.warehouse\\\" v-if=\\\"tab === 2\\\" />\\n                </b-col>\\n                 </b-row>\\n            </b-tab>\\n            <b-tab title=\\\"Material Requests\\\">\\n                <b-row>\\n                    <b-col>\\n                        <OutgoingRequest v-if=\\\"tab === 3 && warehouse\\\" :warehouseName=\\\"warehouse.warehouse\\\" />\\n                    </b-col>\\n                </b-row>\\n            </b-tab>\\n        </b-tabs>\\n    </div>\\n</template>\\n\\n<script>\\nimport Sidebar from './sidebar/Sidebar.vue';\\nimport Container from './container/Container.vue';\\nimport InpatientPrescriptions from './container/InpatientPrescriptions.vue';\\nimport TopHeader from '../TopHeader.vue';\\nimport OutgoingRequest from './material-request/OutgoingRequest.vue';\\nimport PendingMedicationOrders from './container/PendingMedicationOrders.vue'\\nimport { getPatientsPerServiceUnit, getMyServiceUnits, getPatientInfo, getMyPatientTabPermissions } from '../../../services/patient_chart/api';\\nimport { getPatientPrescriptionsV2 } from '../../../services/pharmacy/prescriptions.js'\\n// import { sendSocketMesage } from \\\"../../../services/intergrations/socketio/send.js\\\";\\nimport socketModule from \\\"../../../state/socket/moduleSocket.js\\\";\\nexport default {\\n    name: 'Main',\\n    name: 'Main',\\n    components: {\\n        Sidebar,\\n        Container,\\n        TopHeader,\\n        OutgoingRequest,\\n        InpatientPrescriptions,\\n        PendingMedicationOrders\\n    },\\n    data() {\\n        return {\\n            prescription: {},\\n            socket: null,\\n            warehouse: null,\\n            tab: 0,\\n            currentServicePoint:{}\\n        };\\n    },\\n    computed: {\\n        socketData() {\\n            return this.$store.getters[\\\"socket/getSocketData\\\"];\\n        },\\n    },\\n    watch: {\\n        prescription() {\\n            this.$refs.prescriptionContainer.itemUnitsChanged();\\n        },\\n        tab(){\\n            this.selectedServicePoint(this.currentServicePoint);\\n        }\\n    },\\n    methods: {\\n        selectedServicePoint(sp) {\\n            this.currentServicePoint = sp;\\n            this.$refs.sidebar.onSelectedServicePoint(sp);\\n        },\\n        warehouseSelected(wh) {\\n            // alert(JSON.stringify(wh))\\n            this.warehouse = wh;\\n        },\\n        sidebarQueueStateUpdated(queueState) {\\n            this.prescription = queueState;\\n            this.$refs.prescriptionContainer.getPrescriptionDrugs(queueState.patient, queueState.appointment);\\n        },\\n        prescriptionClicked(prescription) {\\n            this.prescription = prescription;\\n            if (prescription.patient && prescription.appointment) {\\n                this.$refs.prescriptionContainer.getPrescriptionDrugs(prescription.patient, prescription.appointment);\\n            }\\n        },\\n        onSocket(data) {\\n            console.log(data);\\n        },\\n        get_host: function(port = 3000) {\\n            var host = window.location.origin;\\n            if (window.dev_server || true) {\\n                var parts = host.split(\\\":\\\");\\n                port = frappe.boot.socketio_port || port.toString() || \\\"3000\\\";\\n                if (parts.length > 2) {\\n                    host = parts[0] + \\\":\\\" + parts[1];\\n                }\\n                host = host + \\\":\\\" + port;\\n            }\\n            return host;\\n        },\\n    },\\n    mounted() {\\n        $('body').css({ 'overflow-y': 'hidden' });\\n        $('body').css({ 'overflow-x': 'hidden' });\\n        const host = this.get_host(3000);\\n        const socket = io.connect();\\n        this.socket = socket;\\n        socket.on(\\\"connect\\\", () => {\\n            console.log(\\\"Pharmacy main connected\\\");\\n        });\\n    },\\n    created() {\\n        this.$store.registerModule(\\\"socket\\\", socketModule);\\n    },\\n    watch: {\\n        socketData(socketData) {\\n            // console.log(\\\"SOCKET DATA\\\", socketData);\\n            if (socketData.action === \\\"off\\\") {\\n                this.socket.off(socketData.event);\\n            } else if (socketData.action === \\\"on\\\") {\\n                this.socket.on(socketData.event, function() {\\n                    console.log(\\\"subscribed to \\\" + socketData.event);\\n                });\\n            }\\n        },\\n    },\\n}\\n</script>\\n\\n<style scoped>\\n.sidebar {\\n    margin: 0;\\n    padding: 0;\\n    /* width: 400px; */\\n    height: calc(100vh - 0.01rem);\\n}\\n\\n/* Page content. The value of the margin-left property should match the value of the sidebar's width property */\\n\\ncontent {\\n    margin-left: 10px;\\n    margin-right: 10px;\\n    padding: 1px 4px;\\n    max-height: calc(100vh - 0.01rem);\\n    margin-top: 0px;\\n}\\n\\n/* On screens that are less than 700px wide, make the sidebar into a topbar */\\n\\n@media screen and (max-width: 700px) {\\n    .sidebar {\\n        width: 100%;\\n        height: auto;\\n        position: relative;\\n    }\\n    .sidebar a {\\n        float: left;\\n    }\\n    div.content {\\n        margin-left: 0;\\n    }\\n}\\n\\n/* On screens that are less than 400px, display the bar vertically, instead of horizontally */\\n\\n@media screen and (max-width: 400px) {\\n    .sidebar a {\\n        text-align: center;\\n        float: none;\\n    }\\n}\\n\\n.main {\\n    width: 100%;\\n    height: 100%;\\n    overflow-x: hidden;\\n    overflow-y: auto;\\n}\\n</style>\\n<style lang=\\\"less\\\" scoped>\\n.custom-tabs {\\n    .card-header {\\n        background-color: #fff;\\n        ul {\\n            li {\\n                margin: 2px;\\n                display: flex;\\n                flex-direction: column;\\n                flex: 1 0;\\n            }\\n        }\\n    }\\n    .card-footer {\\n        min-height: 60px;\\n    }\\n}\\n</style>\\n\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "import Vuex from '../dist/vuex.common.js'\n\nconst {\n  Store,\n  install,\n  version,\n  mapState,\n  mapMutations,\n  mapGetters,\n  mapActions,\n  createNamespacedHelpers,\n  createLogger\n} = Vuex\n\nexport {\n  Vuex as default,\n  Store,\n  install,\n  version,\n  mapState,\n  mapMutations,\n  mapGetters,\n  mapActions,\n  createNamespacedHelpers,\n  createLogger\n}\n", "const getUserInfo = () => {\n    let userInfo = {};\n\n    return userInfo;\n};\n\nconst state = {\n    AppActiveUser: getUserInfo(),\n    tableData: []\n};\n\nexport default state;", "const getters = {\n    getUser: (state) => {\n        return state.AppActiveUser;\n    },\n    getTableData: (state) => {\n        return state.AppActiveUser;\n    },\n};\n\nexport default getters;", "const mutations = {\n    UPDATE_USER_INFO(state, payload) {\n        state.AppActiveUser = payload;\n    },\n    UPDATE_TABLE_DATA(state, payload) {\n        state.tableData = payload;\n    },\n}\n\nexport default mutations", "const actions = {\n    updateUserInfo({ commit }, payload) {\n        commit(\"UPDATE_USER_INFO\", payload);\n    },\n    updateTable({ commit }, payload) {\n        commit(\"UPDATE_TABLE_DATA\", payload);\n    },\n};\n\nexport default actions;", "export default {\n    patients: [],\n    patientSearchQuery: '',\n    patientFilter: null,\n    selectedPatientDetails: {},\n    selectedPatient: {},\n    timelineData: [],\n\n}", "export default {\n    SET_PATIENT_SEARCH_QUERY(state, query) {\n        state.patientSearchQuery = query;\n    },\n    UPDATE_PATIENT_FILTER(state, filter) {\n        state.patientFilter = filter;\n    },\n    SET_PATIENTS(state, patients) {\n        state.patients = patients;\n    },\n    ADD_PATIENT(state, patient) {\n        state.patients.unshift(patient);\n    },\n    UPDATE_PATIENT(state, patient) {\n        const patientIndex = state.patients.findIndex((t) => t.id == patient.id);\n        Object.assign(state.patients[patientIndex], patient);\n    },\n    SET_SELECTED_PATIENT(state, patient) {\n        state.selectedPatient = patient;\n    },\n    SET_SELECTED_PATIENT_DETAILS(state, patientDetails) {\n        state.selectedPatientDetails = patientDetails;\n    },\n    SET_TIMELINE_DATA(state, timelineData) {\n        state.timelineData = timelineData;\n    },\n\n};", "import { getPatientsPerServiceUnit, transferPatient as transferPatientApi } from './.././../services/patient_chart/api';\nimport { getPatientInfo } from '../.././services/patient/patient.js'\n\nexport default {\n    setPatientSearchQuery({ commit }, query) {\n        commit('SET_PATIENT_SEARCH_QUERY', query);\n    },\n\n    fetchPatients({ commit }, payload) {\n        console.log(\"BACK AT IT\", payload)\n        if (!payload.serviceUnit) {\n            return;\n        }\n        payload.work = undefined\n        return getPatientsPerServiceUnit(payload)\n            .then((patients) => {\n                const inpatient_outpatient = [...patients.inpatients, ...patients.outpatients];\n                console.log('FETCH SUCCESS', inpatient_outpatient);\n\n                commit('SET_PATIENTS', inpatient_outpatient);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n    },\n    transferPatient: ({ commit }, { patient, callback, ...transfer_payload }) =>\n        transferPatientApi(transfer_payload).then(() => {\n            const newPatient = {...patient, bed: transfer_payload.service_unit, service_unit: transfer_payload.service_unit };\n            commit('UPDATE_PATIENT', newPatient);\n            callback();\n        }),\n\n    setSelectedPatient({ commit }, patient) {\n\n        return commit('SET_SELECTED_PATIENT', patient);\n    },\n    fetchSelectedPatientDetails({ commit }, payload) {\n        console.log(payload)\n        if (payload.patient_name) {\n            return getPatientInfo(payload)\n                .then((patientData) => {\n                    commit('SET_SELECTED_PATIENT_DETAILS', patientData);\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n        }\n    },\n\n    setTimelineData({ commit }, timelineData) {\n        return commit('SET_TIMELINE_DATA', timelineData);\n    },\n\n};", "export default {\n    getPatients: (state) => state.patients,\n    getPatient: (state) => (patientName) =>\n        state.patients.find((patient) => patient.name == patientName),\n    getSelectedPatient: (state) => state.selectedPatient,\n    getSelectedPatientDetails: (state) => state.selectedPatientDetails || {},\n    getTimelineData: (state) => state.timelineData,\n};", "import state from './modulePatientState.js'\nimport mutations from './modulePatientMutations.js'\nimport actions from './modulePatientActions.js'\nimport getters from './modulePatientGetters.js'\n\nexport default {\n    namespaced: true,\n    state: state,\n    mutations: mutations,\n    actions: actions,\n    getters: getters\n}", "export default {\n    procedureTemplates: [],\n    scheduledProcedures: [],\n    unScheduledProcedures: [],\n    procedureStatistics: [],\n    queryParams: {},\n    pagination:{\n        per_page: 12,\n        current_page: 1,\n        page_count: 12\n    }\n}", "// procedureTemplates: [],\n//     scheduledProcedures: [],\n//     unScheduledProcedures: [],\nexport default {\n    SET_PROCEDURE_TEMPLATES(state, templates){\n        state.procedureTemplates = templates\n    },\n    SET_UNSCHEDULED_PROCEDURES(state, unScheduledProcedures){\n        state.unScheduledProcedures = unScheduledProcedures\n    },\n    SET_SCHEDULED_PROCEDURES(state, scheduledTemplates){\n        state.scheduledProcedures = scheduledTemplates\n    },\n    SET_QUERY_PARAMS(state, query){\n        state.queryParams = {...state.queryParams, ...query}\n    },\n    SET_PAGINATION_META(state, pagination){\n        state.pagination = pagination\n    },\n    SET_PROCEDURE_STATISTICS(state, procedureStatistics){\n        state.procedureStatistics = procedureStatistics\n    }\n};", "export const api = ({ method, args = {}, freeze = true, }) =>\n    new Promise((resolve, reject) =>\n        frappe.call({ method, args, freeze, callback: ({ message }) => resolve(message), error: reject }),\n    );\n\n\nexport const getScheduledOrUnscheduledprocedures = (args) => {\n    return api({\n        method: 'clinical.api.clinical_procedure.clinical_procedure.get_clinical_procedures_per_service_unit',\n        args\n    })\n}\n\nexport const getClinicalProcedureTemplates = (args) => {\n    return api({\n        method: 'clinical.api.clinical_procedure.clinical_procedure.get_clinical_procedure_templates_per_service_unit',\n        args\n    })\n}\n\nexport const scheduleProcedure = (args) => {\n    return api({\n        method: 'clinical.api.clinical_procedure.clinical_procedure.schedule_procedure',\n        args\n    })\n}\n\nexport const getProcedureStatistics = (args) => {\n    return api({\n        method: 'clinical.api.clinical_procedure.clinical_procedure.get_procedure_statistics',\n        args\n    })\n}\n\nexport const getClinicalProcedure = (procedure, args) => {\n    return api({\n        method: 'clinical.api.clinical_procedure.clinical_procedure.get_procedure',\n        freeze: false,\n        args: {\n            procedure_name: procedure,\n        }\n    })\n}\nexport const getPatientNameAndCustomerNumber = (patient) => {\n    return api({\n        method: 'clinical.api.clinical_procedure.clinical_procedure.get_patient_name_and_number',\n        freeze: false,\n        args: {\n            patient: patient\n        }\n    })\n}", "\nimport { getScheduledOrUnscheduledprocedures, getClinicalProcedureTemplates, getProcedureStatistics } from './../../services/clinical_procedures/clinical_procedures'\n\nexport default {\n    fetchProcedures({commit}, query){\n        return getScheduledOrUnscheduledprocedures(query)\n        .then(({ scheduled_procedures, un_scheduled_procedures, pagination }) => {\n            commit('SET_UNSCHEDULED_PROCEDURES', un_scheduled_procedures);\n            commit('SET_SCHEDULED_PROCEDURES', scheduled_procedures);\n            commit('SET_PAGINATION_META', pagination);\n        })\n    },\n    fetchProcedureTemplates({ commit }, args){\n        return getClinicalProcedureTemplates(args).then((templates) => {\n            commit('SET_PROCEDURE_TEMPLATES', templates);\n        })\n    },\n    setQueryParams({commit }, payload) {\n        return commit('SET_QUERY_PARAMS', payload);\n    },\n    fetchProcedureStatistics({ commit }, args) {\n        return getProcedureStatistics(args)\n        .then((procedures) => {\n            commit('SET_PROCEDURE_STATISTICS', procedures)\n        })\n    }\n};", "export default {\n    getUnscheduledProcedures: (state) => state.unScheduledProcedures,\n    getScheduledProcedures: (state) => {\n        return state.scheduledProcedures\n    },\n    getProceduretemplates: (state) => state.procedureTemplates,\n    getQueryParams: (state) => state.queryParams,\n    getPaginationMeta: (state) => state.pagination,\n    getProcedureStatistics: (state) => state.procedureStatistics\n};", "import state from './procedureState'\nimport mutations from './procedureMutations'\nimport actions from './procedureActions'\nimport getters from './procedureGetters'\n\nexport default {\n    namespaced: true,\n    state: state,\n    mutations: mutations,\n    actions: actions,\n    getters: getters\n}", "export default {\n    serviceUnits: [],\n    selectedServiceUnit: {},\n}", "export default {\n    SET_SERVICE_UNITS(state, serviceUnits) {\n        state.serviceUnits = serviceUnits;\n    },\n    SET_SELECTED_SERVICE_UNIT(state, selectedServiceUnit) {\n        state.selectedServiceUnit = selectedServiceUnit;\n    },\n}", "import { getMyServiceUnits } from \"./.././../services/patient_chart/api\";\nexport default {\n    setSelectedServiceUnit({ commit }, serviceUnit) {\n        commit(\"SET_SELECTED_SERVICE_UNIT\", serviceUnit);\n    },\n\n    fetchMyServiceUnits: ({ commit, state }, payload) => {\n        getMyServiceUnits()\n        .then((serviceUnits) => {\n            commit(\"SET_SERVICE_UNITS\", serviceUnits);\n            if (!state.selectedServiceUnit.name) {\n                if (serviceUnits.length) {\n                    commit(\"SET_SELECTED_SERVICE_UNIT\", serviceUnits[0]);\n                }\n            }\n        })\n    }\n};", "export default {\n    getServiceUnits: state => state.serviceUnits,\n    getSelectedServiceUnit: state => state.selectedServiceUnit,\n}", "import state from './moduleServiceUnitState.js'\nimport mutations from './moduleServiceUnitMutations.js'\nimport actions from './moduleServiceUnitActions.js'\nimport getters from './moduleServiceUnitGetters.js'\n\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n    getters\n}", "export default {\n    servicePoints: [],\n    selectedServicePoint: {},\n    myLocation: \"\",\n}", "export default {\n    SET_SERVICE_POINTS(state, servicePoints) {\n        state.servicePoints = servicePoints;\n    },\n    SET_SELECTED_SERVICE_POINT(state, selectedServicePoint) {\n        state.selectedServicePoint = selectedServicePoint;\n    },\n    SET_MY_LOCATION(state, selectedLocation) {\n        state.myLocation = selectedLocation;\n    },\n}", "import { getMyServicePoints } from \"../../services/patient_chart/api\";\nimport { getMyLocation } from \"../../services/patient_chart/api\";\nexport default {\n    setSelectedServicePoint({ commit }, servicePoint) {\n        commit(\"SET_SELECTED_SERVICE_POINT\", servicePoint);\n    },\n    setMyLocation({ commit }, location) {\n        commit(\"SET_MY_LOCATION\", location);\n    },\n    fetchMyLocation: ({ commit, state }) => {\n        getMyLocation().then((location) => {\n            commit(\"SET_MY_LOCATION\", location);\n        })\n    },\n    fetchMyServicePoints: ({ commit, state }, payload) => {\n        getMyServicePoints(payload.service_unit)\n            .then((servicePoints) => {\n                commit(\"SET_SERVICE_POINTS\", servicePoints);\n                if (servicePoints.length) {\n                    commit(\"SET_SELECTED_SERVICE_POINT\", servicePoints[0]);\n                }\n            })\n    }\n};", "export default {\n    getServicePoints: state => state.servicePoints,\n    getSelectedServicePoint: state => state.selectedServicePoint,\n    getMyLocation: state => state.myLocation\n}", "import state from './moduleServicePointState.js'\nimport mutations from './moduleServicePointMutations.js'\nimport actions from './moduleServicePointActions.js'\nimport getters from './moduleServicePointGetters.js'\n\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n    getters\n}", "export default {\n    suppliers: [],\n    supplierSearchQuery: '',\n    supplierFilter: null,\n    selectedsupplierDetails: {},\n    selectedsupplier: {}\n\n}", "export default {\n\n    SET_SUPPLIERS(state, suppliers) {\n        state.suppliers = suppliers;\n    },\n    ADD_SUPPLIER(state, supplier) {\n        state.suppliers.unshift(supplier);\n    },\n    UPDATE_SUPPLIER(state, supplier) {\n        const supplierIndex = state.suppliers.findIndex((t) => t.id == supplier.id);\n        Object.assign(state.suppliers[supplierIndex], supplier);\n    },\n    SET_SELECTED_SUPPLIER(state, supplier) {\n        state.selectedSupplier = supplier;\n    },\n    SET_SELECTED_SUPPLIER_DETAILS(state, supplierDetails) {\n        state.selectedSupplierDetails = supplierDetails;\n    },\n\n};", "// import { getSuppliersPerServiceUnit, transferSupplier as transferSupplierApi } from './.././../services/patient_chart/api';\n// import { getSupplierInfo } from '../.././services/patient/patient.js'\n\nexport default {\n\n    fetchSuppliers({ commit }, payload) {\n        // return getSuppliersPerServiceUnit(payload)\n        //     .then((patients) => {\n        //         const inpatient_outpatient = [...patients.inpatients, ...patients.outpatients];\n        //         console.log('FETCH SUCCESS', inpatient_outpatient);\n\n        //         commit('SET_SUPPLIERS', inpatient_outpatient);\n        //     })\n        //     .catch((error) => {\n        //         console.log(error);\n        //     });\n    },\n\n\n\n    fetchSelectedSupplierDetails({ commit }, payload) {\n        console.log(payload)\n            // return getSupplierInfo(payload)\n            //     .then((patientData) => {\n            //         commit('SET_SELECTED_SUPPLIER_DETAILS', patientData);\n            //     })\n            //     .catch((error) => {\n            //         console.log(error);\n            //     });\n    },\n\n\n\n};", "export default {\n    getSuppliers: (state) => state.suppliers,\n    getSupplier: (state) => (supplierName) =>\n        state.suppliers.find((supplier) => supplier.name == supplierName),\n    getSelectedSupplier: (state) => state.selectedSupplier,\n    getSelectedSupplierDetails: (state) => state.selectedSupplierDetails || {},\n    getTimelineData: (state) => state.timelineData,\n};", "import state from './moduleSupplierState.js'\nimport mutations from './moduleSupplierMutations.js'\nimport actions from './moduleSupplierActions.js'\nimport getters from './moduleSupplierGetters.js'\n\nexport default {\n    namespaced: true,\n    state: state,\n    mutations: mutations,\n    actions: actions,\n    getters: getters\n}", "const getUserInfo = () => {\n    let userInfo = {};\n\n    return userInfo;\n};\n\nconst state = {\n    AppActiveUser: getUserInfo(),\n    tableData: []\n};\n\nexport default state;", "const getters = {\n    getUser: (state) => {\n        return state.AppActiveUser;\n    },\n    getTableData: (state) => {\n        return state.AppActiveUser;\n    },\n};\n\nexport default getters;", "const mutations = {\n    UPDATE_USER_INFO(state, payload) {\n        state.AppActiveUser = payload;\n    },\n    UPDATE_TABLE_DATA(state, payload) {\n        state.tableData = payload;\n    },\n}\n\nexport default mutations", "const actions = {\n    updateUserInfo({ commit }, payload) {\n        commit(\"UPDATE_USER_INFO\", payload);\n    },\n    updateTable({ commit }, payload) {\n        commit(\"UPDATE_TABLE_DATA\", payload);\n    },\n};\n\nexport default actions;", "import state from \"./state\";\nimport getters from \"./getters\";\nimport mutations from \"./mutations\";\nimport actions from \"./actions\"\n\nexport default {\n    namespaced: true,\n    state: state,\n    mutations: mutations,\n    actions: actions,\n    getters: getters\n}", "export default {\n    patient: {},\n    accountSummary: undefined,\n    salesOrderTotal: 0,\n    invoiceFInalization: []\n};", "export default {\n    SET_PATIENT(state, pat) {\n        state.patient = pat;\n    },\n    SET_PATIENT_ACCOUNT_SUMMARY(state, summary) {\n        state.accountSummary = summary;\n    },\n    SET_PATIENT_SALES_ORDER_TOTALS(state, total) {\n        state.salesOrderTotal = total;\n    },\n    SET_INVOICE_FINALIZATION(state, finalizations) {\n        state.invoiceFInalization = finalizations;\n    }\n};", "import {\n    getPatient,\n    getInvoiceFinalizations\n} from '../../services/accounts/patient.js'\n\nimport {\n    getAccountsDashboard,\n    getUnbilledSalesOrderTotals,\n    //getInvoiceFinalizations,\n    emailInvoiceFinalizations,\n    prepareAllocationFieldList,\n    getSalesInvoiceItems,\n    splitInvoice,\n    getFinalizedInvoiceItems,\n    createGatePass,\n    getFinalizedInvoiceAllocations\n} from \"../../services/patient_chart/accounts.js\";\n\nexport default {\n    fetchPatient({ commit }, patientName) {\n        getPatient({ patient_name: patientName }).then(result => {\n            if (result) {\n                commit('SET_PATIENT', result);\n            }\n        });\n    },\n\n    fetchPatientAccountSummary({ commit }, patientName) {\n        getAccountsDashboard({ patient_number: patientName }).then(result => {\n            if (result) {\n                commit('SET_PATIENT_ACCOUNT_SUMMARY', result);\n            }\n        });\n    },\n    fetchUnbilledSalesOrderTotals({ commit }, patientName) {\n        getUnbilledSalesOrderTotals({ patient_number: patientName }).then(result => {\n            if (result) {\n                commit('SET_PATIENT_SALES_ORDER_TOTALS', result);\n            }\n        });\n    },\n    fetchInvoiceFinalizations({ commit }, customerName) {\n        getInvoiceFinalizations({ customer_number: customerName }).then(result => {\n            if (result) {\n                alert('honna')\n                console.log(JSON.stringify(result))\n                commit('SET_INVOICE_FINALIZATION', result);\n            }\n        });\n    },\n};", "export default {\n    patient: state => state.patient,\n    accountSummary: state => state.accountSummary,\n    salesOrderTotal: state => state.salesOrderTotal,\n    invoiceFInalization: state => state.invoiceFInalization\n};", "import state from \"./state\";\nimport mutations from \"./mutations\";\nimport actions from \"./actions\";\nimport getters from \"./getters\";\n\nexport default {\n    // isRegistered: false,\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n    getters\n};", "export default {\n    context: {},\n};", "export default {\n    SET_CONTEXT(state, context) {\n        state.context = context;\n    },\n    SET_CONTEXT_ITEM(state, contextItem) {\n        state.context[contextItem.key] = contextItem.value;\n    },\n\n};", "export default {\n    setContextItem({ commit }, payload) {\n        commit(\"SET_CONTEXT_ITEM\", payload);\n    },\n};", "export default {\n    getContext: (state) => {\n        return state.context;\n    },\n    getContextItem: (state) => (key) => {\n        return state.context[key]\n      }\n    \n  \n};", "import state from \"./state.js\";\nimport mutations from \"./mutations.js\";\nimport actions from \"./actions.js\";\nimport getters from \"./getters.js\";\n\nexport default {\n    // isRegistered: false,\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n    getters\n};", "const state = {\n    encounter: {},\n};\n\nexport default state;", "const getters = {\n    getEncounter: (state) => {\n        return state.encounter;\n    },\n\n};\n\nexport default getters;", "const mutations = {\n    SET_ENCOUNTER(state, payload) {\n        state.encounter = payload;\n    },\n}\n\nexport default mutations", "const actions = {\n    setEncounter({ commit }, payload) {\n        commit(\"SET_ENCOUNTER\", payload);\n    },\n};\n\nexport default actions;", "import state from \"./state\";\nimport getters from \"./getters\";\nimport mutations from \"./mutations\";\nimport actions from \"./actions\"\n\nexport default {\n    namespaced: true,\n    state: state,\n    mutations: mutations,\n    actions: actions,\n    getters: getters\n}", "const state = {\n    appointments_count: null,\n};\n\nexport default state;", "const getters = {\n    getAppointmentsCount: (state) => {\n        return state.appointments_count;\n    },\n\n};\n\nexport default getters;", "const mutations = {\n    SET_APPOINTMENTS_COUNT(state, payload) {\n        state.appointments_count = payload;\n    },\n}\n\nexport default mutations", "const actions = {\n    setAppointmentsCount({ commit }, payload) {\n        commit(\"SET_APPOINTMENTS_COUNT\", payload);\n    },\n};\n\nexport default actions;", "import state from \"./state\";\nimport getters from \"./getters\";\nimport mutations from \"./mutations\";\nimport actions from \"./actions\"\n\nexport default {\n    namespaced: true,\n    state: state,\n    mutations: mutations,\n    actions: actions,\n    getters: getters\n}", "window.process = {\n    env: {\n        NODE_ENV: \"production\",\n    },\n};\nimport Vuex from \"vuex\";\nimport state from \"./state\";\nimport getters from \"./getters\";\nimport mutations from \"./mutations\";\nimport actions from \"./actions\";\n\nVue.use(Vuex);\n\nimport patient from \"./patient/modulePatient.js\";\nimport procedures from \"./clinical_procedures/procedures\";\nimport serviceUnit from \"./serviceUnit/moduleServiceUnit.js\";\nimport servicePoint from \"./servicePoint/moduleServicePoint.js\";\nimport socket from \"./socket/moduleSocket.js\";\nimport notification from \"./notification/moduleNotification.js\";\nimport supplier from \"./supplier/moduleSupplier.js\";\nimport render from \"./render/module.js\";\nimport accounts from \"./accounts\";\nimport context from \"./context/index.js\";\nimport encounter from \"./patient-encounter/module.js\";\nimport appointments from \"./patient_appointments/module.js\"\nexport default new Vuex.Store({\n    getters,\n    mutations,\n    state,\n    actions,\n    modules: {\n        patient,\n        serviceUnit,\n        servicePoint,\n        socket,\n        supplier,\n        render,\n        notification,\n        accounts,\n        procedures,\n        context,\n        encounter,\n        appointments,\n    },\n});", "// frappe.require(\"assets/frappe/js/frappe/socketio_client.js\");\nimport Main from './components/core/Main.vue';\n// import 'bootstrap/dist/css/bootstrap.css'\n// import 'bootstrap-vue/dist/bootstrap-vue.css'\nimport store from \"../state/store.js\";\n\n// import './socket_client'\n\nfrappe.provide('frappe.pharmacy'); // create a namespace within the Frappe instance\nfrappe.pharmacy.ExportTool = class { // create a glue class, wich will manage your Vue instance\n    constructor({ parent }) {\n        this.$parent = $(parent);\n        this.page = parent.page;\n        // this.setup_header();\n        this.make_body();\n        // realtime_listeners();\n    }\n    make_body() {\n        $('.sticky-top').addClass(\"hidden\");\n        this.$body = this.$parent.find('.layout-main-section');\n        this.$parent.find('.page-head').addClass('hidden');\n        this.$parent.find('.page-body').removeClass('container');\n        this.$parent.find('.content').removeClass('page-container');\n        this.$parent.find('.page-content').removeClass('page-content');\n        this.$parent.find('layout-main-section-wrapper').addClass('no-bottom-margin');\n        this.$page_container = $('<div class=\"hub-page-container\">').appendTo(this.$body);\n\n        new Vue({\n            store,\n            el: '.hub-page-container',\n            render: h => h(Main)\n        });\n    }\n    setup_header() {\n        //\n    }\n\n};"],
  "mappings": "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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuimB,OAAO;AAAA;AAIhp1B,MAAM,oBAAmB;AAEzB,MAAM,6BAA4B;AAElC,MAAM,kCAAiC;AAEvC,8BACE,UAAU,OAAO,QACjB,OAAO,YAAY,kBAAkB,YACrC,gBAAgB,mBAAmB,sBACnC;AACA,UAAM,YAAa,QAAO,WAAW,aAAa,OAAO,UAAU,WAAW;AAG9E,cAAU,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA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A;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoktC,OAAO;AAAA;AAI34uC,MAAM,oBAAmB;AAEzB,MAAM,6BAA4B;AAElC,MAAM,kCAAiC;AAEvC,8BACE,UAAU,OAAO,QACjB,OAAO,YAAY,kBAAkB,YACrC,gBAAgB,mBAAmB,sBACnC;AACA,UAAM,YAAa,QAAO,WAAW,aAAa,OAAO,UAAU,WAAW;AAG9E,cAAU,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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AA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA8yf,OAAO,UACt6hB,OAAO,qBAAqB,CAAE,QAAQ,wRAAwR,KAAK,CAAC,WAAU,GAAE,WAAU,CAAC,kBAAiB,SAAQ,IAAG,YAAW,sGAAqG,QAAO,iBAAgB,kBAAiB,CAAC,uOAAuO,OAAO;AAAA;AAI7vB,MAAM,qBAAmB;AAEzB,MAAM,8BAA4B;AAElC,MAAM,mCAAiC;AAEvC,+BACE,UAAU,OAAO,QACjB,OAAO,YAAY,kBAAkB,YACrC,gBAAgB,mBAAmB,sBACnC;AACA,UAAM,YAAa,QAAO,WAAW,aAAa,OAAO,UAAU,WAAW;AAG9E,cAAU,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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A;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAkgqB,OAAO;AAAA;AAI56qB,MAAM,qBAAmB;AAEzB,MAAM,8BAA4B;AAElC,MAAM,mCAAiC;AAEvC,+BACE,UAAU,OAAO,QACjB,OAAO,YAAY,kBAAkB,YACrC,gBAAgB,mBAAmB,sBACnC;AACA,UAAM,YAAa,QAAO,WAAW,aAAa,OAAO,UAAU,WAAW;AAG9E,cAAU,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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A;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAm/vB,OAAO;AAAA;AAIh3xB,MAAM,qBAAmB;AAEzB,MAAM,8BAA4B;AAElC,MAAM,mCAAiC;AAEvC,+BACE,UAAU,OAAO,QACjB,OAAO,YAAY,kBAAkB,YACrC,gBAAgB,mBAAmB,sBACnC;AACA,UAAM,YAAa,QAAO,WAAW,aAAa,OAAO,UAAU,WAAW;AAG9E,cAAU,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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",
  "names": []
}
