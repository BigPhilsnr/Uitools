{
  "version": 3,
  "sources": ["../../../../../apps/frontend/frontend/public/js/upload/file_uploader/ProgressRing.vue", "../../../../../apps/frontend/frontend/public/js/upload/file_uploader/FilePreview.vue", "../../../../../apps/frontend/frontend/public/js/upload/file_uploader/TreeNode.vue", "../../../../../apps/frontend/frontend/public/js/upload/file_uploader/FileBrowser.vue", "../../../../../apps/frontend/frontend/public/js/upload/file_uploader/WebLink.vue", "../../../../../apps/frontend/frontend/public/js/upload/file_uploader/FileUploader.vue", "../../../../../apps/frontend/frontend/public/js/upload/file_uploader/index.js", "../../../../../apps/frontend/frontend/public/js/upload/upload.bundle.js"],
  "sourcesContent": ["/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n\tname: \"ProgressRing\",\n\tprops: {\n\t\tprimary: String,\n\t\tsecondary: String,\n\t\tradius: Number,\n\t\tprogress: Number,\n\t\tstroke: Number\n\t},\n\tdata() {\n\t\tconst normalizedRadius = this.radius - this.stroke * 2;\n\t\tconst circumference = normalizedRadius * 2 * Math.PI;\n\n\t\treturn {\n\t\t\tnormalizedRadius,\n\t\t\tcircumference\n\t\t};\n\t},\n\tcomputed: {\n\t\tstrokeDashoffset() {\n\t\t\treturn (\n\t\t\t\tthis.circumference - (this.progress / 100) * this.circumference\n\t\t\t);\n\t\t}\n\t}\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"svg\",\n    { attrs: { height: _vm.radius * 2, width: _vm.radius * 2 } },\n    [\n      _c(\"circle\", {\n        style: {\n          stroke: _vm.secondary,\n          strokeDashoffset: 0\n        },\n        attrs: {\n          \"stroke-dasharray\": _vm.circumference + \" \" + _vm.circumference,\n          \"stroke-width\": _vm.stroke,\n          fill: \"transparent\",\n          r: _vm.normalizedRadius,\n          cx: _vm.radius,\n          cy: _vm.radius\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\"circle\", {\n        style: {\n          stroke: _vm.primary,\n          strokeDashoffset: _vm.strokeDashoffset\n        },\n        attrs: {\n          \"stroke-dasharray\": _vm.circumference + \" \" + _vm.circumference,\n          \"stroke-width\": _vm.stroke,\n          fill: \"transparent\",\n          r: _vm.normalizedRadius,\n          cx: _vm.radius,\n          cy: _vm.radius\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"text\",\n        {\n          style: {\n            color: \"var(--text-color)\",\n            fontSize: \"var(--text-xs)\",\n            fontWeight: \"var(--text-bold)\"\n          },\n          attrs: {\n            \"dominant-baseline\": \"middle\",\n            \"text-anchor\": \"middle\",\n            x: _vm.radius,\n            y: _vm.radius\n          }\n        },\n        [_vm._v(\"\\n\\t\\t\" + _vm._s(_vm.progress) + \"%\\n\\t\")]\n      )\n    ]\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-50978ca0_0\", { source: \"\\ncircle[data-v-50978ca0] {\\n\\ttransition: stroke-dashoffset 0.35s;\\n\\ttransform: rotate(-90deg);\\n\\ttransform-origin: 50% 50%;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/upload/file_uploader/ProgressRing.vue\"],\"names\":[],\"mappings\":\";AAsEA;CACA,mCAAA;CACA,yBAAA;CACA,yBAAA;AACA\",\"file\":\"ProgressRing.vue\",\"sourcesContent\":[\"<template>\\n\\t<svg :height=\\\"radius * 2\\\" :width=\\\"radius * 2\\\">\\n\\t\\t<circle\\n\\t\\t\\t:stroke-dasharray=\\\"circumference + ' ' + circumference\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tstroke: secondary,\\n\\t\\t\\t\\tstrokeDashoffset: 0\\n\\t\\t\\t}\\\"\\n\\t\\t\\t:stroke-width=\\\"stroke\\\"\\n\\t\\t\\tfill=\\\"transparent\\\"\\n\\t\\t\\t:r=\\\"normalizedRadius\\\"\\n\\t\\t\\t:cx=\\\"radius\\\"\\n\\t\\t\\t:cy=\\\"radius\\\"\\n\\t\\t/>\\n\\t\\t<circle\\n\\t\\t\\t:stroke-dasharray=\\\"circumference + ' ' + circumference\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tstroke: primary,\\n\\t\\t\\t\\tstrokeDashoffset: strokeDashoffset\\n\\t\\t\\t}\\\"\\n\\t\\t\\t:stroke-width=\\\"stroke\\\"\\n\\t\\t\\tfill=\\\"transparent\\\"\\n\\t\\t\\t:r=\\\"normalizedRadius\\\"\\n\\t\\t\\t:cx=\\\"radius\\\"\\n\\t\\t\\t:cy=\\\"radius\\\"\\n\\t\\t/>\\n\\t\\t<text\\n\\t\\t\\tdominant-baseline=\\\"middle\\\"\\n\\t\\t\\ttext-anchor=\\\"middle\\\"\\n\\t\\t\\t:x=\\\"radius\\\"\\n\\t\\t\\t:y=\\\"radius\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tcolor: 'var(--text-color)',\\n\\t\\t\\t\\tfontSize: 'var(--text-xs)',\\n\\t\\t\\t\\tfontWeight: 'var(--text-bold)'\\n\\t\\t\\t}\\\"\\n\\t\\t>\\n\\t\\t\\t{{ progress }}%\\n\\t\\t</text>\\n\\t</svg>\\n</template>\\n<script>\\nexport default {\\n\\tname: \\\"ProgressRing\\\",\\n\\tprops: {\\n\\t\\tprimary: String,\\n\\t\\tsecondary: String,\\n\\t\\tradius: Number,\\n\\t\\tprogress: Number,\\n\\t\\tstroke: Number\\n\\t},\\n\\tdata() {\\n\\t\\tconst normalizedRadius = this.radius - this.stroke * 2;\\n\\t\\tconst circumference = normalizedRadius * 2 * Math.PI;\\n\\n\\t\\treturn {\\n\\t\\t\\tnormalizedRadius,\\n\\t\\t\\tcircumference\\n\\t\\t};\\n\\t},\\n\\tcomputed: {\\n\\t\\tstrokeDashoffset() {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\tthis.circumference - (this.progress / 100) * this.circumference\\n\\t\\t\\t);\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n<style scoped>\\ncircle {\\n\\ttransition: stroke-dashoffset 0.35s;\\n\\ttransform: rotate(-90deg);\\n\\ttransform-origin: 50% 50%;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-50978ca0\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<svg :height=\\\"radius * 2\\\" :width=\\\"radius * 2\\\">\\n\\t\\t<circle\\n\\t\\t\\t:stroke-dasharray=\\\"circumference + ' ' + circumference\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tstroke: secondary,\\n\\t\\t\\t\\tstrokeDashoffset: 0\\n\\t\\t\\t}\\\"\\n\\t\\t\\t:stroke-width=\\\"stroke\\\"\\n\\t\\t\\tfill=\\\"transparent\\\"\\n\\t\\t\\t:r=\\\"normalizedRadius\\\"\\n\\t\\t\\t:cx=\\\"radius\\\"\\n\\t\\t\\t:cy=\\\"radius\\\"\\n\\t\\t/>\\n\\t\\t<circle\\n\\t\\t\\t:stroke-dasharray=\\\"circumference + ' ' + circumference\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tstroke: primary,\\n\\t\\t\\t\\tstrokeDashoffset: strokeDashoffset\\n\\t\\t\\t}\\\"\\n\\t\\t\\t:stroke-width=\\\"stroke\\\"\\n\\t\\t\\tfill=\\\"transparent\\\"\\n\\t\\t\\t:r=\\\"normalizedRadius\\\"\\n\\t\\t\\t:cx=\\\"radius\\\"\\n\\t\\t\\t:cy=\\\"radius\\\"\\n\\t\\t/>\\n\\t\\t<text\\n\\t\\t\\tdominant-baseline=\\\"middle\\\"\\n\\t\\t\\ttext-anchor=\\\"middle\\\"\\n\\t\\t\\t:x=\\\"radius\\\"\\n\\t\\t\\t:y=\\\"radius\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tcolor: 'var(--text-color)',\\n\\t\\t\\t\\tfontSize: 'var(--text-xs)',\\n\\t\\t\\t\\tfontWeight: 'var(--text-bold)'\\n\\t\\t\\t}\\\"\\n\\t\\t>\\n\\t\\t\\t{{ progress }}%\\n\\t\\t</text>\\n\\t</svg>\\n</template>\\n<script>\\nexport default {\\n\\tname: \\\"ProgressRing\\\",\\n\\tprops: {\\n\\t\\tprimary: String,\\n\\t\\tsecondary: String,\\n\\t\\tradius: Number,\\n\\t\\tprogress: Number,\\n\\t\\tstroke: Number\\n\\t},\\n\\tdata() {\\n\\t\\tconst normalizedRadius = this.radius - this.stroke * 2;\\n\\t\\tconst circumference = normalizedRadius * 2 * Math.PI;\\n\\n\\t\\treturn {\\n\\t\\t\\tnormalizedRadius,\\n\\t\\t\\tcircumference\\n\\t\\t};\\n\\t},\\n\\tcomputed: {\\n\\t\\tstrokeDashoffset() {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\tthis.circumference - (this.progress / 100) * this.circumference\\n\\t\\t\\t);\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n<style scoped>\\ncircle {\\n\\ttransition: stroke-dashoffset 0.35s;\\n\\ttransform: rotate(-90deg);\\n\\ttransform-origin: 50% 50%;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ProgressRing from './ProgressRing.vue';\nconst __vue_script__ = {\n\tname: 'FilePreview',\n\tprops: ['file'],\n\tcomponents: {\n\t\tProgressRing\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsrc: null\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.is_image) {\n\t\t\tif (window.FileReader) {\n\t\t\t\tlet fr = new FileReader();\n\t\t\t\tfr.onload = () => this.src = fr.result;\n\t\t\t\tfr.readAsDataURL(this.file.file_obj);\n\t\t\t}\n\t\t}\n\t},\n\tfilters: {\n\t\tfile_size(value) {\n\t\t\treturn frappe.form.formatters.FileSize(value);\n\t\t},\n\t\tfile_name(value) {\n\t\t\treturn value;\n\t\t\t// return frappe.utils.file_name_ellipsis(value, 9);\n\t\t}\n\t},\n\tcomputed: {\n\t\tprivate_icon() {\n\t\t\treturn frappe.utils.icon(this.is_private ? 'lock' : 'unlock');\n\t\t},\n\t\tis_private() {\n\t\t\treturn this.file.doc ? this.file.doc.is_private : this.file.private;\n\t\t},\n\t\tuploaded() {\n\t\t\treturn this.file.total && this.file.total === this.file.progress && !this.file.failed;\n\t\t},\n\t\tis_image() {\n\t\t\treturn this.file.file_obj.type.startsWith('image');\n\t\t},\n\t\tprogress() {\n\t\t\tlet value = Math.round((this.file.progress * 100) / this.file.total);\n\t\t\tif (isNaN(value)) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"file-preview\" }, [\n    _c(\"div\", { staticClass: \"file-icon\" }, [\n      _vm.is_image\n        ? _c(\"img\", { attrs: { src: _vm.src, alt: _vm.file.name } })\n        : _c(\"div\", {\n            staticClass: \"fallback\",\n            domProps: { innerHTML: _vm._s(_vm.frappe.utils.icon(\"file\", \"md\")) }\n          })\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", [\n      _c(\"div\", [\n        _vm.file.doc\n          ? _c(\n              \"a\",\n              {\n                staticClass: \"flex\",\n                attrs: { href: _vm.file.doc.file_url, target: \"_blank\" }\n              },\n              [\n                _c(\"span\", { staticClass: \"file-name\" }, [\n                  _vm._v(_vm._s(_vm._f(\"file_name\")(_vm.file.name)))\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", {\n                  staticClass: \"ml-2\",\n                  domProps: { innerHTML: _vm._s(_vm.private_icon) }\n                })\n              ]\n            )\n          : _c(\"span\", { staticClass: \"flex\" }, [\n              _c(\"span\", { staticClass: \"file-name\" }, [\n                _vm._v(_vm._s(_vm._f(\"file_name\")(_vm.file.name)))\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"ml-2 btn-reset\",\n                  attrs: { title: _vm.__(\"Toggle Public/Private\") },\n                  on: {\n                    click: function($event) {\n                      return _vm.$emit(\"toggle_private\")\n                    }\n                  }\n                },\n                [\n                  _c(\"div\", {\n                    domProps: { innerHTML: _vm._s(_vm.private_icon) }\n                  })\n                ]\n              )\n            ])\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", [\n        _c(\"span\", { staticClass: \"file-size\" }, [\n          _vm._v(\n            \"\\n\\t\\t\\t\\t\" +\n              _vm._s(_vm._f(\"file_size\")(_vm.file.file_obj.size)) +\n              \"\\n\\t\\t\\t\"\n          )\n        ])\n      ])\n    ]),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      { staticClass: \"file-actions\" },\n      [\n        _c(\"ProgressRing\", {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.file.uploading && !_vm.uploaded,\n              expression: \"file.uploading && !uploaded\"\n            }\n          ],\n          attrs: {\n            primary: \"var(--primary-color)\",\n            secondary: \"var(--gray-200)\",\n            radius: \"24\",\n            progress: _vm.progress,\n            stroke: \"3\"\n          }\n        }),\n        _vm._v(\" \"),\n        _vm.uploaded\n          ? _c(\"div\", {\n              domProps: {\n                innerHTML: _vm._s(_vm.frappe.utils.icon(\"solid-success\", \"lg\"))\n              }\n            })\n          : _vm._e(),\n        _vm._v(\" \"),\n        _vm.file.failed\n          ? _c(\"div\", {\n              domProps: {\n                innerHTML: _vm._s(_vm.frappe.utils.icon(\"solid-red\", \"lg\"))\n              }\n            })\n          : _vm._e(),\n        _vm._v(\" \"),\n        !_vm.uploaded && !_vm.file.uploading\n          ? _c(\"button\", {\n              staticClass: \"btn\",\n              domProps: {\n                innerHTML: _vm._s(_vm.frappe.utils.icon(\"delete\", \"md\"))\n              },\n              on: {\n                click: function($event) {\n                  return _vm.$emit(\"remove\")\n                }\n              }\n            })\n          : _vm._e()\n      ],\n      1\n    )\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-513faa5a_0\", { source: \"\\n.file-preview {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding: 0.75rem;\\n\\tborder: 1px solid transparent;\\n}\\n.file-preview + .file-preview {\\n\\tborder-top-color: var(--border-color);\\n}\\n.file-preview:hover {\\n\\tbackground-color: var(--bg-color);\\n\\tborder-color: var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n.file-preview:hover + .file-preview {\\n\\tborder-top-color: transparent;\\n}\\n.file-icon {\\n\\tborder-radius: var(--border-radius);\\n\\twidth: 2.625rem;\\n\\theight: 2.625rem;\\n\\toverflow: hidden;\\n\\tmargin-right: var(--margin-md);\\n\\tflex-shrink: 0;\\n}\\n.file-icon img {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tobject-fit: cover;\\n}\\n.file-icon .fallback {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px solid var(--border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n.file-name {\\n\\tfont-size: var(--text-base);\\n\\tfont-weight: var(--text-bold);\\n\\tcolor: var(--text-color);\\n\\tdisplay: -webkit-box;\\n\\t-webkit-line-clamp: 1;\\n\\t-webkit-box-orient: vertical;\\n\\toverflow: hidden;\\n}\\n.file-size {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n}\\n.file-actions {\\n\\twidth: 3rem;\\n\\tflex-shrink: 0;\\n\\tmargin-left: auto;\\n\\ttext-align: center;\\n}\\n.file-actions .btn {\\n\\tpadding: var(--padding-xs);\\n\\tbox-shadow: none;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/upload/file_uploader/FilePreview.vue\"],\"names\":[],\"mappings\":\";AAuGA;CACA,aAAA;CACA,mBAAA;CACA,gBAAA;CACA,6BAAA;AACA;AAEA;CACA,qCAAA;AACA;AAEA;CACA,iCAAA;CACA,sCAAA;CACA,mCAAA;AACA;AAEA;CACA,6BAAA;AACA;AAEA;CACA,mCAAA;CACA,eAAA;CACA,gBAAA;CACA,gBAAA;CACA,8BAAA;CACA,cAAA;AACA;AAEA;CACA,WAAA;CACA,YAAA;CACA,iBAAA;AACA;AAEA;CACA,WAAA;CACA,YAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;CACA,qCAAA;CACA,mCAAA;AACA;AAEA;CACA,2BAAA;CACA,6BAAA;CACA,wBAAA;CACA,oBAAA;CACA,qBAAA;CACA,4BAAA;CACA,gBAAA;AACA;AAEA;CACA,yBAAA;CACA,wBAAA;AACA;AAEA;CACA,WAAA;CACA,cAAA;CACA,iBAAA;CACA,kBAAA;AACA;AAEA;CACA,0BAAA;CACA,gBAAA;AACA\",\"file\":\"FilePreview.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-preview\\\">\\n\\t\\t<div class=\\\"file-icon\\\">\\n\\t\\t\\t<img\\n\\t\\t\\t\\tv-if=\\\"is_image\\\"\\n\\t\\t\\t\\t:src=\\\"src\\\"\\n\\t\\t\\t\\t:alt=\\\"file.name\\\"\\n\\t\\t\\t>\\n\\t\\t\\t<div class=\\\"fallback\\\" v-else v-html=\\\"frappe.utils.icon('file', 'md')\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div>\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<a class=\\\"flex\\\" :href=\\\"file.doc.file_url\\\" v-if=\\\"file.doc\\\" target=\\\"_blank\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"file-name\\\">{{ file.name | file_name }}</span>\\n\\t\\t\\t\\t\\t<div class=\\\"ml-2\\\" v-html=\\\"private_icon\\\"></div>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<span class=\\\"flex\\\" v-else>\\n\\t\\t\\t\\t\\t<span class=\\\"file-name\\\">{{ file.name | file_name }}</span>\\n\\t\\t\\t\\t\\t<button class=\\\"ml-2 btn-reset\\\" @click=\\\"$emit('toggle_private')\\\" :title=\\\"__('Toggle Public/Private')\\\">\\n\\t\\t\\t\\t\\t\\t<div v-html=\\\"private_icon\\\"></div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<span class=\\\"file-size\\\">\\n\\t\\t\\t\\t\\t{{ file.file_obj.size | file_size }}\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-actions\\\">\\n\\t\\t\\t<ProgressRing\\n\\t\\t\\t\\tv-show=\\\"file.uploading && !uploaded\\\"\\n\\t\\t\\t\\tprimary=\\\"var(--primary-color)\\\"\\n\\t\\t\\t\\tsecondary=\\\"var(--gray-200)\\\"\\n\\t\\t\\t\\tradius=\\\"24\\\"\\n\\t\\t\\t\\t:progress=\\\"progress\\\"\\n\\t\\t\\t\\tstroke=\\\"3\\\"\\n\\t\\t\\t/>\\n\\t\\t\\t<div v-if=\\\"uploaded\\\" v-html=\\\"frappe.utils.icon('solid-success', 'lg')\\\"></div>\\n\\t\\t\\t<div v-if=\\\"file.failed\\\" v-html=\\\"frappe.utils.icon('solid-red', 'lg')\\\"></div>\\n\\t\\t\\t<button v-if=\\\"!uploaded && !file.uploading\\\" class=\\\"btn\\\" @click=\\\"$emit('remove')\\\" v-html=\\\"frappe.utils.icon('delete', 'md')\\\"></button>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport ProgressRing from './ProgressRing.vue';\\nexport default {\\n\\tname: 'FilePreview',\\n\\tprops: ['file'],\\n\\tcomponents: {\\n\\t\\tProgressRing\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tsrc: null\\n\\t\\t}\\n\\t},\\n\\tmounted() {\\n\\t\\tif (this.is_image) {\\n\\t\\t\\tif (window.FileReader) {\\n\\t\\t\\t\\tlet fr = new FileReader();\\n\\t\\t\\t\\tfr.onload = () => this.src = fr.result;\\n\\t\\t\\t\\tfr.readAsDataURL(this.file.file_obj);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tfilters: {\\n\\t\\tfile_size(value) {\\n\\t\\t\\treturn frappe.form.formatters.FileSize(value);\\n\\t\\t},\\n\\t\\tfile_name(value) {\\n\\t\\t\\treturn value;\\n\\t\\t\\t// return frappe.utils.file_name_ellipsis(value, 9);\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tprivate_icon() {\\n\\t\\t\\treturn frappe.utils.icon(this.is_private ? 'lock' : 'unlock');\\n\\t\\t},\\n\\t\\tis_private() {\\n\\t\\t\\treturn this.file.doc ? this.file.doc.is_private : this.file.private;\\n\\t\\t},\\n\\t\\tuploaded() {\\n\\t\\t\\treturn this.file.total && this.file.total === this.file.progress && !this.file.failed;\\n\\t\\t},\\n\\t\\tis_image() {\\n\\t\\t\\treturn this.file.file_obj.type.startsWith('image');\\n\\t\\t},\\n\\t\\tprogress() {\\n\\t\\t\\tlet value = Math.round((this.file.progress * 100) / this.file.total);\\n\\t\\t\\tif (isNaN(value)) {\\n\\t\\t\\t\\tvalue = 0;\\n\\t\\t\\t}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t}\\n}\\n</script>\\n\\n<style>\\n.file-preview {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding: 0.75rem;\\n\\tborder: 1px solid transparent;\\n}\\n\\n.file-preview + .file-preview {\\n\\tborder-top-color: var(--border-color);\\n}\\n\\n.file-preview:hover {\\n\\tbackground-color: var(--bg-color);\\n\\tborder-color: var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n\\n.file-preview:hover + .file-preview {\\n\\tborder-top-color: transparent;\\n}\\n\\n.file-icon {\\n\\tborder-radius: var(--border-radius);\\n\\twidth: 2.625rem;\\n\\theight: 2.625rem;\\n\\toverflow: hidden;\\n\\tmargin-right: var(--margin-md);\\n\\tflex-shrink: 0;\\n}\\n\\n.file-icon img {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tobject-fit: cover;\\n}\\n\\n.file-icon .fallback {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px solid var(--border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n\\n.file-name {\\n\\tfont-size: var(--text-base);\\n\\tfont-weight: var(--text-bold);\\n\\tcolor: var(--text-color);\\n\\tdisplay: -webkit-box;\\n\\t-webkit-line-clamp: 1;\\n\\t-webkit-box-orient: vertical;\\n\\toverflow: hidden;\\n}\\n\\n.file-size {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n}\\n\\n.file-actions {\\n\\twidth: 3rem;\\n\\tflex-shrink: 0;\\n\\tmargin-left: auto;\\n\\ttext-align: center;\\n}\\n\\n.file-actions .btn {\\n\\tpadding: var(--padding-xs);\\n\\tbox-shadow: none;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<div class=\\\"file-preview\\\">\\n\\t\\t<div class=\\\"file-icon\\\">\\n\\t\\t\\t<img\\n\\t\\t\\t\\tv-if=\\\"is_image\\\"\\n\\t\\t\\t\\t:src=\\\"src\\\"\\n\\t\\t\\t\\t:alt=\\\"file.name\\\"\\n\\t\\t\\t>\\n\\t\\t\\t<div class=\\\"fallback\\\" v-else v-html=\\\"frappe.utils.icon('file', 'md')\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div>\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<a class=\\\"flex\\\" :href=\\\"file.doc.file_url\\\" v-if=\\\"file.doc\\\" target=\\\"_blank\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"file-name\\\">{{ file.name | file_name }}</span>\\n\\t\\t\\t\\t\\t<div class=\\\"ml-2\\\" v-html=\\\"private_icon\\\"></div>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<span class=\\\"flex\\\" v-else>\\n\\t\\t\\t\\t\\t<span class=\\\"file-name\\\">{{ file.name | file_name }}</span>\\n\\t\\t\\t\\t\\t<button class=\\\"ml-2 btn-reset\\\" @click=\\\"$emit('toggle_private')\\\" :title=\\\"__('Toggle Public/Private')\\\">\\n\\t\\t\\t\\t\\t\\t<div v-html=\\\"private_icon\\\"></div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<span class=\\\"file-size\\\">\\n\\t\\t\\t\\t\\t{{ file.file_obj.size | file_size }}\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-actions\\\">\\n\\t\\t\\t<ProgressRing\\n\\t\\t\\t\\tv-show=\\\"file.uploading && !uploaded\\\"\\n\\t\\t\\t\\tprimary=\\\"var(--primary-color)\\\"\\n\\t\\t\\t\\tsecondary=\\\"var(--gray-200)\\\"\\n\\t\\t\\t\\tradius=\\\"24\\\"\\n\\t\\t\\t\\t:progress=\\\"progress\\\"\\n\\t\\t\\t\\tstroke=\\\"3\\\"\\n\\t\\t\\t/>\\n\\t\\t\\t<div v-if=\\\"uploaded\\\" v-html=\\\"frappe.utils.icon('solid-success', 'lg')\\\"></div>\\n\\t\\t\\t<div v-if=\\\"file.failed\\\" v-html=\\\"frappe.utils.icon('solid-red', 'lg')\\\"></div>\\n\\t\\t\\t<button v-if=\\\"!uploaded && !file.uploading\\\" class=\\\"btn\\\" @click=\\\"$emit('remove')\\\" v-html=\\\"frappe.utils.icon('delete', 'md')\\\"></button>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport ProgressRing from './ProgressRing.vue';\\nexport default {\\n\\tname: 'FilePreview',\\n\\tprops: ['file'],\\n\\tcomponents: {\\n\\t\\tProgressRing\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tsrc: null\\n\\t\\t}\\n\\t},\\n\\tmounted() {\\n\\t\\tif (this.is_image) {\\n\\t\\t\\tif (window.FileReader) {\\n\\t\\t\\t\\tlet fr = new FileReader();\\n\\t\\t\\t\\tfr.onload = () => this.src = fr.result;\\n\\t\\t\\t\\tfr.readAsDataURL(this.file.file_obj);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tfilters: {\\n\\t\\tfile_size(value) {\\n\\t\\t\\treturn frappe.form.formatters.FileSize(value);\\n\\t\\t},\\n\\t\\tfile_name(value) {\\n\\t\\t\\treturn value;\\n\\t\\t\\t// return frappe.utils.file_name_ellipsis(value, 9);\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tprivate_icon() {\\n\\t\\t\\treturn frappe.utils.icon(this.is_private ? 'lock' : 'unlock');\\n\\t\\t},\\n\\t\\tis_private() {\\n\\t\\t\\treturn this.file.doc ? this.file.doc.is_private : this.file.private;\\n\\t\\t},\\n\\t\\tuploaded() {\\n\\t\\t\\treturn this.file.total && this.file.total === this.file.progress && !this.file.failed;\\n\\t\\t},\\n\\t\\tis_image() {\\n\\t\\t\\treturn this.file.file_obj.type.startsWith('image');\\n\\t\\t},\\n\\t\\tprogress() {\\n\\t\\t\\tlet value = Math.round((this.file.progress * 100) / this.file.total);\\n\\t\\t\\tif (isNaN(value)) {\\n\\t\\t\\t\\tvalue = 0;\\n\\t\\t\\t}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t}\\n}\\n</script>\\n\\n<style>\\n.file-preview {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding: 0.75rem;\\n\\tborder: 1px solid transparent;\\n}\\n\\n.file-preview + .file-preview {\\n\\tborder-top-color: var(--border-color);\\n}\\n\\n.file-preview:hover {\\n\\tbackground-color: var(--bg-color);\\n\\tborder-color: var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n\\n.file-preview:hover + .file-preview {\\n\\tborder-top-color: transparent;\\n}\\n\\n.file-icon {\\n\\tborder-radius: var(--border-radius);\\n\\twidth: 2.625rem;\\n\\theight: 2.625rem;\\n\\toverflow: hidden;\\n\\tmargin-right: var(--margin-md);\\n\\tflex-shrink: 0;\\n}\\n\\n.file-icon img {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tobject-fit: cover;\\n}\\n\\n.file-icon .fallback {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px solid var(--border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n\\n.file-name {\\n\\tfont-size: var(--text-base);\\n\\tfont-weight: var(--text-bold);\\n\\tcolor: var(--text-color);\\n\\tdisplay: -webkit-box;\\n\\t-webkit-line-clamp: 1;\\n\\t-webkit-box-orient: vertical;\\n\\toverflow: hidden;\\n}\\n\\n.file-size {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n}\\n\\n.file-actions {\\n\\twidth: 3rem;\\n\\tflex-shrink: 0;\\n\\tmargin-left: auto;\\n\\ttext-align: center;\\n}\\n\\n.file-actions .btn {\\n\\tpadding: var(--padding-xs);\\n\\tbox-shadow: none;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n\tname: \"TreeNode\",\n\tprops: [\"node\", \"selected_node\"],\n\tcomponents: {\n\t\tTreeNode: () => frappe.ui.components.TreeNode\n\t},\n\tcomputed: {\n\t\ticon() {\n\t\t\tlet icons = {\n\t\t\t\topen: frappe.utils.icon(\"folder-open\", \"md\"),\n\t\t\t\tclosed: frappe.utils.icon(\"folder-normal\", \"md\"),\n\t\t\t\tleaf: frappe.utils.icon(\"primitive-dot\", \"xs\"),\n\t\t\t\tsearch: frappe.utils.icon(\"search\")\n\t\t\t};\n\n\t\t\tif (this.node.by_search) return icons.search;\n\t\t\tif (this.node.is_leaf) return icons.leaf;\n\t\t\tif (this.node.open) return icons.open;\n\t\t\treturn icons.closed;\n\t\t}\n\t}\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"tree-node\", class: { opened: _vm.node.open } },\n    [\n      _c(\n        \"span\",\n        {\n          staticClass: \"tree-link\",\n          class: { active: _vm.node.value === _vm.selected_node.value },\n          attrs: { disabled: _vm.node.fetching },\n          on: {\n            click: function($event) {\n              return _vm.$emit(\"node-click\", _vm.node)\n            }\n          }\n        },\n        [\n          _c(\"div\", { domProps: { innerHTML: _vm._s(_vm.icon) } }),\n          _vm._v(\" \"),\n          _c(\"a\", { staticClass: \"tree-label\" }, [\n            _vm._v(_vm._s(_vm.node.label))\n          ])\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"ul\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.node.open,\n              expression: \"node.open\"\n            }\n          ],\n          staticClass: \"tree-children\"\n        },\n        [\n          _vm._l(_vm.node.children, function(n) {\n            return _c(\"TreeNode\", {\n              key: n.value,\n              attrs: { node: n, selected_node: _vm.selected_node },\n              on: {\n                \"node-click\": function(n) {\n                  return _vm.$emit(\"node-click\", n)\n                },\n                \"load-more\": function(n) {\n                  return _vm.$emit(\"load-more\", n)\n                }\n              }\n            })\n          }),\n          _vm._v(\" \"),\n          _vm.node.has_more_children\n            ? _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-xs btn-load-more\",\n                  attrs: { disabled: _vm.node.children_loading },\n                  on: {\n                    click: function($event) {\n                      return _vm.$emit(\"load-more\", _vm.node)\n                    }\n                  }\n                },\n                [\n                  _vm._v(\n                    \"\\n\\t\\t\\t\" +\n                      _vm._s(\n                        _vm.node.children_loading\n                          ? _vm.__(\"Loading...\")\n                          : _vm.__(\"Load more\")\n                      ) +\n                      \"\\n\\t\\t\"\n                  )\n                ]\n              )\n            : _vm._e()\n        ],\n        2\n      )\n    ]\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-64b63016_0\", { source: \"\\n.btn-load-more[data-v-64b63016] {\\n\\tmargin-left: 1.6rem;\\n\\tmargin-top: 0.5rem;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/upload/file_uploader/TreeNode.vue\"],\"names\":[],\"mappings\":\";AAwDA;CACA,mBAAA;CACA,kBAAA;AACA\",\"file\":\"TreeNode.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"tree-node\\\" :class=\\\"{ opened: node.open }\\\">\\n\\t\\t<span\\n\\t\\t\\tclass=\\\"tree-link\\\"\\n\\t\\t\\t@click=\\\"$emit('node-click', node)\\\"\\n\\t\\t\\t:class=\\\"{ active: node.value === selected_node.value }\\\"\\n\\t\\t\\t:disabled=\\\"node.fetching\\\"\\n\\t\\t>\\n\\t\\t\\t<div v-html=\\\"icon\\\"></div>\\n\\t\\t\\t<a class=\\\"tree-label\\\">{{ node.label }}</a>\\n\\t\\t</span>\\n\\t\\t<ul class=\\\"tree-children\\\" v-show=\\\"node.open\\\">\\n\\t\\t\\t<TreeNode\\n\\t\\t\\t\\tv-for=\\\"n in node.children\\\"\\n\\t\\t\\t\\t:key=\\\"n.value\\\"\\n\\t\\t\\t\\t:node=\\\"n\\\"\\n\\t\\t\\t\\t:selected_node=\\\"selected_node\\\"\\n\\t\\t\\t\\t@node-click=\\\"n => $emit('node-click', n)\\\"\\n\\t\\t\\t\\t@load-more=\\\"n => $emit('load-more', n)\\\"\\n\\t\\t\\t/>\\n\\t\\t\\t<button\\n\\t\\t\\t\\tclass=\\\"btn btn-xs btn-load-more\\\"\\n\\t\\t\\t\\tv-if=\\\"node.has_more_children\\\"\\n\\t\\t\\t\\t@click=\\\"$emit('load-more', node)\\\"\\n\\t\\t\\t\\t:disabled=\\\"node.children_loading\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{{ node.children_loading ? __(\\\"Loading...\\\") : __(\\\"Load more\\\") }}\\n\\t\\t\\t</button>\\n\\t\\t</ul>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: \\\"TreeNode\\\",\\n\\tprops: [\\\"node\\\", \\\"selected_node\\\"],\\n\\tcomponents: {\\n\\t\\tTreeNode: () => frappe.ui.components.TreeNode\\n\\t},\\n\\tcomputed: {\\n\\t\\ticon() {\\n\\t\\t\\tlet icons = {\\n\\t\\t\\t\\topen: frappe.utils.icon(\\\"folder-open\\\", \\\"md\\\"),\\n\\t\\t\\t\\tclosed: frappe.utils.icon(\\\"folder-normal\\\", \\\"md\\\"),\\n\\t\\t\\t\\tleaf: frappe.utils.icon(\\\"primitive-dot\\\", \\\"xs\\\"),\\n\\t\\t\\t\\tsearch: frappe.utils.icon(\\\"search\\\")\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (this.node.by_search) return icons.search;\\n\\t\\t\\tif (this.node.is_leaf) return icons.leaf;\\n\\t\\t\\tif (this.node.open) return icons.open;\\n\\t\\t\\treturn icons.closed;\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n<style scoped>\\n.btn-load-more {\\n\\tmargin-left: 1.6rem;\\n\\tmargin-top: 0.5rem;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-64b63016\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<div class=\\\"tree-node\\\" :class=\\\"{ opened: node.open }\\\">\\n\\t\\t<span\\n\\t\\t\\tclass=\\\"tree-link\\\"\\n\\t\\t\\t@click=\\\"$emit('node-click', node)\\\"\\n\\t\\t\\t:class=\\\"{ active: node.value === selected_node.value }\\\"\\n\\t\\t\\t:disabled=\\\"node.fetching\\\"\\n\\t\\t>\\n\\t\\t\\t<div v-html=\\\"icon\\\"></div>\\n\\t\\t\\t<a class=\\\"tree-label\\\">{{ node.label }}</a>\\n\\t\\t</span>\\n\\t\\t<ul class=\\\"tree-children\\\" v-show=\\\"node.open\\\">\\n\\t\\t\\t<TreeNode\\n\\t\\t\\t\\tv-for=\\\"n in node.children\\\"\\n\\t\\t\\t\\t:key=\\\"n.value\\\"\\n\\t\\t\\t\\t:node=\\\"n\\\"\\n\\t\\t\\t\\t:selected_node=\\\"selected_node\\\"\\n\\t\\t\\t\\t@node-click=\\\"n => $emit('node-click', n)\\\"\\n\\t\\t\\t\\t@load-more=\\\"n => $emit('load-more', n)\\\"\\n\\t\\t\\t/>\\n\\t\\t\\t<button\\n\\t\\t\\t\\tclass=\\\"btn btn-xs btn-load-more\\\"\\n\\t\\t\\t\\tv-if=\\\"node.has_more_children\\\"\\n\\t\\t\\t\\t@click=\\\"$emit('load-more', node)\\\"\\n\\t\\t\\t\\t:disabled=\\\"node.children_loading\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{{ node.children_loading ? __(\\\"Loading...\\\") : __(\\\"Load more\\\") }}\\n\\t\\t\\t</button>\\n\\t\\t</ul>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: \\\"TreeNode\\\",\\n\\tprops: [\\\"node\\\", \\\"selected_node\\\"],\\n\\tcomponents: {\\n\\t\\tTreeNode: () => frappe.ui.components.TreeNode\\n\\t},\\n\\tcomputed: {\\n\\t\\ticon() {\\n\\t\\t\\tlet icons = {\\n\\t\\t\\t\\topen: frappe.utils.icon(\\\"folder-open\\\", \\\"md\\\"),\\n\\t\\t\\t\\tclosed: frappe.utils.icon(\\\"folder-normal\\\", \\\"md\\\"),\\n\\t\\t\\t\\tleaf: frappe.utils.icon(\\\"primitive-dot\\\", \\\"xs\\\"),\\n\\t\\t\\t\\tsearch: frappe.utils.icon(\\\"search\\\")\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (this.node.by_search) return icons.search;\\n\\t\\t\\tif (this.node.is_leaf) return icons.leaf;\\n\\t\\t\\tif (this.node.open) return icons.open;\\n\\t\\t\\treturn icons.closed;\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n<style scoped>\\n.btn-load-more {\\n\\tmargin-left: 1.6rem;\\n\\tmargin-top: 0.5rem;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport TreeNode from \"./TreeNode.vue\";\n\nconst __vue_script__ = {\n\tname: \"FileBrowser\",\n\tcomponents: {\n\t\tTreeNode\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnode: {\n\t\t\t\tlabel: __(\"Home\"),\n\t\t\t\tvalue: \"Home\",\n\t\t\t\tchildren: [],\n\t\t\t\tchildren_start: 0,\n\t\t\t\tchildren_loading: false,\n\t\t\t\tis_leaf: false,\n\t\t\t\tfetching: false,\n\t\t\t\tfetched: false,\n\t\t\t\topen: false,\n\t\t\t\tfiltered: true\n\t\t\t},\n\t\t\tselected_node: {},\n\t\t\tsearch_text: \"\",\n\t\t\tpage_length: 10\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.toggle_node(this.node);\n\t},\n\tmethods: {\n\t\ttoggle_node(node) {\n\t\t\tif (!node.fetched && !node.is_leaf) {\n\t\t\t\tnode.fetching = true;\n\t\t\t\tnode.children_start = 0;\n\t\t\t\tnode.children_loading = false;\n\t\t\t\tthis.get_files_in_folder(node.value, 0).then(\n\t\t\t\t\t({ files, has_more }) => {\n\t\t\t\t\t\tnode.open = true;\n\t\t\t\t\t\tnode.children = files;\n\t\t\t\t\t\tnode.fetched = true;\n\t\t\t\t\t\tnode.fetching = false;\n\t\t\t\t\t\tnode.children_start += this.page_length;\n\t\t\t\t\t\tnode.has_more_children = has_more;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tnode.open = !node.open;\n\t\t\t\tthis.select_node(node);\n\t\t\t}\n\t\t},\n\t\tload_more(node) {\n\t\t\tif (node.has_more_children) {\n\t\t\t\tlet start = node.children_start;\n\t\t\t\tnode.children_loading = true;\n\t\t\t\tthis.get_files_in_folder(node.value, start).then(\n\t\t\t\t\t({ files, has_more }) => {\n\t\t\t\t\t\tnode.children = node.children.concat(files);\n\t\t\t\t\t\tnode.children_start += this.page_length;\n\t\t\t\t\t\tnode.has_more_children = has_more;\n\t\t\t\t\t\tnode.children_loading = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tselect_node(node) {\n\t\t\tif (node.is_leaf) {\n\t\t\t\tthis.selected_node = node;\n\t\t\t}\n\t\t},\n\t\tget_files_in_folder(folder, start) {\n\t\t\treturn frappe\n\t\t\t\t.call(\"frappe.core.doctype.file.file.get_files_in_folder\", {\n\t\t\t\t\tfolder,\n\t\t\t\t\tstart,\n\t\t\t\t\tpage_length: this.page_length\n\t\t\t\t})\n\t\t\t\t.then(r => {\n\t\t\t\t\tlet { files = [], has_more = false } = r.message || {};\n\t\t\t\t\tfiles.sort((a, b) => {\n\t\t\t\t\t\tif (a.is_folder && b.is_folder) {\n\t\t\t\t\t\t\treturn a.modified < b.modified ? -1 : 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (a.is_folder) {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (b.is_folder) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t});\n\t\t\t\t\tfiles = files.map(file => this.make_file_node(file));\n\t\t\t\t\treturn { files, has_more };\n\t\t\t\t});\n\t\t},\n\t\tsearch_by_name: frappe.utils.debounce(function() {\n\t\t\tif (this.search_text === \"\") {\n\t\t\t\tthis.node = this.folder_node;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.search_text.length < 3) return;\n\t\t\tfrappe\n\t\t\t\t.call(\n\t\t\t\t\t\"frappe.core.doctype.file.file.get_files_by_search_text\",\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: this.search_text\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.then(r => {\n\t\t\t\t\tlet files = r.message || [];\n\t\t\t\t\tfiles = files.map(file => this.make_file_node(file));\n\t\t\t\t\tif (!this.folder_node) {\n\t\t\t\t\t\tthis.folder_node = this.node;\n\t\t\t\t\t}\n\t\t\t\t\tthis.node = {\n\t\t\t\t\t\tlabel: __(\"Search Results\"),\n\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\tchildren: files,\n\t\t\t\t\t\tby_search: true,\n\t\t\t\t\t\topen: true,\n\t\t\t\t\t\tfiltered: true\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t}, 300),\n\t\tmake_file_node(file) {\n\t\t\tlet filename = file.file_name || file.name;\n\t\t\tlet label = frappe.utils.file_name_ellipsis(filename, 40);\n\t\t\treturn {\n\t\t\t\tlabel: label,\n\t\t\t\tfilename: filename,\n\t\t\t\tfile_url: file.file_url,\n\t\t\t\tvalue: file.name,\n\t\t\t\tis_leaf: !file.is_folder,\n\t\t\t\tfetched: !file.is_folder, // fetched if node is leaf\n\t\t\t\tchildren: [],\n\t\t\t\tchildren_loading: false,\n\t\t\t\tchildren_start: 0,\n\t\t\t\topen: false,\n\t\t\t\tfetching: false,\n\t\t\t\tfiltered: true\n\t\t\t};\n\t\t}\n\t}\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"file-browser\" }, [\n    _c(\"div\", [\n      _c(\n        \"a\",\n        {\n          staticClass: \"text-muted text-medium\",\n          attrs: { href: \"\" },\n          on: {\n            click: function($event) {\n              $event.preventDefault()\n              return _vm.$emit(\"hide-browser\")\n            }\n          }\n        },\n        [\n          _vm._v(\n            \"\\n\\t\\t\\t\" + _vm._s(_vm.__(\"\u2190 Back to upload files\")) + \"\\n\\t\\t\"\n          )\n        ]\n      )\n    ]),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      { staticClass: \"file-browser-list\" },\n      [\n        _c(\"div\", { staticClass: \"file-filter\" }, [\n          _c(\"input\", {\n            directives: [\n              {\n                name: \"model\",\n                rawName: \"v-model\",\n                value: _vm.search_text,\n                expression: \"search_text\"\n              }\n            ],\n            staticClass: \"form-control input-xs\",\n            attrs: {\n              type: \"search\",\n              placeholder: _vm.__(\"Search by filename or extension\")\n            },\n            domProps: { value: _vm.search_text },\n            on: {\n              input: [\n                function($event) {\n                  if ($event.target.composing) {\n                    return\n                  }\n                  _vm.search_text = $event.target.value\n                },\n                _vm.search_by_name\n              ]\n            }\n          })\n        ]),\n        _vm._v(\" \"),\n        _c(\"TreeNode\", {\n          staticClass: \"tree with-skeleton\",\n          attrs: { node: _vm.node, selected_node: _vm.selected_node },\n          on: {\n            \"node-click\": function(n) {\n              return _vm.toggle_node(n)\n            },\n            \"load-more\": function(n) {\n              return _vm.load_more(n)\n            }\n          }\n        })\n      ],\n      1\n    )\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-48f87338_0\", { source: \"\\n.file-browser-list {\\n\\theight: 300px;\\n\\toverflow: hidden;\\n\\tmargin-top: 10px;\\n}\\n.file-filter {\\n\\tpadding: 3px;\\n}\\n.tree {\\n\\toverflow: auto;\\n\\theight: 100%;\\n\\tpadding-left: 0;\\n\\tpadding-right: 0;\\n\\tpadding-bottom: 4rem;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/upload/file_uploader/FileBrowser.vue\"],\"names\":[],\"mappings\":\";AAkLA;CACA,aAAA;CACA,gBAAA;CACA,gBAAA;AACA;AAEA;CACA,YAAA;AACA;AAEA;CACA,cAAA;CACA,YAAA;CACA,eAAA;CACA,gBAAA;CACA,oBAAA;AACA\",\"file\":\"FileBrowser.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-browser\\\">\\n\\t\\t<div>\\n\\t\\t\\t<a\\n\\t\\t\\t\\thref=\\\"\\\"\\n\\t\\t\\t\\tclass=\\\"text-muted text-medium\\\"\\n\\t\\t\\t\\t@click.prevent=\\\"$emit('hide-browser')\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{{ __(\\\"\u2190 Back to upload files\\\") }}\\n\\t\\t\\t</a>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-browser-list\\\">\\n\\t\\t\\t<div class=\\\"file-filter\\\">\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\ttype=\\\"search\\\"\\n\\t\\t\\t\\t\\tclass=\\\"form-control input-xs\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"__('Search by filename or extension')\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"search_text\\\"\\n\\t\\t\\t\\t\\t@input=\\\"search_by_name\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\t\\t\\t<TreeNode\\n\\t\\t\\t\\tclass=\\\"tree with-skeleton\\\"\\n\\t\\t\\t\\t:node=\\\"node\\\"\\n\\t\\t\\t\\t:selected_node=\\\"selected_node\\\"\\n\\t\\t\\t\\t@node-click=\\\"n => toggle_node(n)\\\"\\n\\t\\t\\t\\t@load-more=\\\"n => load_more(n)\\\"\\n\\t\\t\\t/>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nimport TreeNode from \\\"./TreeNode.vue\\\";\\n\\nexport default {\\n\\tname: \\\"FileBrowser\\\",\\n\\tcomponents: {\\n\\t\\tTreeNode\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tnode: {\\n\\t\\t\\t\\tlabel: __(\\\"Home\\\"),\\n\\t\\t\\t\\tvalue: \\\"Home\\\",\\n\\t\\t\\t\\tchildren: [],\\n\\t\\t\\t\\tchildren_start: 0,\\n\\t\\t\\t\\tchildren_loading: false,\\n\\t\\t\\t\\tis_leaf: false,\\n\\t\\t\\t\\tfetching: false,\\n\\t\\t\\t\\tfetched: false,\\n\\t\\t\\t\\topen: false,\\n\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t},\\n\\t\\t\\tselected_node: {},\\n\\t\\t\\tsearch_text: \\\"\\\",\\n\\t\\t\\tpage_length: 10\\n\\t\\t};\\n\\t},\\n\\tmounted() {\\n\\t\\tthis.toggle_node(this.node);\\n\\t},\\n\\tmethods: {\\n\\t\\ttoggle_node(node) {\\n\\t\\t\\tif (!node.fetched && !node.is_leaf) {\\n\\t\\t\\t\\tnode.fetching = true;\\n\\t\\t\\t\\tnode.children_start = 0;\\n\\t\\t\\t\\tnode.children_loading = false;\\n\\t\\t\\t\\tthis.get_files_in_folder(node.value, 0).then(\\n\\t\\t\\t\\t\\t({ files, has_more }) => {\\n\\t\\t\\t\\t\\t\\tnode.open = true;\\n\\t\\t\\t\\t\\t\\tnode.children = files;\\n\\t\\t\\t\\t\\t\\tnode.fetched = true;\\n\\t\\t\\t\\t\\t\\tnode.fetching = false;\\n\\t\\t\\t\\t\\t\\tnode.children_start += this.page_length;\\n\\t\\t\\t\\t\\t\\tnode.has_more_children = has_more;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tnode.open = !node.open;\\n\\t\\t\\t\\tthis.select_node(node);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tload_more(node) {\\n\\t\\t\\tif (node.has_more_children) {\\n\\t\\t\\t\\tlet start = node.children_start;\\n\\t\\t\\t\\tnode.children_loading = true;\\n\\t\\t\\t\\tthis.get_files_in_folder(node.value, start).then(\\n\\t\\t\\t\\t\\t({ files, has_more }) => {\\n\\t\\t\\t\\t\\t\\tnode.children = node.children.concat(files);\\n\\t\\t\\t\\t\\t\\tnode.children_start += this.page_length;\\n\\t\\t\\t\\t\\t\\tnode.has_more_children = has_more;\\n\\t\\t\\t\\t\\t\\tnode.children_loading = false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tselect_node(node) {\\n\\t\\t\\tif (node.is_leaf) {\\n\\t\\t\\t\\tthis.selected_node = node;\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tget_files_in_folder(folder, start) {\\n\\t\\t\\treturn frappe\\n\\t\\t\\t\\t.call(\\\"frappe.core.doctype.file.file.get_files_in_folder\\\", {\\n\\t\\t\\t\\t\\tfolder,\\n\\t\\t\\t\\t\\tstart,\\n\\t\\t\\t\\t\\tpage_length: this.page_length\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.then(r => {\\n\\t\\t\\t\\t\\tlet { files = [], has_more = false } = r.message || {};\\n\\t\\t\\t\\t\\tfiles.sort((a, b) => {\\n\\t\\t\\t\\t\\t\\tif (a.is_folder && b.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn a.modified < b.modified ? -1 : 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (a.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn -1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (b.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\treturn 0;\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\tfiles = files.map(file => this.make_file_node(file));\\n\\t\\t\\t\\t\\treturn { files, has_more };\\n\\t\\t\\t\\t});\\n\\t\\t},\\n\\t\\tsearch_by_name: frappe.utils.debounce(function() {\\n\\t\\t\\tif (this.search_text === \\\"\\\") {\\n\\t\\t\\t\\tthis.node = this.folder_node;\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tif (this.search_text.length < 3) return;\\n\\t\\t\\tfrappe\\n\\t\\t\\t\\t.call(\\n\\t\\t\\t\\t\\t\\\"frappe.core.doctype.file.file.get_files_by_search_text\\\",\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttext: this.search_text\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t)\\n\\t\\t\\t\\t.then(r => {\\n\\t\\t\\t\\t\\tlet files = r.message || [];\\n\\t\\t\\t\\t\\tfiles = files.map(file => this.make_file_node(file));\\n\\t\\t\\t\\t\\tif (!this.folder_node) {\\n\\t\\t\\t\\t\\t\\tthis.folder_node = this.node;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.node = {\\n\\t\\t\\t\\t\\t\\tlabel: __(\\\"Search Results\\\"),\\n\\t\\t\\t\\t\\t\\tvalue: \\\"\\\",\\n\\t\\t\\t\\t\\t\\tchildren: files,\\n\\t\\t\\t\\t\\t\\tby_search: true,\\n\\t\\t\\t\\t\\t\\topen: true,\\n\\t\\t\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t});\\n\\t\\t}, 300),\\n\\t\\tmake_file_node(file) {\\n\\t\\t\\tlet filename = file.file_name || file.name;\\n\\t\\t\\tlet label = frappe.utils.file_name_ellipsis(filename, 40);\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tlabel: label,\\n\\t\\t\\t\\tfilename: filename,\\n\\t\\t\\t\\tfile_url: file.file_url,\\n\\t\\t\\t\\tvalue: file.name,\\n\\t\\t\\t\\tis_leaf: !file.is_folder,\\n\\t\\t\\t\\tfetched: !file.is_folder, // fetched if node is leaf\\n\\t\\t\\t\\tchildren: [],\\n\\t\\t\\t\\tchildren_loading: false,\\n\\t\\t\\t\\tchildren_start: 0,\\n\\t\\t\\t\\topen: false,\\n\\t\\t\\t\\tfetching: false,\\n\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t};\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n\\n<style>\\n.file-browser-list {\\n\\theight: 300px;\\n\\toverflow: hidden;\\n\\tmargin-top: 10px;\\n}\\n\\n.file-filter {\\n\\tpadding: 3px;\\n}\\n\\n.tree {\\n\\toverflow: auto;\\n\\theight: 100%;\\n\\tpadding-left: 0;\\n\\tpadding-right: 0;\\n\\tpadding-bottom: 4rem;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<div class=\\\"file-browser\\\">\\n\\t\\t<div>\\n\\t\\t\\t<a\\n\\t\\t\\t\\thref=\\\"\\\"\\n\\t\\t\\t\\tclass=\\\"text-muted text-medium\\\"\\n\\t\\t\\t\\t@click.prevent=\\\"$emit('hide-browser')\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{{ __(\\\"\u2190 Back to upload files\\\") }}\\n\\t\\t\\t</a>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-browser-list\\\">\\n\\t\\t\\t<div class=\\\"file-filter\\\">\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\ttype=\\\"search\\\"\\n\\t\\t\\t\\t\\tclass=\\\"form-control input-xs\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"__('Search by filename or extension')\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"search_text\\\"\\n\\t\\t\\t\\t\\t@input=\\\"search_by_name\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\t\\t\\t<TreeNode\\n\\t\\t\\t\\tclass=\\\"tree with-skeleton\\\"\\n\\t\\t\\t\\t:node=\\\"node\\\"\\n\\t\\t\\t\\t:selected_node=\\\"selected_node\\\"\\n\\t\\t\\t\\t@node-click=\\\"n => toggle_node(n)\\\"\\n\\t\\t\\t\\t@load-more=\\\"n => load_more(n)\\\"\\n\\t\\t\\t/>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nimport TreeNode from \\\"./TreeNode.vue\\\";\\n\\nexport default {\\n\\tname: \\\"FileBrowser\\\",\\n\\tcomponents: {\\n\\t\\tTreeNode\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tnode: {\\n\\t\\t\\t\\tlabel: __(\\\"Home\\\"),\\n\\t\\t\\t\\tvalue: \\\"Home\\\",\\n\\t\\t\\t\\tchildren: [],\\n\\t\\t\\t\\tchildren_start: 0,\\n\\t\\t\\t\\tchildren_loading: false,\\n\\t\\t\\t\\tis_leaf: false,\\n\\t\\t\\t\\tfetching: false,\\n\\t\\t\\t\\tfetched: false,\\n\\t\\t\\t\\topen: false,\\n\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t},\\n\\t\\t\\tselected_node: {},\\n\\t\\t\\tsearch_text: \\\"\\\",\\n\\t\\t\\tpage_length: 10\\n\\t\\t};\\n\\t},\\n\\tmounted() {\\n\\t\\tthis.toggle_node(this.node);\\n\\t},\\n\\tmethods: {\\n\\t\\ttoggle_node(node) {\\n\\t\\t\\tif (!node.fetched && !node.is_leaf) {\\n\\t\\t\\t\\tnode.fetching = true;\\n\\t\\t\\t\\tnode.children_start = 0;\\n\\t\\t\\t\\tnode.children_loading = false;\\n\\t\\t\\t\\tthis.get_files_in_folder(node.value, 0).then(\\n\\t\\t\\t\\t\\t({ files, has_more }) => {\\n\\t\\t\\t\\t\\t\\tnode.open = true;\\n\\t\\t\\t\\t\\t\\tnode.children = files;\\n\\t\\t\\t\\t\\t\\tnode.fetched = true;\\n\\t\\t\\t\\t\\t\\tnode.fetching = false;\\n\\t\\t\\t\\t\\t\\tnode.children_start += this.page_length;\\n\\t\\t\\t\\t\\t\\tnode.has_more_children = has_more;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tnode.open = !node.open;\\n\\t\\t\\t\\tthis.select_node(node);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tload_more(node) {\\n\\t\\t\\tif (node.has_more_children) {\\n\\t\\t\\t\\tlet start = node.children_start;\\n\\t\\t\\t\\tnode.children_loading = true;\\n\\t\\t\\t\\tthis.get_files_in_folder(node.value, start).then(\\n\\t\\t\\t\\t\\t({ files, has_more }) => {\\n\\t\\t\\t\\t\\t\\tnode.children = node.children.concat(files);\\n\\t\\t\\t\\t\\t\\tnode.children_start += this.page_length;\\n\\t\\t\\t\\t\\t\\tnode.has_more_children = has_more;\\n\\t\\t\\t\\t\\t\\tnode.children_loading = false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tselect_node(node) {\\n\\t\\t\\tif (node.is_leaf) {\\n\\t\\t\\t\\tthis.selected_node = node;\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tget_files_in_folder(folder, start) {\\n\\t\\t\\treturn frappe\\n\\t\\t\\t\\t.call(\\\"frappe.core.doctype.file.file.get_files_in_folder\\\", {\\n\\t\\t\\t\\t\\tfolder,\\n\\t\\t\\t\\t\\tstart,\\n\\t\\t\\t\\t\\tpage_length: this.page_length\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.then(r => {\\n\\t\\t\\t\\t\\tlet { files = [], has_more = false } = r.message || {};\\n\\t\\t\\t\\t\\tfiles.sort((a, b) => {\\n\\t\\t\\t\\t\\t\\tif (a.is_folder && b.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn a.modified < b.modified ? -1 : 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (a.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn -1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (b.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\treturn 0;\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\tfiles = files.map(file => this.make_file_node(file));\\n\\t\\t\\t\\t\\treturn { files, has_more };\\n\\t\\t\\t\\t});\\n\\t\\t},\\n\\t\\tsearch_by_name: frappe.utils.debounce(function() {\\n\\t\\t\\tif (this.search_text === \\\"\\\") {\\n\\t\\t\\t\\tthis.node = this.folder_node;\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tif (this.search_text.length < 3) return;\\n\\t\\t\\tfrappe\\n\\t\\t\\t\\t.call(\\n\\t\\t\\t\\t\\t\\\"frappe.core.doctype.file.file.get_files_by_search_text\\\",\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttext: this.search_text\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t)\\n\\t\\t\\t\\t.then(r => {\\n\\t\\t\\t\\t\\tlet files = r.message || [];\\n\\t\\t\\t\\t\\tfiles = files.map(file => this.make_file_node(file));\\n\\t\\t\\t\\t\\tif (!this.folder_node) {\\n\\t\\t\\t\\t\\t\\tthis.folder_node = this.node;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.node = {\\n\\t\\t\\t\\t\\t\\tlabel: __(\\\"Search Results\\\"),\\n\\t\\t\\t\\t\\t\\tvalue: \\\"\\\",\\n\\t\\t\\t\\t\\t\\tchildren: files,\\n\\t\\t\\t\\t\\t\\tby_search: true,\\n\\t\\t\\t\\t\\t\\topen: true,\\n\\t\\t\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t});\\n\\t\\t}, 300),\\n\\t\\tmake_file_node(file) {\\n\\t\\t\\tlet filename = file.file_name || file.name;\\n\\t\\t\\tlet label = frappe.utils.file_name_ellipsis(filename, 40);\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tlabel: label,\\n\\t\\t\\t\\tfilename: filename,\\n\\t\\t\\t\\tfile_url: file.file_url,\\n\\t\\t\\t\\tvalue: file.name,\\n\\t\\t\\t\\tis_leaf: !file.is_folder,\\n\\t\\t\\t\\tfetched: !file.is_folder, // fetched if node is leaf\\n\\t\\t\\t\\tchildren: [],\\n\\t\\t\\t\\tchildren_loading: false,\\n\\t\\t\\t\\tchildren_start: 0,\\n\\t\\t\\t\\topen: false,\\n\\t\\t\\t\\tfetching: false,\\n\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t};\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n\\n<style>\\n.file-browser-list {\\n\\theight: 300px;\\n\\toverflow: hidden;\\n\\tmargin-top: 10px;\\n}\\n\\n.file-filter {\\n\\tpadding: 3px;\\n}\\n\\n.tree {\\n\\toverflow: auto;\\n\\theight: 100%;\\n\\tpadding-left: 0;\\n\\tpadding-right: 0;\\n\\tpadding-bottom: 4rem;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n\tname: 'WebLink',\n\tdata() {\n\t\treturn {\n\t\t\turl: '',\n\t\t}\n\t}\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"file-web-link margin-bottom\" }, [\n    _c(\n      \"a\",\n      {\n        staticClass: \"text-muted text-medium\",\n        attrs: { href: \"\" },\n        on: {\n          click: function($event) {\n            $event.preventDefault()\n            return _vm.$emit(\"hide-web-link\")\n          }\n        }\n      },\n      [_vm._v(\"\\n\\t\\t\" + _vm._s(_vm.__(\"\u2190 Back to upload files\")) + \"\\n\\t\")]\n    ),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"input-group\" }, [\n      _c(\"input\", {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.url,\n            expression: \"url\"\n          }\n        ],\n        staticClass: \"form-control\",\n        attrs: { type: \"text\", placeholder: _vm.__(\"Attach a web link\") },\n        domProps: { value: _vm.url },\n        on: {\n          input: function($event) {\n            if ($event.target.composing) {\n              return\n            }\n            _vm.url = $event.target.value\n          }\n        }\n      })\n    ])\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-46076d34_0\", { source: \"\\n.file-web-link .input-group {\\n\\tmargin-top: 10px;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/upload/file_uploader/WebLink.vue\"],\"names\":[],\"mappings\":\";AA6BA;CACA,gBAAA;AACA\",\"file\":\"WebLink.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-web-link margin-bottom\\\">\\n\\t\\t<a href class=\\\"text-muted text-medium\\\"\\n\\t\\t\\t@click.prevent=\\\"$emit('hide-web-link')\\\"\\n\\t\\t>\\n\\t\\t\\t{{ __('\u2190 Back to upload files') }}\\n\\t\\t</a>\\n\\t\\t<div class=\\\"input-group\\\">\\n\\t\\t\\t<input\\n\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\tclass=\\\"form-control\\\"\\n\\t\\t\\t\\t:placeholder=\\\"__('Attach a web link')\\\"\\n\\t\\t\\t\\tv-model=\\\"url\\\"\\n\\t\\t\\t>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: 'WebLink',\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\turl: '',\\n\\t\\t}\\n\\t}\\n}\\n</script>\\n\\n<style>\\n.file-web-link .input-group {\\n\\tmargin-top: 10px;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<div class=\\\"file-web-link margin-bottom\\\">\\n\\t\\t<a href class=\\\"text-muted text-medium\\\"\\n\\t\\t\\t@click.prevent=\\\"$emit('hide-web-link')\\\"\\n\\t\\t>\\n\\t\\t\\t{{ __('\u2190 Back to upload files') }}\\n\\t\\t</a>\\n\\t\\t<div class=\\\"input-group\\\">\\n\\t\\t\\t<input\\n\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\tclass=\\\"form-control\\\"\\n\\t\\t\\t\\t:placeholder=\\\"__('Attach a web link')\\\"\\n\\t\\t\\t\\tv-model=\\\"url\\\"\\n\\t\\t\\t>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: 'WebLink',\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\turl: '',\\n\\t\\t}\\n\\t}\\n}\\n</script>\\n\\n<style>\\n.file-web-link .input-group {\\n\\tmargin-top: 10px;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport FilePreview from './FilePreview.vue';\nimport FileBrowser from './FileBrowser.vue';\nimport WebLink from './WebLink.vue';\n\nconst __vue_script__ = {\n\tname: 'FileUploader',\n\tprops: {\n\t\tshow_upload_button: {\n\t\t\tdefault: true\n\t\t},\n\t\tdisable_file_browser: {\n\t\t\tdefault: false\n\t\t},\n\t\tallow_multiple: {\n\t\t\tdefault: true\n\t\t},\n\t\tas_dataurl: {\n\t\t\tdefault: false\n\t\t},\n\t\tdoctype: {\n\t\t\tdefault: null\n\t\t},\n\t\tdocname: {\n\t\t\tdefault: null\n\t\t},\n\t\tfieldname: {\n\t\t\tdefault: null\n\t\t},\n\t\tfolder: {\n\t\t\tdefault: 'Home'\n\t\t},\n\t\tmethod: {\n\t\t\tdefault: null\n\t\t},\n\t\ton_success: {\n\t\t\tdefault: null\n\t\t},\n\t\trestrictions: {\n\t\t\tdefault: () => ({\n\t\t\t\tmax_file_size: null, // 2048 -> 2KB\n\t\t\t\tmax_number_of_files: null,\n\t\t\t\tallowed_file_types: [] // ['image/*', 'video/*', '.jpg', '.gif', '.pdf']\n\t\t\t})\n\t\t},\n\t\tupload_notes: {\n\t\t\tdefault: null // \"Images or video, upto 2MB\"\n\t\t}\n\t},\n\tcomponents: {\n\t\tFilePreview,\n\t\tFileBrowser,\n\t\tWebLink\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfiles: [],\n\t\t\tis_dragging: false,\n\t\t\tcurrently_uploading: -1,\n\t\t\tshow_file_browser: false,\n\t\t\tshow_web_link: false,\n\t\t}\n\t},\n\twatch: {\n\t\tfiles(newvalue, oldvalue) {\n\t\t\tif (!this.allow_multiple && newvalue.length > 1) {\n\t\t\t\tthis.files = [newvalue[newvalue.length - 1]];\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tupload_complete() {\n\t\t\treturn this.files.length > 0\n\t\t\t\t&& this.files.every(\n\t\t\t\t\tfile => file.total !== 0 && file.progress === file.total);\n\t\t},\n\t\tallow_take_photo() {\n\t\t\treturn window.navigator.mediaDevices;\n\t\t}\n\t},\n\tmethods: {\n\t\tdragover() {\n\t\t\tthis.is_dragging = true;\n\t\t},\n\t\tdragleave() {\n\t\t\tthis.is_dragging = false;\n\t\t},\n\t\tdropfiles(e) {\n\t\t\tthis.is_dragging = false;\n\t\t\tthis.add_files(e.dataTransfer.files);\n\t\t},\n\t\tbrowse_files() {\n\t\t\tthis.$refs.file_input.click();\n\t\t},\n\t\ton_file_input(e) {\n\t\t\tthis.add_files(this.$refs.file_input.files);\n\t\t},\n\t\tremove_file(file) {\n\t\t\tthis.files = this.files.filter(f => f !== file);\n\t\t},\n\t\ttoggle_all_private() {\n\t\t\tlet flag;\n\t\t\tlet private_values = this.files.filter(file => file.private);\n\t\t\tif (private_values.length < this.files.length) {\n\t\t\t\t// there are some private and some public\n\t\t\t\t// set all to private\n\t\t\t\tflag = true;\n\t\t\t} else {\n\t\t\t\t// all are private, set all to public\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t\tthis.files = this.files.map(file => {\n\t\t\t\tfile.private = flag;\n\t\t\t\treturn file;\n\t\t\t});\n\t\t},\n\t\tadd_files(file_array) {\n\t\t\tlet files = Array.from(file_array)\n\t\t\t\t.filter(this.check_restrictions)\n\t\t\t\t.map(file => {\n\t\t\t\t\tlet is_image = file.type.startsWith('image');\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfile_obj: file,\n\t\t\t\t\t\tname: file.name,\n\t\t\t\t\t\tdoc: null,\n\t\t\t\t\t\tprogress: 0,\n\t\t\t\t\t\ttotal: 0,\n\t\t\t\t\t\tfailed: false,\n\t\t\t\t\t\tuploading: false,\n\t\t\t\t\t\tprivate: !is_image\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tthis.files = this.files.concat(files);\n\t\t},\n\t\tcheck_restrictions(file) {\n\t\t\tlet { max_file_size, allowed_file_types } = this.restrictions;\n\n\t\t\tlet mime_type = file.type;\n\t\t\tlet extension = '.' + file.name.split('.').pop();\n\n\t\t\tlet is_correct_type = true;\n\t\t\tlet valid_file_size = true;\n\n\t\t\tif (allowed_file_types.length) {\n\t\t\t\tis_correct_type = allowed_file_types.some((type) => {\n\t\t\t\t\t// is this is a mime-type\n\t\t\t\t\tif (type.includes('/')) {\n\t\t\t\t\t\tif (!file.type) return false;\n\t\t\t\t\t\treturn file.type.match(type);\n\t\t\t\t\t}\n\n\t\t\t\t\t// otherwise this is likely an extension\n\t\t\t\t\tif (type[0] === '.') {\n\t\t\t\t\t\treturn file.name.endsWith(type);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (max_file_size && file.size != null) {\n\t\t\t\tvalid_file_size = file.size < max_file_size;\n\t\t\t}\n\n\t\t\tif (!is_correct_type) {\n\t\t\t\tconsole.warn('File skipped because of invalid file type', file);\n\t\t\t}\n\t\t\tif (!valid_file_size) {\n\t\t\t\tconsole.warn('File skipped because of invalid file size', file.size, file);\n\t\t\t}\n\n\t\t\treturn is_correct_type && valid_file_size;\n\t\t},\n\t\tupload_files() {\n\t\t\tif (this.show_file_browser) {\n\t\t\t\treturn this.upload_via_file_browser();\n\t\t\t}\n\t\t\tif (this.show_web_link) {\n\t\t\t\treturn this.upload_via_web_link();\n\t\t\t}\n\t\t\tif (this.as_dataurl) {\n\t\t\t\treturn this.return_as_dataurl();\n\t\t\t}\n\t\t\treturn frappe.run_serially(\n\t\t\t\tthis.files.map(\n\t\t\t\t\t(file, i) =>\n\t\t\t\t\t\t() => this.upload_file(file, i)\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\tupload_via_file_browser() {\n\t\t\tlet selected_file = this.$refs.file_browser.selected_node;\n\t\t\tif (!selected_file.value) {\n\t\t\t\tfrappe.msgprint(__('Click on a file to select it.'));\n\t\t\t\treturn Promise.reject();\n\t\t\t}\n\n\t\t\treturn this.upload_file({\n\t\t\t\tfile_url: selected_file.file_url\n\t\t\t});\n\t\t},\n\t\tupload_via_web_link() {\n\t\t\tlet file_url = this.$refs.web_link.url;\n\t\t\tif (!file_url) {\n\t\t\t\tfrappe.msgprint(__('Invalid URL'));\n\t\t\t\treturn Promise.reject();\n\t\t\t}\n\n\t\t\treturn this.upload_file({\n\t\t\t\tfile_url\n\t\t\t});\n\t\t},\n\t\treturn_as_dataurl() {\n\t\t\tlet promises = this.files.map(file =>\n\t\t\t\tfrappe.dom.file_to_base64(file.file_obj)\n\t\t\t\t\t.then(dataurl => {\n\t\t\t\t\t\tfile.dataurl = dataurl;\n\t\t\t\t\t\tthis.on_success && this.on_success(file);\n\t\t\t\t\t})\n\t\t\t);\n\t\t\treturn Promise.all(promises);\n\t\t},\n\t\tupload_file(file, i) {\n\t\t\tthis.currently_uploading = i;\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet xhr = new XMLHttpRequest();\n\t\t\t\txhr.upload.addEventListener('loadstart', (e) => {\n\t\t\t\t\tfile.uploading = true;\n\t\t\t\t})\n\t\t\t\txhr.upload.addEventListener('progress', (e) => {\n\t\t\t\t\tif (e.lengthComputable) {\n\t\t\t\t\t\tfile.progress = e.loaded;\n\t\t\t\t\t\tfile.total = e.total;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\txhr.upload.addEventListener('load', (e) => {\n\t\t\t\t\tfile.uploading = false;\n\t\t\t\t\tresolve();\n\t\t\t\t})\n\t\t\t\txhr.addEventListener('error', (e) => {\n\t\t\t\t\tfile.failed = true;\n\t\t\t\t\treject();\n\t\t\t\t})\n\t\t\t\txhr.onreadystatechange = () => {\n\t\t\t\t\tif (xhr.readyState == XMLHttpRequest.DONE) {\n\t\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\t\tlet r = null;\n\t\t\t\t\t\t\tlet file_doc = null;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tr = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\t\tif (r.message.doctype === 'File') {\n\t\t\t\t\t\t\t\t\tfile_doc = r.message;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\tr = xhr.responseText;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfile.doc = file_doc;\n\n\t\t\t\t\t\t\tif (this.on_success) {\n\t\t\t\t\t\t\t\tthis.on_success(file_doc, r);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\t\tlet response = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\tfrappe.msgprint({\n\t\t\t\t\t\t\t\ttitle: __('Not permitted'),\n\t\t\t\t\t\t\t\tindicator: 'red',\n\t\t\t\t\t\t\t\tmessage: response._error_message\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfile.failed = true;\n\t\t\t\t\t\t\tlet error = null;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\terror = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\t// pass\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfrappe.request.cleanup({}, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\txhr.open('POST', '/api/method/frontend.api.file.fileupload.upload_file', true);\n\t\t\t\txhr.setRequestHeader('Accept', 'application/json');\n\t\t\t\txhr.setRequestHeader('X-Frappe-CSRF-Token', frappe.csrf_token);\n\n\t\t\t\tlet form_data = new FormData();\n\t\t\t\tif (file.file_obj) {\n\t\t\t\t\tform_data.append('file', file.file_obj, file.name);\n\t\t\t\t}\n\t\t\t\tform_data.append('is_private', +file.private);\n\t\t\t\tform_data.append('folder', this.folder);\n\n\t\t\t\tif (file.file_url) {\n\t\t\t\t\tform_data.append('file_url', file.file_url);\n\t\t\t\t}\n\n\t\t\t\tif (this.doctype && this.docname) {\n\t\t\t\t\tform_data.append('doctype', this.doctype);\n\t\t\t\t\tform_data.append('docname', this.docname);\n\t\t\t\t}\n\n\t\t\t\tif (this.fieldname) {\n\t\t\t\t\tform_data.append('fieldname', this.fieldname);\n\t\t\t\t}\n\n\t\t\t\tif (this.method) {\n\t\t\t\t\tform_data.append('method', this.method);\n\t\t\t\t}\n\n\t\t\t\txhr.send(form_data);\n\t\t\t});\n\t\t},\n\t\tcapture_image() {\n\t\t\tconst capture = new frappe.ui.Capture({\n\t\t\t\tanimate: false,\n\t\t\t\terror: true\n\t\t\t});\n\t\t\tcapture.show();\n\t\t\tcapture.submit(data_url => {\n\t\t\t\tlet filename = `capture_${frappe.datetime.now_datetime().replaceAll(/[: -]/g, '_')}.png`;\n\t\t\t\tthis.url_to_file(data_url, filename, 'image/png').then((file) =>\n\t\t\t\t\tthis.add_files([file])\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\turl_to_file(url, filename, mime_type) {\n\t\t\treturn fetch(url)\n\t\t\t\t\t.then(res => res.arrayBuffer())\n\t\t\t\t\t.then(buffer => new File([buffer], filename, { type: mime_type }));\n\t\t},\n\t}\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"file-uploader\",\n      on: {\n        dragover: function($event) {\n          $event.preventDefault()\n          return _vm.dragover($event)\n        },\n        dragleave: function($event) {\n          $event.preventDefault()\n          return _vm.dragleave($event)\n        },\n        drop: function($event) {\n          $event.preventDefault()\n          return _vm.dropfiles($event)\n        }\n      }\n    },\n    [\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value:\n                _vm.files.length === 0 &&\n                !_vm.show_file_browser &&\n                !_vm.show_web_link,\n              expression:\n                \"files.length === 0 && !show_file_browser && !show_web_link\"\n            }\n          ],\n          staticClass: \"file-upload-area\"\n        },\n        [\n          !_vm.is_dragging\n            ? _c(\"div\", [\n                _c(\"div\", { staticClass: \"text-center\" }, [\n                  _vm._v(\n                    \"\\n\\t\\t\\t\\t\" +\n                      _vm._s(\n                        _vm.__(\"Drag and drop files here or upload from\")\n                      ) +\n                      \"\\n\\t\\t\\t\"\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"mt-2 text-center\" }, [\n                  _c(\n                    \"button\",\n                    {\n                      staticClass: \"btn btn-file-upload\",\n                      on: { click: _vm.browse_files }\n                    },\n                    [\n                      _c(\n                        \"svg\",\n                        {\n                          attrs: {\n                            width: \"30\",\n                            height: \"30\",\n                            viewBox: \"0 0 30 30\",\n                            fill: \"none\",\n                            xmlns: \"http://www.w3.org/2000/svg\"\n                          }\n                        },\n                        [\n                          _c(\"circle\", {\n                            attrs: {\n                              cx: \"15\",\n                              cy: \"15\",\n                              r: \"15\",\n                              fill: \"url(#paint0_linear)\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M13.5 22V19\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M16.5 22V19\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M10.5 22H19.5\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M7.5 16H22.5\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d:\n                                \"M21 8H9C8.17157 8 7.5 8.67157 7.5 9.5V17.5C7.5 18.3284 8.17157 19 9 19H21C21.8284 19 22.5 18.3284 22.5 17.5V9.5C22.5 8.67157 21.8284 8 21 8Z\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\n                            \"defs\",\n                            [\n                              _c(\n                                \"linearGradient\",\n                                {\n                                  attrs: {\n                                    id: \"paint0_linear\",\n                                    x1: \"0\",\n                                    y1: \"0\",\n                                    x2: \"0\",\n                                    y2: \"30\",\n                                    gradientUnits: \"userSpaceOnUse\"\n                                  }\n                                },\n                                [\n                                  _c(\"stop\", {\n                                    attrs: { \"stop-color\": \"#2C9AF1\" }\n                                  }),\n                                  _vm._v(\" \"),\n                                  _c(\"stop\", {\n                                    attrs: {\n                                      offset: \"1\",\n                                      \"stop-color\": \"#2490EF\"\n                                    }\n                                  })\n                                ],\n                                1\n                              )\n                            ],\n                            1\n                          )\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"div\", { staticClass: \"mt-1\" }, [\n                        _vm._v(_vm._s(_vm.__(\"My Device\")))\n                      ])\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"input\", {\n                    ref: \"file_input\",\n                    staticClass: \"hidden\",\n                    attrs: {\n                      type: \"file\",\n                      multiple: _vm.allow_multiple,\n                      accept: _vm.restrictions.allowed_file_types.join(\", \")\n                    },\n                    on: { change: _vm.on_file_input }\n                  }),\n                  _vm._v(\" \"),\n                  !_vm.disable_file_browser\n                    ? _c(\n                        \"button\",\n                        {\n                          staticClass: \"btn btn-file-upload\",\n                          on: {\n                            click: function($event) {\n                              _vm.show_file_browser = true\n                            }\n                          }\n                        },\n                        [\n                          _c(\n                            \"svg\",\n                            {\n                              attrs: {\n                                width: \"30\",\n                                height: \"30\",\n                                viewBox: \"0 0 30 30\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\"\n                              }\n                            },\n                            [\n                              _c(\"circle\", {\n                                attrs: {\n                                  cx: \"15\",\n                                  cy: \"15\",\n                                  r: \"15\",\n                                  fill: \"#48BB74\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M13.0245 11.5H8C7.72386 11.5 7.5 11.7239 7.5 12V20C7.5 21.1046 8.39543 22 9.5 22H20.5C21.6046 22 22.5 21.1046 22.5 20V14.5C22.5 14.2239 22.2761 14 22 14H15.2169C15.0492 14 14.8926 13.9159 14.8 13.776L13.4414 11.724C13.3488 11.5841 13.1922 11.5 13.0245 11.5Z\",\n                                  stroke: \"white\",\n                                  \"stroke-miterlimit\": \"10\",\n                                  \"stroke-linecap\": \"square\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M8.87939 9.5V8.5C8.87939 8.22386 9.10325 8 9.37939 8H20.6208C20.8969 8 21.1208 8.22386 21.1208 8.5V12\",\n                                  stroke: \"white\",\n                                  \"stroke-miterlimit\": \"10\",\n                                  \"stroke-linecap\": \"round\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              })\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"mt-1\" }, [\n                            _vm._v(_vm._s(_vm.__(\"Library\")))\n                          ])\n                        ]\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _c(\n                    \"button\",\n                    {\n                      staticClass: \"btn btn-file-upload\",\n                      on: {\n                        click: function($event) {\n                          _vm.show_web_link = true\n                        }\n                      }\n                    },\n                    [\n                      _c(\n                        \"svg\",\n                        {\n                          attrs: {\n                            width: \"30\",\n                            height: \"30\",\n                            viewBox: \"0 0 30 30\",\n                            fill: \"none\",\n                            xmlns: \"http://www.w3.org/2000/svg\"\n                          }\n                        },\n                        [\n                          _c(\"circle\", {\n                            attrs: {\n                              cx: \"15\",\n                              cy: \"15\",\n                              r: \"15\",\n                              fill: \"#ECAC4B\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M12.0469 17.9543L17.9558 12.0454\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d:\n                                \"M13.8184 11.4547L15.7943 9.47873C16.4212 8.85205 17.2714 8.5 18.1578 8.5C19.0443 8.5 19.8945 8.85205 20.5214 9.47873V9.47873C21.1481 10.1057 21.5001 10.9558 21.5001 11.8423C21.5001 12.7287 21.1481 13.5789 20.5214 14.2058L18.5455 16.1818\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d:\n                                \"M11.4547 13.8184L9.47873 15.7943C8.85205 16.4212 8.5 17.2714 8.5 18.1578C8.5 19.0443 8.85205 19.8945 9.47873 20.5214V20.5214C10.1057 21.1481 10.9558 21.5001 11.8423 21.5001C12.7287 21.5001 13.5789 21.1481 14.2058 20.5214L16.1818 18.5455\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          })\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"div\", { staticClass: \"mt-1\" }, [\n                        _vm._v(_vm._s(_vm.__(\"Link\")))\n                      ])\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _vm.allow_take_photo\n                    ? _c(\n                        \"button\",\n                        {\n                          staticClass: \"btn btn-file-upload\",\n                          on: { click: _vm.capture_image }\n                        },\n                        [\n                          _c(\n                            \"svg\",\n                            {\n                              attrs: {\n                                width: \"30\",\n                                height: \"30\",\n                                viewBox: \"0 0 30 30\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\"\n                              }\n                            },\n                            [\n                              _c(\"circle\", {\n                                attrs: {\n                                  cx: \"15\",\n                                  cy: \"15\",\n                                  r: \"15\",\n                                  fill: \"#CE315B\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M11.5 10.5H9.5C8.67157 10.5 8 11.1716 8 12V20C8 20.8284 8.67157 21.5 9.5 21.5H20.5C21.3284 21.5 22 20.8284 22 20V12C22 11.1716 21.3284 10.5 20.5 10.5H18.5L17.3 8.9C17.1111 8.64819 16.8148 8.5 16.5 8.5H13.5C13.1852 8.5 12.8889 8.64819 12.7 8.9L11.5 10.5Z\",\n                                  stroke: \"white\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"circle\", {\n                                attrs: {\n                                  cx: \"15\",\n                                  cy: \"16\",\n                                  r: \"2.5\",\n                                  stroke: \"white\"\n                                }\n                              })\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"mt-1\" }, [\n                            _vm._v(_vm._s(_vm.__(\"Camera\")))\n                          ])\n                        ]\n                      )\n                    : _vm._e()\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"text-muted text-medium\" }, [\n                  _vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.upload_notes) + \"\\n\\t\\t\\t\")\n                ])\n              ])\n            : _c(\"div\", [\n                _vm._v(\n                  \"\\n\\t\\t\\t\" + _vm._s(_vm.__(\"Drop files here\")) + \"\\n\\t\\t\"\n                )\n              ])\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value:\n                _vm.files.length &&\n                !_vm.show_file_browser &&\n                !_vm.show_web_link,\n              expression: \"files.length && !show_file_browser && !show_web_link\"\n            }\n          ],\n          staticClass: \"file-preview-area\"\n        },\n        [\n          _c(\n            \"div\",\n            { staticClass: \"file-preview-container\" },\n            _vm._l(_vm.files, function(file, i) {\n              return _c(\"FilePreview\", {\n                key: file.name,\n                attrs: { file: file },\n                on: {\n                  remove: function($event) {\n                    return _vm.remove_file(file)\n                  },\n                  toggle_private: function($event) {\n                    file.private = !file.private\n                  }\n                }\n              })\n            }),\n            1\n          ),\n          _vm._v(\" \"),\n          _vm.show_upload_button && _vm.currently_uploading === -1\n            ? _c(\"div\", { staticClass: \"flex align-center\" }, [\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"btn btn-primary btn-sm margin-right\",\n                    on: { click: _vm.upload_files }\n                  },\n                  [\n                    _vm.files.length === 1\n                      ? _c(\"span\", [\n                          _vm._v(\n                            \"\\n\\t\\t\\t\\t\\t\" +\n                              _vm._s(_vm.__(\"Upload file\")) +\n                              \"\\n\\t\\t\\t\\t\"\n                          )\n                        ])\n                      : _c(\"span\", [\n                          _vm._v(\n                            \"\\n\\t\\t\\t\\t\\t\" +\n                              _vm._s(\n                                _vm.__(\"Upload {0} files\", [_vm.files.length])\n                              ) +\n                              \"\\n\\t\\t\\t\\t\"\n                          )\n                        ])\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"text-muted text-medium\" }, [\n                  _vm._v(\n                    \"\\n\\t\\t\\t\\t\" +\n                      _vm._s(\n                        _vm.__(\n                          \"Click on the lock icon to toggle public/private\"\n                        )\n                      ) +\n                      \"\\n\\t\\t\\t\"\n                  )\n                ])\n              ])\n            : _vm._e()\n        ]\n      ),\n      _vm._v(\" \"),\n      _vm.show_file_browser && !_vm.disable_file_browser\n        ? _c(\"FileBrowser\", {\n            ref: \"file_browser\",\n            on: {\n              \"hide-browser\": function($event) {\n                _vm.show_file_browser = false\n              }\n            }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.show_web_link\n        ? _c(\"WebLink\", {\n            ref: \"web_link\",\n            on: {\n              \"hide-web-link\": function($event) {\n                _vm.show_web_link = false\n              }\n            }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-73c7ba79_0\", { source: \"\\n.file-upload-area {\\n\\tmin-height: 16rem;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px dashed var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n\\tcursor: pointer;\\n\\tbackground-color: var(--bg-color);\\n}\\n.btn-file-upload {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tbox-shadow: none;\\n\\tfont-size: var(--text-xs);\\n}\\n\", map: {\"version\":3,\"sources\":[\"../frontend/frontend/public/js/upload/file_uploader/FileUploader.vue\"],\"names\":[],\"mappings\":\";AAgcA;CACA,iBAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;CACA,2CAAA;CACA,mCAAA;CACA,eAAA;CACA,iCAAA;AACA;AAEA;CACA,6BAAA;CACA,YAAA;CACA,gBAAA;CACA,yBAAA;AACA\",\"file\":\"FileUploader.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-uploader\\\"\\n\\t\\t@dragover.prevent=\\\"dragover\\\"\\n\\t\\t@dragleave.prevent=\\\"dragleave\\\"\\n\\t\\t@drop.prevent=\\\"dropfiles\\\"\\n\\t>\\n\\t\\t<div\\n\\t\\t\\tclass=\\\"file-upload-area\\\"\\n\\t\\t\\tv-show=\\\"files.length === 0 && !show_file_browser && !show_web_link\\\"\\n\\t\\t>\\n\\t\\t\\t<div v-if=\\\"!is_dragging\\\">\\n\\t\\t\\t\\t<div class=\\\"text-center\\\">\\n\\t\\t\\t\\t\\t{{ __('Drag and drop files here or upload from') }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"mt-2 text-center\\\">\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" @click=\\\"browse_files\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"url(#paint0_linear)\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.5 22V19\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M16.5 22V19\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M10.5 22H19.5\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M7.5 16H22.5\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M21 8H9C8.17157 8 7.5 8.67157 7.5 9.5V17.5C7.5 18.3284 8.17157 19 9 19H21C21.8284 19 22.5 18.3284 22.5 17.5V9.5C22.5 8.67157 21.8284 8 21 8Z\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<defs>\\n\\t\\t\\t\\t\\t\\t\\t<linearGradient id=\\\"paint0_linear\\\" x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"0\\\" y2=\\\"30\\\" gradientUnits=\\\"userSpaceOnUse\\\">\\n\\t\\t\\t\\t\\t\\t\\t<stop stop-color=\\\"#2C9AF1\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<stop offset=\\\"1\\\" stop-color=\\\"#2490EF\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</linearGradient>\\n\\t\\t\\t\\t\\t\\t\\t</defs>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('My Device') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\ttype=\\\"file\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"hidden\\\"\\n\\t\\t\\t\\t\\t\\tref=\\\"file_input\\\"\\n\\t\\t\\t\\t\\t\\t@change=\\\"on_file_input\\\"\\n\\t\\t\\t\\t\\t\\t:multiple=\\\"allow_multiple\\\"\\n\\t\\t\\t\\t\\t\\t:accept=\\\"restrictions.allowed_file_types.join(', ')\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" v-if=\\\"!disable_file_browser\\\" @click=\\\"show_file_browser = true\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#48BB74\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.0245 11.5H8C7.72386 11.5 7.5 11.7239 7.5 12V20C7.5 21.1046 8.39543 22 9.5 22H20.5C21.6046 22 22.5 21.1046 22.5 20V14.5C22.5 14.2239 22.2761 14 22 14H15.2169C15.0492 14 14.8926 13.9159 14.8 13.776L13.4414 11.724C13.3488 11.5841 13.1922 11.5 13.0245 11.5Z\\\" stroke=\\\"white\\\" stroke-miterlimit=\\\"10\\\" stroke-linecap=\\\"square\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M8.87939 9.5V8.5C8.87939 8.22386 9.10325 8 9.37939 8H20.6208C20.8969 8 21.1208 8.22386 21.1208 8.5V12\\\" stroke=\\\"white\\\" stroke-miterlimit=\\\"10\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Library') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" @click=\\\"show_web_link = true\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#ECAC4B\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M12.0469 17.9543L17.9558 12.0454\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.8184 11.4547L15.7943 9.47873C16.4212 8.85205 17.2714 8.5 18.1578 8.5C19.0443 8.5 19.8945 8.85205 20.5214 9.47873V9.47873C21.1481 10.1057 21.5001 10.9558 21.5001 11.8423C21.5001 12.7287 21.1481 13.5789 20.5214 14.2058L18.5455 16.1818\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M11.4547 13.8184L9.47873 15.7943C8.85205 16.4212 8.5 17.2714 8.5 18.1578C8.5 19.0443 8.85205 19.8945 9.47873 20.5214V20.5214C10.1057 21.1481 10.9558 21.5001 11.8423 21.5001C12.7287 21.5001 13.5789 21.1481 14.2058 20.5214L16.1818 18.5455\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Link') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button v-if=\\\"allow_take_photo\\\" class=\\\"btn btn-file-upload\\\" @click=\\\"capture_image\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#CE315B\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M11.5 10.5H9.5C8.67157 10.5 8 11.1716 8 12V20C8 20.8284 8.67157 21.5 9.5 21.5H20.5C21.3284 21.5 22 20.8284 22 20V12C22 11.1716 21.3284 10.5 20.5 10.5H18.5L17.3 8.9C17.1111 8.64819 16.8148 8.5 16.5 8.5H13.5C13.1852 8.5 12.8889 8.64819 12.7 8.9L11.5 10.5Z\\\" stroke=\\\"white\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"16\\\" r=\\\"2.5\\\" stroke=\\\"white\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Camera') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"text-muted text-medium\\\">\\n\\t\\t\\t\\t\\t{{ upload_notes }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t{{ __('Drop files here') }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-preview-area\\\" v-show=\\\"files.length && !show_file_browser && !show_web_link\\\">\\n\\t\\t\\t<div class=\\\"file-preview-container\\\">\\n\\t\\t\\t\\t<FilePreview\\n\\t\\t\\t\\t\\tv-for=\\\"(file, i) in files\\\"\\n\\t\\t\\t\\t\\t:key=\\\"file.name\\\"\\n\\t\\t\\t\\t\\t:file=\\\"file\\\"\\n\\t\\t\\t\\t\\t@remove=\\\"remove_file(file)\\\"\\n\\t\\t\\t\\t\\t@toggle_private=\\\"file.private = !file.private\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"flex align-center\\\" v-if=\\\"show_upload_button && currently_uploading === -1\\\">\\n\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\tclass=\\\"btn btn-primary btn-sm margin-right\\\"\\n\\t\\t\\t\\t\\t@click=\\\"upload_files\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<span v-if=\\\"files.length === 1\\\">\\n\\t\\t\\t\\t\\t\\t{{ __('Upload file') }}\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span v-else>\\n\\t\\t\\t\\t\\t\\t{{ __('Upload {0} files', [files.length]) }}\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<div class=\\\"text-muted text-medium\\\">\\n\\t\\t\\t\\t\\t{{ __('Click on the lock icon to toggle public/private') }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<FileBrowser\\n\\t\\t\\tref=\\\"file_browser\\\"\\n\\t\\t\\tv-if=\\\"show_file_browser && !disable_file_browser\\\"\\n\\t\\t\\t@hide-browser=\\\"show_file_browser = false\\\"\\n\\t\\t/>\\n\\t\\t<WebLink\\n\\t\\t\\tref=\\\"web_link\\\"\\n\\t\\t\\tv-if=\\\"show_web_link\\\"\\n\\t\\t\\t@hide-web-link=\\\"show_web_link = false\\\"\\n\\t\\t/>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport FilePreview from './FilePreview.vue';\\nimport FileBrowser from './FileBrowser.vue';\\nimport WebLink from './WebLink.vue';\\n\\nexport default {\\n\\tname: 'FileUploader',\\n\\tprops: {\\n\\t\\tshow_upload_button: {\\n\\t\\t\\tdefault: true\\n\\t\\t},\\n\\t\\tdisable_file_browser: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tallow_multiple: {\\n\\t\\t\\tdefault: true\\n\\t\\t},\\n\\t\\tas_dataurl: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tdoctype: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tdocname: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tfieldname: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tfolder: {\\n\\t\\t\\tdefault: 'Home'\\n\\t\\t},\\n\\t\\tmethod: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\ton_success: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\trestrictions: {\\n\\t\\t\\tdefault: () => ({\\n\\t\\t\\t\\tmax_file_size: null, // 2048 -> 2KB\\n\\t\\t\\t\\tmax_number_of_files: null,\\n\\t\\t\\t\\tallowed_file_types: [] // ['image/*', 'video/*', '.jpg', '.gif', '.pdf']\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tupload_notes: {\\n\\t\\t\\tdefault: null // \\\"Images or video, upto 2MB\\\"\\n\\t\\t}\\n\\t},\\n\\tcomponents: {\\n\\t\\tFilePreview,\\n\\t\\tFileBrowser,\\n\\t\\tWebLink\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tfiles: [],\\n\\t\\t\\tis_dragging: false,\\n\\t\\t\\tcurrently_uploading: -1,\\n\\t\\t\\tshow_file_browser: false,\\n\\t\\t\\tshow_web_link: false,\\n\\t\\t}\\n\\t},\\n\\twatch: {\\n\\t\\tfiles(newvalue, oldvalue) {\\n\\t\\t\\tif (!this.allow_multiple && newvalue.length > 1) {\\n\\t\\t\\t\\tthis.files = [newvalue[newvalue.length - 1]];\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tupload_complete() {\\n\\t\\t\\treturn this.files.length > 0\\n\\t\\t\\t\\t&& this.files.every(\\n\\t\\t\\t\\t\\tfile => file.total !== 0 && file.progress === file.total);\\n\\t\\t},\\n\\t\\tallow_take_photo() {\\n\\t\\t\\treturn window.navigator.mediaDevices;\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tdragover() {\\n\\t\\t\\tthis.is_dragging = true;\\n\\t\\t},\\n\\t\\tdragleave() {\\n\\t\\t\\tthis.is_dragging = false;\\n\\t\\t},\\n\\t\\tdropfiles(e) {\\n\\t\\t\\tthis.is_dragging = false;\\n\\t\\t\\tthis.add_files(e.dataTransfer.files);\\n\\t\\t},\\n\\t\\tbrowse_files() {\\n\\t\\t\\tthis.$refs.file_input.click();\\n\\t\\t},\\n\\t\\ton_file_input(e) {\\n\\t\\t\\tthis.add_files(this.$refs.file_input.files);\\n\\t\\t},\\n\\t\\tremove_file(file) {\\n\\t\\t\\tthis.files = this.files.filter(f => f !== file);\\n\\t\\t},\\n\\t\\ttoggle_all_private() {\\n\\t\\t\\tlet flag;\\n\\t\\t\\tlet private_values = this.files.filter(file => file.private);\\n\\t\\t\\tif (private_values.length < this.files.length) {\\n\\t\\t\\t\\t// there are some private and some public\\n\\t\\t\\t\\t// set all to private\\n\\t\\t\\t\\tflag = true;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// all are private, set all to public\\n\\t\\t\\t\\tflag = false;\\n\\t\\t\\t}\\n\\t\\t\\tthis.files = this.files.map(file => {\\n\\t\\t\\t\\tfile.private = flag;\\n\\t\\t\\t\\treturn file;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tadd_files(file_array) {\\n\\t\\t\\tlet files = Array.from(file_array)\\n\\t\\t\\t\\t.filter(this.check_restrictions)\\n\\t\\t\\t\\t.map(file => {\\n\\t\\t\\t\\t\\tlet is_image = file.type.startsWith('image');\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tfile_obj: file,\\n\\t\\t\\t\\t\\t\\tname: file.name,\\n\\t\\t\\t\\t\\t\\tdoc: null,\\n\\t\\t\\t\\t\\t\\tprogress: 0,\\n\\t\\t\\t\\t\\t\\ttotal: 0,\\n\\t\\t\\t\\t\\t\\tfailed: false,\\n\\t\\t\\t\\t\\t\\tuploading: false,\\n\\t\\t\\t\\t\\t\\tprivate: !is_image\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\tthis.files = this.files.concat(files);\\n\\t\\t},\\n\\t\\tcheck_restrictions(file) {\\n\\t\\t\\tlet { max_file_size, allowed_file_types } = this.restrictions;\\n\\n\\t\\t\\tlet mime_type = file.type;\\n\\t\\t\\tlet extension = '.' + file.name.split('.').pop();\\n\\n\\t\\t\\tlet is_correct_type = true;\\n\\t\\t\\tlet valid_file_size = true;\\n\\n\\t\\t\\tif (allowed_file_types.length) {\\n\\t\\t\\t\\tis_correct_type = allowed_file_types.some((type) => {\\n\\t\\t\\t\\t\\t// is this is a mime-type\\n\\t\\t\\t\\t\\tif (type.includes('/')) {\\n\\t\\t\\t\\t\\t\\tif (!file.type) return false;\\n\\t\\t\\t\\t\\t\\treturn file.type.match(type);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// otherwise this is likely an extension\\n\\t\\t\\t\\t\\tif (type[0] === '.') {\\n\\t\\t\\t\\t\\t\\treturn file.name.endsWith(type);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (max_file_size && file.size != null) {\\n\\t\\t\\t\\tvalid_file_size = file.size < max_file_size;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!is_correct_type) {\\n\\t\\t\\t\\tconsole.warn('File skipped because of invalid file type', file);\\n\\t\\t\\t}\\n\\t\\t\\tif (!valid_file_size) {\\n\\t\\t\\t\\tconsole.warn('File skipped because of invalid file size', file.size, file);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn is_correct_type && valid_file_size;\\n\\t\\t},\\n\\t\\tupload_files() {\\n\\t\\t\\tif (this.show_file_browser) {\\n\\t\\t\\t\\treturn this.upload_via_file_browser();\\n\\t\\t\\t}\\n\\t\\t\\tif (this.show_web_link) {\\n\\t\\t\\t\\treturn this.upload_via_web_link();\\n\\t\\t\\t}\\n\\t\\t\\tif (this.as_dataurl) {\\n\\t\\t\\t\\treturn this.return_as_dataurl();\\n\\t\\t\\t}\\n\\t\\t\\treturn frappe.run_serially(\\n\\t\\t\\t\\tthis.files.map(\\n\\t\\t\\t\\t\\t(file, i) =>\\n\\t\\t\\t\\t\\t\\t() => this.upload_file(file, i)\\n\\t\\t\\t\\t)\\n\\t\\t\\t);\\n\\t\\t},\\n\\t\\tupload_via_file_browser() {\\n\\t\\t\\tlet selected_file = this.$refs.file_browser.selected_node;\\n\\t\\t\\tif (!selected_file.value) {\\n\\t\\t\\t\\tfrappe.msgprint(__('Click on a file to select it.'));\\n\\t\\t\\t\\treturn Promise.reject();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.upload_file({\\n\\t\\t\\t\\tfile_url: selected_file.file_url\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tupload_via_web_link() {\\n\\t\\t\\tlet file_url = this.$refs.web_link.url;\\n\\t\\t\\tif (!file_url) {\\n\\t\\t\\t\\tfrappe.msgprint(__('Invalid URL'));\\n\\t\\t\\t\\treturn Promise.reject();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.upload_file({\\n\\t\\t\\t\\tfile_url\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\treturn_as_dataurl() {\\n\\t\\t\\tlet promises = this.files.map(file =>\\n\\t\\t\\t\\tfrappe.dom.file_to_base64(file.file_obj)\\n\\t\\t\\t\\t\\t.then(dataurl => {\\n\\t\\t\\t\\t\\t\\tfile.dataurl = dataurl;\\n\\t\\t\\t\\t\\t\\tthis.on_success && this.on_success(file);\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t);\\n\\t\\t\\treturn Promise.all(promises);\\n\\t\\t},\\n\\t\\tupload_file(file, i) {\\n\\t\\t\\tthis.currently_uploading = i;\\n\\n\\t\\t\\treturn new Promise((resolve, reject) => {\\n\\t\\t\\t\\tlet xhr = new XMLHttpRequest();\\n\\t\\t\\t\\txhr.upload.addEventListener('loadstart', (e) => {\\n\\t\\t\\t\\t\\tfile.uploading = true;\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.upload.addEventListener('progress', (e) => {\\n\\t\\t\\t\\t\\tif (e.lengthComputable) {\\n\\t\\t\\t\\t\\t\\tfile.progress = e.loaded;\\n\\t\\t\\t\\t\\t\\tfile.total = e.total;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.upload.addEventListener('load', (e) => {\\n\\t\\t\\t\\t\\tfile.uploading = false;\\n\\t\\t\\t\\t\\tresolve();\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.addEventListener('error', (e) => {\\n\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\treject();\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.onreadystatechange = () => {\\n\\t\\t\\t\\t\\tif (xhr.readyState == XMLHttpRequest.DONE) {\\n\\t\\t\\t\\t\\t\\tif (xhr.status === 200) {\\n\\t\\t\\t\\t\\t\\t\\tlet r = null;\\n\\t\\t\\t\\t\\t\\t\\tlet file_doc = null;\\n\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\tr = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\t\\tif (r.message.doctype === 'File') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tfile_doc = r.message;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t} catch(e) {\\n\\t\\t\\t\\t\\t\\t\\t\\tr = xhr.responseText;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tfile.doc = file_doc;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (this.on_success) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.on_success(file_doc, r);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t} else if (xhr.status === 403) {\\n\\t\\t\\t\\t\\t\\t\\tlet response = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\tfrappe.msgprint({\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle: __('Not permitted'),\\n\\t\\t\\t\\t\\t\\t\\t\\tindicator: 'red',\\n\\t\\t\\t\\t\\t\\t\\t\\tmessage: response._error_message\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\t\\t\\tlet error = null;\\n\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\terror = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\t} catch(e) {\\n\\t\\t\\t\\t\\t\\t\\t\\t// pass\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\tfrappe.request.cleanup({}, error);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\txhr.open('POST', '/api/method/frontend.api.file.fileupload.upload_file', true);\\n\\t\\t\\t\\txhr.setRequestHeader('Accept', 'application/json');\\n\\t\\t\\t\\txhr.setRequestHeader('X-Frappe-CSRF-Token', frappe.csrf_token);\\n\\n\\t\\t\\t\\tlet form_data = new FormData();\\n\\t\\t\\t\\tif (file.file_obj) {\\n\\t\\t\\t\\t\\tform_data.append('file', file.file_obj, file.name);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tform_data.append('is_private', +file.private);\\n\\t\\t\\t\\tform_data.append('folder', this.folder);\\n\\n\\t\\t\\t\\tif (file.file_url) {\\n\\t\\t\\t\\t\\tform_data.append('file_url', file.file_url);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.doctype && this.docname) {\\n\\t\\t\\t\\t\\tform_data.append('doctype', this.doctype);\\n\\t\\t\\t\\t\\tform_data.append('docname', this.docname);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.fieldname) {\\n\\t\\t\\t\\t\\tform_data.append('fieldname', this.fieldname);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.method) {\\n\\t\\t\\t\\t\\tform_data.append('method', this.method);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\txhr.send(form_data);\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tcapture_image() {\\n\\t\\t\\tconst capture = new frappe.ui.Capture({\\n\\t\\t\\t\\tanimate: false,\\n\\t\\t\\t\\terror: true\\n\\t\\t\\t});\\n\\t\\t\\tcapture.show();\\n\\t\\t\\tcapture.submit(data_url => {\\n\\t\\t\\t\\tlet filename = `capture_${frappe.datetime.now_datetime().replaceAll(/[: -]/g, '_')}.png`;\\n\\t\\t\\t\\tthis.url_to_file(data_url, filename, 'image/png').then((file) =>\\n\\t\\t\\t\\t\\tthis.add_files([file])\\n\\t\\t\\t\\t);\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\turl_to_file(url, filename, mime_type) {\\n\\t\\t\\treturn fetch(url)\\n\\t\\t\\t\\t\\t.then(res => res.arrayBuffer())\\n\\t\\t\\t\\t\\t.then(buffer => new File([buffer], filename, { type: mime_type }));\\n\\t\\t},\\n\\t}\\n}\\n</script>\\n<style>\\n.file-upload-area {\\n\\tmin-height: 16rem;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px dashed var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n\\tcursor: pointer;\\n\\tbackground-color: var(--bg-color);\\n}\\n\\n.btn-file-upload {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tbox-shadow: none;\\n\\tfont-size: var(--text-xs);\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<div class=\\\"file-uploader\\\"\\n\\t\\t@dragover.prevent=\\\"dragover\\\"\\n\\t\\t@dragleave.prevent=\\\"dragleave\\\"\\n\\t\\t@drop.prevent=\\\"dropfiles\\\"\\n\\t>\\n\\t\\t<div\\n\\t\\t\\tclass=\\\"file-upload-area\\\"\\n\\t\\t\\tv-show=\\\"files.length === 0 && !show_file_browser && !show_web_link\\\"\\n\\t\\t>\\n\\t\\t\\t<div v-if=\\\"!is_dragging\\\">\\n\\t\\t\\t\\t<div class=\\\"text-center\\\">\\n\\t\\t\\t\\t\\t{{ __('Drag and drop files here or upload from') }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"mt-2 text-center\\\">\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" @click=\\\"browse_files\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"url(#paint0_linear)\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.5 22V19\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M16.5 22V19\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M10.5 22H19.5\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M7.5 16H22.5\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M21 8H9C8.17157 8 7.5 8.67157 7.5 9.5V17.5C7.5 18.3284 8.17157 19 9 19H21C21.8284 19 22.5 18.3284 22.5 17.5V9.5C22.5 8.67157 21.8284 8 21 8Z\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<defs>\\n\\t\\t\\t\\t\\t\\t\\t<linearGradient id=\\\"paint0_linear\\\" x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"0\\\" y2=\\\"30\\\" gradientUnits=\\\"userSpaceOnUse\\\">\\n\\t\\t\\t\\t\\t\\t\\t<stop stop-color=\\\"#2C9AF1\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<stop offset=\\\"1\\\" stop-color=\\\"#2490EF\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</linearGradient>\\n\\t\\t\\t\\t\\t\\t\\t</defs>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('My Device') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\ttype=\\\"file\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"hidden\\\"\\n\\t\\t\\t\\t\\t\\tref=\\\"file_input\\\"\\n\\t\\t\\t\\t\\t\\t@change=\\\"on_file_input\\\"\\n\\t\\t\\t\\t\\t\\t:multiple=\\\"allow_multiple\\\"\\n\\t\\t\\t\\t\\t\\t:accept=\\\"restrictions.allowed_file_types.join(', ')\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" v-if=\\\"!disable_file_browser\\\" @click=\\\"show_file_browser = true\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#48BB74\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.0245 11.5H8C7.72386 11.5 7.5 11.7239 7.5 12V20C7.5 21.1046 8.39543 22 9.5 22H20.5C21.6046 22 22.5 21.1046 22.5 20V14.5C22.5 14.2239 22.2761 14 22 14H15.2169C15.0492 14 14.8926 13.9159 14.8 13.776L13.4414 11.724C13.3488 11.5841 13.1922 11.5 13.0245 11.5Z\\\" stroke=\\\"white\\\" stroke-miterlimit=\\\"10\\\" stroke-linecap=\\\"square\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M8.87939 9.5V8.5C8.87939 8.22386 9.10325 8 9.37939 8H20.6208C20.8969 8 21.1208 8.22386 21.1208 8.5V12\\\" stroke=\\\"white\\\" stroke-miterlimit=\\\"10\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Library') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" @click=\\\"show_web_link = true\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#ECAC4B\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M12.0469 17.9543L17.9558 12.0454\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.8184 11.4547L15.7943 9.47873C16.4212 8.85205 17.2714 8.5 18.1578 8.5C19.0443 8.5 19.8945 8.85205 20.5214 9.47873V9.47873C21.1481 10.1057 21.5001 10.9558 21.5001 11.8423C21.5001 12.7287 21.1481 13.5789 20.5214 14.2058L18.5455 16.1818\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M11.4547 13.8184L9.47873 15.7943C8.85205 16.4212 8.5 17.2714 8.5 18.1578C8.5 19.0443 8.85205 19.8945 9.47873 20.5214V20.5214C10.1057 21.1481 10.9558 21.5001 11.8423 21.5001C12.7287 21.5001 13.5789 21.1481 14.2058 20.5214L16.1818 18.5455\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Link') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button v-if=\\\"allow_take_photo\\\" class=\\\"btn btn-file-upload\\\" @click=\\\"capture_image\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#CE315B\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M11.5 10.5H9.5C8.67157 10.5 8 11.1716 8 12V20C8 20.8284 8.67157 21.5 9.5 21.5H20.5C21.3284 21.5 22 20.8284 22 20V12C22 11.1716 21.3284 10.5 20.5 10.5H18.5L17.3 8.9C17.1111 8.64819 16.8148 8.5 16.5 8.5H13.5C13.1852 8.5 12.8889 8.64819 12.7 8.9L11.5 10.5Z\\\" stroke=\\\"white\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"16\\\" r=\\\"2.5\\\" stroke=\\\"white\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Camera') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"text-muted text-medium\\\">\\n\\t\\t\\t\\t\\t{{ upload_notes }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t{{ __('Drop files here') }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-preview-area\\\" v-show=\\\"files.length && !show_file_browser && !show_web_link\\\">\\n\\t\\t\\t<div class=\\\"file-preview-container\\\">\\n\\t\\t\\t\\t<FilePreview\\n\\t\\t\\t\\t\\tv-for=\\\"(file, i) in files\\\"\\n\\t\\t\\t\\t\\t:key=\\\"file.name\\\"\\n\\t\\t\\t\\t\\t:file=\\\"file\\\"\\n\\t\\t\\t\\t\\t@remove=\\\"remove_file(file)\\\"\\n\\t\\t\\t\\t\\t@toggle_private=\\\"file.private = !file.private\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"flex align-center\\\" v-if=\\\"show_upload_button && currently_uploading === -1\\\">\\n\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\tclass=\\\"btn btn-primary btn-sm margin-right\\\"\\n\\t\\t\\t\\t\\t@click=\\\"upload_files\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<span v-if=\\\"files.length === 1\\\">\\n\\t\\t\\t\\t\\t\\t{{ __('Upload file') }}\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span v-else>\\n\\t\\t\\t\\t\\t\\t{{ __('Upload {0} files', [files.length]) }}\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<div class=\\\"text-muted text-medium\\\">\\n\\t\\t\\t\\t\\t{{ __('Click on the lock icon to toggle public/private') }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<FileBrowser\\n\\t\\t\\tref=\\\"file_browser\\\"\\n\\t\\t\\tv-if=\\\"show_file_browser && !disable_file_browser\\\"\\n\\t\\t\\t@hide-browser=\\\"show_file_browser = false\\\"\\n\\t\\t/>\\n\\t\\t<WebLink\\n\\t\\t\\tref=\\\"web_link\\\"\\n\\t\\t\\tv-if=\\\"show_web_link\\\"\\n\\t\\t\\t@hide-web-link=\\\"show_web_link = false\\\"\\n\\t\\t/>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport FilePreview from './FilePreview.vue';\\nimport FileBrowser from './FileBrowser.vue';\\nimport WebLink from './WebLink.vue';\\n\\nexport default {\\n\\tname: 'FileUploader',\\n\\tprops: {\\n\\t\\tshow_upload_button: {\\n\\t\\t\\tdefault: true\\n\\t\\t},\\n\\t\\tdisable_file_browser: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tallow_multiple: {\\n\\t\\t\\tdefault: true\\n\\t\\t},\\n\\t\\tas_dataurl: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tdoctype: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tdocname: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tfieldname: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tfolder: {\\n\\t\\t\\tdefault: 'Home'\\n\\t\\t},\\n\\t\\tmethod: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\ton_success: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\trestrictions: {\\n\\t\\t\\tdefault: () => ({\\n\\t\\t\\t\\tmax_file_size: null, // 2048 -> 2KB\\n\\t\\t\\t\\tmax_number_of_files: null,\\n\\t\\t\\t\\tallowed_file_types: [] // ['image/*', 'video/*', '.jpg', '.gif', '.pdf']\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tupload_notes: {\\n\\t\\t\\tdefault: null // \\\"Images or video, upto 2MB\\\"\\n\\t\\t}\\n\\t},\\n\\tcomponents: {\\n\\t\\tFilePreview,\\n\\t\\tFileBrowser,\\n\\t\\tWebLink\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tfiles: [],\\n\\t\\t\\tis_dragging: false,\\n\\t\\t\\tcurrently_uploading: -1,\\n\\t\\t\\tshow_file_browser: false,\\n\\t\\t\\tshow_web_link: false,\\n\\t\\t}\\n\\t},\\n\\twatch: {\\n\\t\\tfiles(newvalue, oldvalue) {\\n\\t\\t\\tif (!this.allow_multiple && newvalue.length > 1) {\\n\\t\\t\\t\\tthis.files = [newvalue[newvalue.length - 1]];\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tupload_complete() {\\n\\t\\t\\treturn this.files.length > 0\\n\\t\\t\\t\\t&& this.files.every(\\n\\t\\t\\t\\t\\tfile => file.total !== 0 && file.progress === file.total);\\n\\t\\t},\\n\\t\\tallow_take_photo() {\\n\\t\\t\\treturn window.navigator.mediaDevices;\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tdragover() {\\n\\t\\t\\tthis.is_dragging = true;\\n\\t\\t},\\n\\t\\tdragleave() {\\n\\t\\t\\tthis.is_dragging = false;\\n\\t\\t},\\n\\t\\tdropfiles(e) {\\n\\t\\t\\tthis.is_dragging = false;\\n\\t\\t\\tthis.add_files(e.dataTransfer.files);\\n\\t\\t},\\n\\t\\tbrowse_files() {\\n\\t\\t\\tthis.$refs.file_input.click();\\n\\t\\t},\\n\\t\\ton_file_input(e) {\\n\\t\\t\\tthis.add_files(this.$refs.file_input.files);\\n\\t\\t},\\n\\t\\tremove_file(file) {\\n\\t\\t\\tthis.files = this.files.filter(f => f !== file);\\n\\t\\t},\\n\\t\\ttoggle_all_private() {\\n\\t\\t\\tlet flag;\\n\\t\\t\\tlet private_values = this.files.filter(file => file.private);\\n\\t\\t\\tif (private_values.length < this.files.length) {\\n\\t\\t\\t\\t// there are some private and some public\\n\\t\\t\\t\\t// set all to private\\n\\t\\t\\t\\tflag = true;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// all are private, set all to public\\n\\t\\t\\t\\tflag = false;\\n\\t\\t\\t}\\n\\t\\t\\tthis.files = this.files.map(file => {\\n\\t\\t\\t\\tfile.private = flag;\\n\\t\\t\\t\\treturn file;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tadd_files(file_array) {\\n\\t\\t\\tlet files = Array.from(file_array)\\n\\t\\t\\t\\t.filter(this.check_restrictions)\\n\\t\\t\\t\\t.map(file => {\\n\\t\\t\\t\\t\\tlet is_image = file.type.startsWith('image');\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tfile_obj: file,\\n\\t\\t\\t\\t\\t\\tname: file.name,\\n\\t\\t\\t\\t\\t\\tdoc: null,\\n\\t\\t\\t\\t\\t\\tprogress: 0,\\n\\t\\t\\t\\t\\t\\ttotal: 0,\\n\\t\\t\\t\\t\\t\\tfailed: false,\\n\\t\\t\\t\\t\\t\\tuploading: false,\\n\\t\\t\\t\\t\\t\\tprivate: !is_image\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\tthis.files = this.files.concat(files);\\n\\t\\t},\\n\\t\\tcheck_restrictions(file) {\\n\\t\\t\\tlet { max_file_size, allowed_file_types } = this.restrictions;\\n\\n\\t\\t\\tlet mime_type = file.type;\\n\\t\\t\\tlet extension = '.' + file.name.split('.').pop();\\n\\n\\t\\t\\tlet is_correct_type = true;\\n\\t\\t\\tlet valid_file_size = true;\\n\\n\\t\\t\\tif (allowed_file_types.length) {\\n\\t\\t\\t\\tis_correct_type = allowed_file_types.some((type) => {\\n\\t\\t\\t\\t\\t// is this is a mime-type\\n\\t\\t\\t\\t\\tif (type.includes('/')) {\\n\\t\\t\\t\\t\\t\\tif (!file.type) return false;\\n\\t\\t\\t\\t\\t\\treturn file.type.match(type);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// otherwise this is likely an extension\\n\\t\\t\\t\\t\\tif (type[0] === '.') {\\n\\t\\t\\t\\t\\t\\treturn file.name.endsWith(type);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (max_file_size && file.size != null) {\\n\\t\\t\\t\\tvalid_file_size = file.size < max_file_size;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!is_correct_type) {\\n\\t\\t\\t\\tconsole.warn('File skipped because of invalid file type', file);\\n\\t\\t\\t}\\n\\t\\t\\tif (!valid_file_size) {\\n\\t\\t\\t\\tconsole.warn('File skipped because of invalid file size', file.size, file);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn is_correct_type && valid_file_size;\\n\\t\\t},\\n\\t\\tupload_files() {\\n\\t\\t\\tif (this.show_file_browser) {\\n\\t\\t\\t\\treturn this.upload_via_file_browser();\\n\\t\\t\\t}\\n\\t\\t\\tif (this.show_web_link) {\\n\\t\\t\\t\\treturn this.upload_via_web_link();\\n\\t\\t\\t}\\n\\t\\t\\tif (this.as_dataurl) {\\n\\t\\t\\t\\treturn this.return_as_dataurl();\\n\\t\\t\\t}\\n\\t\\t\\treturn frappe.run_serially(\\n\\t\\t\\t\\tthis.files.map(\\n\\t\\t\\t\\t\\t(file, i) =>\\n\\t\\t\\t\\t\\t\\t() => this.upload_file(file, i)\\n\\t\\t\\t\\t)\\n\\t\\t\\t);\\n\\t\\t},\\n\\t\\tupload_via_file_browser() {\\n\\t\\t\\tlet selected_file = this.$refs.file_browser.selected_node;\\n\\t\\t\\tif (!selected_file.value) {\\n\\t\\t\\t\\tfrappe.msgprint(__('Click on a file to select it.'));\\n\\t\\t\\t\\treturn Promise.reject();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.upload_file({\\n\\t\\t\\t\\tfile_url: selected_file.file_url\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tupload_via_web_link() {\\n\\t\\t\\tlet file_url = this.$refs.web_link.url;\\n\\t\\t\\tif (!file_url) {\\n\\t\\t\\t\\tfrappe.msgprint(__('Invalid URL'));\\n\\t\\t\\t\\treturn Promise.reject();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.upload_file({\\n\\t\\t\\t\\tfile_url\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\treturn_as_dataurl() {\\n\\t\\t\\tlet promises = this.files.map(file =>\\n\\t\\t\\t\\tfrappe.dom.file_to_base64(file.file_obj)\\n\\t\\t\\t\\t\\t.then(dataurl => {\\n\\t\\t\\t\\t\\t\\tfile.dataurl = dataurl;\\n\\t\\t\\t\\t\\t\\tthis.on_success && this.on_success(file);\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t);\\n\\t\\t\\treturn Promise.all(promises);\\n\\t\\t},\\n\\t\\tupload_file(file, i) {\\n\\t\\t\\tthis.currently_uploading = i;\\n\\n\\t\\t\\treturn new Promise((resolve, reject) => {\\n\\t\\t\\t\\tlet xhr = new XMLHttpRequest();\\n\\t\\t\\t\\txhr.upload.addEventListener('loadstart', (e) => {\\n\\t\\t\\t\\t\\tfile.uploading = true;\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.upload.addEventListener('progress', (e) => {\\n\\t\\t\\t\\t\\tif (e.lengthComputable) {\\n\\t\\t\\t\\t\\t\\tfile.progress = e.loaded;\\n\\t\\t\\t\\t\\t\\tfile.total = e.total;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.upload.addEventListener('load', (e) => {\\n\\t\\t\\t\\t\\tfile.uploading = false;\\n\\t\\t\\t\\t\\tresolve();\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.addEventListener('error', (e) => {\\n\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\treject();\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.onreadystatechange = () => {\\n\\t\\t\\t\\t\\tif (xhr.readyState == XMLHttpRequest.DONE) {\\n\\t\\t\\t\\t\\t\\tif (xhr.status === 200) {\\n\\t\\t\\t\\t\\t\\t\\tlet r = null;\\n\\t\\t\\t\\t\\t\\t\\tlet file_doc = null;\\n\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\tr = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\t\\tif (r.message.doctype === 'File') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tfile_doc = r.message;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t} catch(e) {\\n\\t\\t\\t\\t\\t\\t\\t\\tr = xhr.responseText;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tfile.doc = file_doc;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (this.on_success) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.on_success(file_doc, r);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t} else if (xhr.status === 403) {\\n\\t\\t\\t\\t\\t\\t\\tlet response = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\tfrappe.msgprint({\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle: __('Not permitted'),\\n\\t\\t\\t\\t\\t\\t\\t\\tindicator: 'red',\\n\\t\\t\\t\\t\\t\\t\\t\\tmessage: response._error_message\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\t\\t\\tlet error = null;\\n\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\terror = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\t} catch(e) {\\n\\t\\t\\t\\t\\t\\t\\t\\t// pass\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\tfrappe.request.cleanup({}, error);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\txhr.open('POST', '/api/method/frontend.api.file.fileupload.upload_file', true);\\n\\t\\t\\t\\txhr.setRequestHeader('Accept', 'application/json');\\n\\t\\t\\t\\txhr.setRequestHeader('X-Frappe-CSRF-Token', frappe.csrf_token);\\n\\n\\t\\t\\t\\tlet form_data = new FormData();\\n\\t\\t\\t\\tif (file.file_obj) {\\n\\t\\t\\t\\t\\tform_data.append('file', file.file_obj, file.name);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tform_data.append('is_private', +file.private);\\n\\t\\t\\t\\tform_data.append('folder', this.folder);\\n\\n\\t\\t\\t\\tif (file.file_url) {\\n\\t\\t\\t\\t\\tform_data.append('file_url', file.file_url);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.doctype && this.docname) {\\n\\t\\t\\t\\t\\tform_data.append('doctype', this.doctype);\\n\\t\\t\\t\\t\\tform_data.append('docname', this.docname);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.fieldname) {\\n\\t\\t\\t\\t\\tform_data.append('fieldname', this.fieldname);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.method) {\\n\\t\\t\\t\\t\\tform_data.append('method', this.method);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\txhr.send(form_data);\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tcapture_image() {\\n\\t\\t\\tconst capture = new frappe.ui.Capture({\\n\\t\\t\\t\\tanimate: false,\\n\\t\\t\\t\\terror: true\\n\\t\\t\\t});\\n\\t\\t\\tcapture.show();\\n\\t\\t\\tcapture.submit(data_url => {\\n\\t\\t\\t\\tlet filename = `capture_${frappe.datetime.now_datetime().replaceAll(/[: -]/g, '_')}.png`;\\n\\t\\t\\t\\tthis.url_to_file(data_url, filename, 'image/png').then((file) =>\\n\\t\\t\\t\\t\\tthis.add_files([file])\\n\\t\\t\\t\\t);\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\turl_to_file(url, filename, mime_type) {\\n\\t\\t\\treturn fetch(url)\\n\\t\\t\\t\\t\\t.then(res => res.arrayBuffer())\\n\\t\\t\\t\\t\\t.then(buffer => new File([buffer], filename, { type: mime_type }));\\n\\t\\t},\\n\\t}\\n}\\n</script>\\n<style>\\n.file-upload-area {\\n\\tmin-height: 16rem;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px dashed var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n\\tcursor: pointer;\\n\\tbackground-color: var(--bg-color);\\n}\\n\\n.btn-file-upload {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tbox-shadow: none;\\n\\tfont-size: var(--text-xs);\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "import FileUploaderComponent from './FileUploader.vue';\n\nexport default class FileUploaderCustom {\n    constructor({\n        wrapper,\n        method,\n        on_success,\n        doctype,\n        docname,\n        fieldname,\n        files,\n        folder,\n        restrictions,\n        upload_notes,\n        allow_multiple,\n        as_dataurl,\n        disable_file_browser,\n        frm\n    } = {}) {\n\n        frm && frm.attachments.max_reached(true);\n\n        if (!wrapper) {\n            this.make_dialog();\n        } else {\n            this.wrapper = wrapper.get ? wrapper.get(0) : wrapper;\n        }\n\n        this.$fileuploader = new Vue({\n            el: this.wrapper,\n            render: h => h(FileUploaderComponent, {\n                props: {\n                    show_upload_button: !Boolean(this.dialog),\n                    doctype,\n                    docname,\n                    fieldname,\n                    method,\n                    folder,\n                    on_success,\n                    restrictions,\n                    upload_notes,\n                    allow_multiple,\n                    as_dataurl,\n                    disable_file_browser,\n                }\n            })\n        });\n\n        this.uploader = this.$fileuploader.$children[0];\n\n        this.uploader.$watch('files', (files) => {\n            let all_private = files.every(file => file.private);\n            if (this.dialog) {\n                this.dialog.set_secondary_action_label(all_private ? __('Set all public') : __('Set all private'));\n            }\n        }, { deep: true });\n\n        if (files && files.length) {\n            this.uploader.add_files(files);\n        }\n    }\n\n    upload_files() {\n        this.dialog && this.dialog.get_primary_btn().prop('disabled', true);\n        return this.uploader.upload_files()\n            .then(() => {\n                this.dialog && this.dialog.hide();\n            });\n    }\n\n    make_dialog() {\n        this.dialog = new frappe.ui.Dialog({\n            title: __('Upload'),\n            primary_action_label: __('Upload'),\n            primary_action: () => this.upload_files(),\n            secondary_action_label: __('Set all private'),\n            secondary_action: () => {\n                this.uploader.toggle_all_private();\n            }\n        });\n\n        this.wrapper = this.dialog.body;\n        this.dialog.show();\n        this.dialog.$wrapper.on('hidden.bs.modal', function() {\n            $(this).data('bs.modal', null);\n            $(this).remove();\n        });\n    }\n}", "import FileUploaderCustom from './file_uploader';\nfrappe.provide('frappe.ui');\nfrappe.ui.FileUploaderCustom = FileUploaderCustom;"],
  "mappings": "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A;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAo1f,OAAO;AAAA;AAI5khB,MAAM,oBAAmB;AAEzB,MAAM,6BAA4B;AAElC,MAAM,kCAAiC;AAEvC,8BACE,UAAU,OAAO,QACjB,OAAO,YAAY,kBAAkB,YACrC,gBAAgB,mBAAmB,sBACnC;AACA,UAAM,YAAa,QAAO,WAAW,aAAa,OAAO,UAAU,WAAW;AAG9E,cAAU,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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",
  "names": []
}
